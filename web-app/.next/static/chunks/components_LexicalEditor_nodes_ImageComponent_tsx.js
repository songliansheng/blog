"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["components_LexicalEditor_nodes_ImageComponent_tsx"],{

/***/ "./node_modules/@lexical/react/LexicalNestedComposer.dev.js":
/*!******************************************************************!*\
  !*** ./node_modules/@lexical/react/LexicalNestedComposer.dev.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar LexicalCollaborationContext = __webpack_require__(/*! @lexical/react/LexicalCollaborationContext */ \"./node_modules/@lexical/react/LexicalCollaborationContext.js\");\nvar LexicalComposerContext = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"./node_modules/@lexical/react/LexicalComposerContext.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nfunction LexicalNestedComposer({\n  initialEditor,\n  children,\n  initialNodes,\n  initialTheme,\n  skipCollabChecks\n}) {\n  const wasCollabPreviouslyReadyRef = React.useRef(false);\n  const parentContext = React.useContext(LexicalComposerContext.LexicalComposerContext);\n\n  if (parentContext == null) {\n    {\n      throw Error(`Unexpected parent context null on a nested composer`);\n    }\n  }\n\n  const [parentEditor, {\n    getTheme: getParentTheme\n  }] = parentContext;\n  const composerContext = React.useMemo(() => {\n    const composerTheme = initialTheme || getParentTheme() || undefined;\n    const context = LexicalComposerContext.createLexicalComposerContext(parentContext, composerTheme);\n\n    if (composerTheme !== undefined) {\n      initialEditor._config.theme = composerTheme;\n    }\n\n    initialEditor._parentEditor = parentEditor;\n\n    if (!initialNodes) {\n      const parentNodes = initialEditor._nodes = new Map(parentEditor._nodes);\n\n      for (const [type, entry] of parentNodes) {\n        initialEditor._nodes.set(type, {\n          klass: entry.klass,\n          replace: entry.replace,\n          transforms: new Set()\n        });\n      }\n    } else {\n      for (const klass of initialNodes) {\n        const type = klass.getType();\n\n        initialEditor._nodes.set(type, {\n          klass,\n          replace: null,\n          transforms: new Set()\n        });\n      }\n    }\n\n    initialEditor._config.namespace = parentEditor._config.namespace;\n    return [initialEditor, context];\n  }, // We only do this for init\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []); // If collaboration is enabled, make sure we don't render the children until the collaboration subdocument is ready.\n\n  const {\n    isCollabActive,\n    yjsDocMap\n  } = LexicalCollaborationContext.useCollaborationContext();\n  const isCollabReady = skipCollabChecks || wasCollabPreviouslyReadyRef.current || yjsDocMap.has(initialEditor.getKey());\n  React.useEffect(() => {\n    if (isCollabReady) {\n      wasCollabPreviouslyReadyRef.current = true;\n    }\n  }, [isCollabReady]); // Update `isEditable` state of nested editor in response to the same change on parent editor.\n\n  React.useEffect(() => {\n    return parentEditor.registerEditableListener(editable => {\n      initialEditor.setEditable(editable);\n    });\n  }, [initialEditor, parentEditor]);\n  return /*#__PURE__*/React.createElement(LexicalComposerContext.LexicalComposerContext.Provider, {\n    value: composerContext\n  }, !isCollabActive || isCollabReady ? children : null);\n}\n\nexports.LexicalNestedComposer = LexicalNestedComposer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGxleGljYWwvcmVhY3QvTGV4aWNhbE5lc3RlZENvbXBvc2VyLmRldi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTs7QUFFYixrQ0FBa0MsbUJBQU8sQ0FBQyxnSEFBNEM7QUFDdEYsNkJBQTZCLG1CQUFPLENBQUMsc0dBQXVDO0FBQzVFLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxvQkFBb0I7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSw2QkFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsZXhpY2FsL3JlYWN0L0xleGljYWxOZXN0ZWRDb21wb3Nlci5kZXYuanM/ODNkNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIExleGljYWxDb2xsYWJvcmF0aW9uQ29udGV4dCA9IHJlcXVpcmUoJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb2xsYWJvcmF0aW9uQ29udGV4dCcpO1xudmFyIExleGljYWxDb21wb3NlckNvbnRleHQgPSByZXF1aXJlKCdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0Jyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5mdW5jdGlvbiBMZXhpY2FsTmVzdGVkQ29tcG9zZXIoe1xuICBpbml0aWFsRWRpdG9yLFxuICBjaGlsZHJlbixcbiAgaW5pdGlhbE5vZGVzLFxuICBpbml0aWFsVGhlbWUsXG4gIHNraXBDb2xsYWJDaGVja3Ncbn0pIHtcbiAgY29uc3Qgd2FzQ29sbGFiUHJldmlvdXNseVJlYWR5UmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgcGFyZW50Q29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTGV4aWNhbENvbXBvc2VyQ29udGV4dC5MZXhpY2FsQ29tcG9zZXJDb250ZXh0KTtcblxuICBpZiAocGFyZW50Q29udGV4dCA9PSBudWxsKSB7XG4gICAge1xuICAgICAgdGhyb3cgRXJyb3IoYFVuZXhwZWN0ZWQgcGFyZW50IGNvbnRleHQgbnVsbCBvbiBhIG5lc3RlZCBjb21wb3NlcmApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IFtwYXJlbnRFZGl0b3IsIHtcbiAgICBnZXRUaGVtZTogZ2V0UGFyZW50VGhlbWVcbiAgfV0gPSBwYXJlbnRDb250ZXh0O1xuICBjb25zdCBjb21wb3NlckNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjb21wb3NlclRoZW1lID0gaW5pdGlhbFRoZW1lIHx8IGdldFBhcmVudFRoZW1lKCkgfHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IGNvbnRleHQgPSBMZXhpY2FsQ29tcG9zZXJDb250ZXh0LmNyZWF0ZUxleGljYWxDb21wb3NlckNvbnRleHQocGFyZW50Q29udGV4dCwgY29tcG9zZXJUaGVtZSk7XG5cbiAgICBpZiAoY29tcG9zZXJUaGVtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbml0aWFsRWRpdG9yLl9jb25maWcudGhlbWUgPSBjb21wb3NlclRoZW1lO1xuICAgIH1cblxuICAgIGluaXRpYWxFZGl0b3IuX3BhcmVudEVkaXRvciA9IHBhcmVudEVkaXRvcjtcblxuICAgIGlmICghaW5pdGlhbE5vZGVzKSB7XG4gICAgICBjb25zdCBwYXJlbnROb2RlcyA9IGluaXRpYWxFZGl0b3IuX25vZGVzID0gbmV3IE1hcChwYXJlbnRFZGl0b3IuX25vZGVzKTtcblxuICAgICAgZm9yIChjb25zdCBbdHlwZSwgZW50cnldIG9mIHBhcmVudE5vZGVzKSB7XG4gICAgICAgIGluaXRpYWxFZGl0b3IuX25vZGVzLnNldCh0eXBlLCB7XG4gICAgICAgICAga2xhc3M6IGVudHJ5LmtsYXNzLFxuICAgICAgICAgIHJlcGxhY2U6IGVudHJ5LnJlcGxhY2UsXG4gICAgICAgICAgdHJhbnNmb3JtczogbmV3IFNldCgpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IGtsYXNzIG9mIGluaXRpYWxOb2Rlcykge1xuICAgICAgICBjb25zdCB0eXBlID0ga2xhc3MuZ2V0VHlwZSgpO1xuXG4gICAgICAgIGluaXRpYWxFZGl0b3IuX25vZGVzLnNldCh0eXBlLCB7XG4gICAgICAgICAga2xhc3MsXG4gICAgICAgICAgcmVwbGFjZTogbnVsbCxcbiAgICAgICAgICB0cmFuc2Zvcm1zOiBuZXcgU2V0KClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbEVkaXRvci5fY29uZmlnLm5hbWVzcGFjZSA9IHBhcmVudEVkaXRvci5fY29uZmlnLm5hbWVzcGFjZTtcbiAgICByZXR1cm4gW2luaXRpYWxFZGl0b3IsIGNvbnRleHRdO1xuICB9LCAvLyBXZSBvbmx5IGRvIHRoaXMgZm9yIGluaXRcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbXSk7IC8vIElmIGNvbGxhYm9yYXRpb24gaXMgZW5hYmxlZCwgbWFrZSBzdXJlIHdlIGRvbid0IHJlbmRlciB0aGUgY2hpbGRyZW4gdW50aWwgdGhlIGNvbGxhYm9yYXRpb24gc3ViZG9jdW1lbnQgaXMgcmVhZHkuXG5cbiAgY29uc3Qge1xuICAgIGlzQ29sbGFiQWN0aXZlLFxuICAgIHlqc0RvY01hcFxuICB9ID0gTGV4aWNhbENvbGxhYm9yYXRpb25Db250ZXh0LnVzZUNvbGxhYm9yYXRpb25Db250ZXh0KCk7XG4gIGNvbnN0IGlzQ29sbGFiUmVhZHkgPSBza2lwQ29sbGFiQ2hlY2tzIHx8IHdhc0NvbGxhYlByZXZpb3VzbHlSZWFkeVJlZi5jdXJyZW50IHx8IHlqc0RvY01hcC5oYXMoaW5pdGlhbEVkaXRvci5nZXRLZXkoKSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzQ29sbGFiUmVhZHkpIHtcbiAgICAgIHdhc0NvbGxhYlByZXZpb3VzbHlSZWFkeVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtpc0NvbGxhYlJlYWR5XSk7IC8vIFVwZGF0ZSBgaXNFZGl0YWJsZWAgc3RhdGUgb2YgbmVzdGVkIGVkaXRvciBpbiByZXNwb25zZSB0byB0aGUgc2FtZSBjaGFuZ2Ugb24gcGFyZW50IGVkaXRvci5cblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwYXJlbnRFZGl0b3IucmVnaXN0ZXJFZGl0YWJsZUxpc3RlbmVyKGVkaXRhYmxlID0+IHtcbiAgICAgIGluaXRpYWxFZGl0b3Iuc2V0RWRpdGFibGUoZWRpdGFibGUpO1xuICAgIH0pO1xuICB9LCBbaW5pdGlhbEVkaXRvciwgcGFyZW50RWRpdG9yXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMZXhpY2FsQ29tcG9zZXJDb250ZXh0LkxleGljYWxDb21wb3NlckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29tcG9zZXJDb250ZXh0XG4gIH0sICFpc0NvbGxhYkFjdGl2ZSB8fCBpc0NvbGxhYlJlYWR5ID8gY2hpbGRyZW4gOiBudWxsKTtcbn1cblxuZXhwb3J0cy5MZXhpY2FsTmVzdGVkQ29tcG9zZXIgPSBMZXhpY2FsTmVzdGVkQ29tcG9zZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@lexical/react/LexicalNestedComposer.dev.js\n"));

/***/ }),

/***/ "./node_modules/@lexical/react/LexicalNestedComposer.js":
/*!**************************************************************!*\
  !*** ./node_modules/@lexical/react/LexicalNestedComposer.js ***!
  \**************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nconst LexicalNestedComposer =  true ? __webpack_require__(/*! ./LexicalNestedComposer.dev.js */ \"./node_modules/@lexical/react/LexicalNestedComposer.dev.js\") : 0\nmodule.exports = LexicalNestedComposer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGxleGljYWwvcmVhY3QvTGV4aWNhbE5lc3RlZENvbXBvc2VyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNZO0FBQ1osOEJBQThCLEtBQXNDLEdBQUcsbUJBQU8sQ0FBQyxrR0FBZ0MsSUFBSSxDQUEwQztBQUM3SiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxleGljYWwvcmVhY3QvTGV4aWNhbE5lc3RlZENvbXBvc2VyLmpzP2ZkOWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG4ndXNlIHN0cmljdCdcbmNvbnN0IExleGljYWxOZXN0ZWRDb21wb3NlciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gcmVxdWlyZSgnLi9MZXhpY2FsTmVzdGVkQ29tcG9zZXIuZGV2LmpzJykgOiByZXF1aXJlKCcuL0xleGljYWxOZXN0ZWRDb21wb3Nlci5wcm9kLmpzJylcbm1vZHVsZS5leHBvcnRzID0gTGV4aWNhbE5lc3RlZENvbXBvc2VyOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@lexical/react/LexicalNestedComposer.js\n"));

/***/ }),

/***/ "./components/LexicalEditor/appSettings.ts":
/*!*************************************************!*\
  !*** ./components/LexicalEditor/appSettings.ts ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DEFAULT_SETTINGS\": function() { return /* binding */ DEFAULT_SETTINGS; },\n/* harmony export */   \"isDevPlayground\": function() { return /* binding */ isDevPlayground; }\n/* harmony export */ });\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar hostName = window.location.hostname;\nvar isDevPlayground = hostName !== 'playground.lexical.dev' && hostName !== 'lexical-playground.vercel.app';\nvar DEFAULT_SETTINGS = {\n  disableBeforeInput: false,\n  emptyEditor: isDevPlayground,\n  isAutocomplete: false,\n  isCharLimit: false,\n  isCharLimitUtf8: false,\n  isCollab: false,\n  isMaxLength: false,\n  isRichText: true,\n  measureTypingPerf: false,\n  showNestedEditorTreeView: false,\n  showTableOfContents: false,\n  showTreeView: true\n};\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvYXBwU2V0dGluZ3MudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQSxJQUFNQSxRQUFRLEdBQUdDLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQkMsUUFBakM7QUFDTyxJQUFNQyxlQUF3QixHQUNuQ0osUUFBUSxLQUFLLHdCQUFiLElBQ0FBLFFBQVEsS0FBSywrQkFGUjtBQUlBLElBQU1LLGdCQUEwQixHQUFHO0VBQ3hDQyxrQkFBa0IsRUFBRSxLQURvQjtFQUV4Q0MsV0FBVyxFQUFFSCxlQUYyQjtFQUd4Q0ksY0FBYyxFQUFFLEtBSHdCO0VBSXhDQyxXQUFXLEVBQUUsS0FKMkI7RUFLeENDLGVBQWUsRUFBRSxLQUx1QjtFQU14Q0MsUUFBUSxFQUFFLEtBTjhCO0VBT3hDQyxXQUFXLEVBQUUsS0FQMkI7RUFReENDLFVBQVUsRUFBRSxJQVI0QjtFQVN4Q0MsaUJBQWlCLEVBQUUsS0FUcUI7RUFVeENDLHdCQUF3QixFQUFFLEtBVmM7RUFXeENDLG1CQUFtQixFQUFFLEtBWG1CO0VBWXhDQyxZQUFZLEVBQUU7QUFaMEIsQ0FBbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9MZXhpY2FsRWRpdG9yL2FwcFNldHRpbmdzLnRzP2NhMzgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5leHBvcnQgdHlwZSBTZXR0aW5nTmFtZSA9XG4gIHwgJ2Rpc2FibGVCZWZvcmVJbnB1dCdcbiAgfCAnbWVhc3VyZVR5cGluZ1BlcmYnXG4gIHwgJ2lzUmljaFRleHQnXG4gIHwgJ2lzQ29sbGFiJ1xuICB8ICdpc0NoYXJMaW1pdCdcbiAgfCAnaXNNYXhMZW5ndGgnXG4gIHwgJ2lzQ2hhckxpbWl0VXRmOCdcbiAgfCAnaXNBdXRvY29tcGxldGUnXG4gIHwgJ3Nob3dUcmVlVmlldydcbiAgfCAnc2hvd05lc3RlZEVkaXRvclRyZWVWaWV3J1xuICB8ICdlbXB0eUVkaXRvcidcbiAgfCAnc2hvd1RhYmxlT2ZDb250ZW50cyc7XG5cbmV4cG9ydCB0eXBlIFNldHRpbmdzID0gUmVjb3JkPFNldHRpbmdOYW1lLCBib29sZWFuPjtcblxuY29uc3QgaG9zdE5hbWUgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG5leHBvcnQgY29uc3QgaXNEZXZQbGF5Z3JvdW5kOiBib29sZWFuID1cbiAgaG9zdE5hbWUgIT09ICdwbGF5Z3JvdW5kLmxleGljYWwuZGV2JyAmJlxuICBob3N0TmFtZSAhPT0gJ2xleGljYWwtcGxheWdyb3VuZC52ZXJjZWwuYXBwJztcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNldHRpbmdzID0ge1xuICBkaXNhYmxlQmVmb3JlSW5wdXQ6IGZhbHNlLFxuICBlbXB0eUVkaXRvcjogaXNEZXZQbGF5Z3JvdW5kLFxuICBpc0F1dG9jb21wbGV0ZTogZmFsc2UsXG4gIGlzQ2hhckxpbWl0OiBmYWxzZSxcbiAgaXNDaGFyTGltaXRVdGY4OiBmYWxzZSxcbiAgaXNDb2xsYWI6IGZhbHNlLFxuICBpc01heExlbmd0aDogZmFsc2UsXG4gIGlzUmljaFRleHQ6IHRydWUsXG4gIG1lYXN1cmVUeXBpbmdQZXJmOiBmYWxzZSxcbiAgc2hvd05lc3RlZEVkaXRvclRyZWVWaWV3OiBmYWxzZSxcbiAgc2hvd1RhYmxlT2ZDb250ZW50czogZmFsc2UsXG4gIHNob3dUcmVlVmlldzogdHJ1ZSxcbn07XG4iXSwibmFtZXMiOlsiaG9zdE5hbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiaXNEZXZQbGF5Z3JvdW5kIiwiREVGQVVMVF9TRVRUSU5HUyIsImRpc2FibGVCZWZvcmVJbnB1dCIsImVtcHR5RWRpdG9yIiwiaXNBdXRvY29tcGxldGUiLCJpc0NoYXJMaW1pdCIsImlzQ2hhckxpbWl0VXRmOCIsImlzQ29sbGFiIiwiaXNNYXhMZW5ndGgiLCJpc1JpY2hUZXh0IiwibWVhc3VyZVR5cGluZ1BlcmYiLCJzaG93TmVzdGVkRWRpdG9yVHJlZVZpZXciLCJzaG93VGFibGVPZkNvbnRlbnRzIiwic2hvd1RyZWVWaWV3Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/LexicalEditor/appSettings.ts\n"));

/***/ }),

/***/ "./components/LexicalEditor/collaboration.ts":
/*!***************************************************!*\
  !*** ./components/LexicalEditor/collaboration.ts ***!
  \***************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createWebsocketProvider\": function() { return /* binding */ createWebsocketProvider; }\n/* harmony export */ });\n/* harmony import */ var y_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! y-websocket */ \"./node_modules/y-websocket/src/y-websocket.js\");\n/* harmony import */ var yjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! yjs */ \"./node_modules/yjs/dist/yjs.mjs\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\nvar url = new URL(window.location.href);\nvar params = new URLSearchParams(url.search);\nvar WEBSOCKET_ENDPOINT = params.get('collabEndpoint') || 'ws://localhost:1234';\nvar WEBSOCKET_SLUG = 'playground';\nvar WEBSOCKET_ID = params.get('collabId') || '0'; // parent dom -> child doc\n\nfunction createWebsocketProvider(id, yjsDocMap) {\n  var doc = yjsDocMap.get(id);\n\n  if (doc === undefined) {\n    doc = new yjs__WEBPACK_IMPORTED_MODULE_0__.Doc();\n    yjsDocMap.set(id, doc);\n  } else {\n    doc.load();\n  }\n\n  return new y_websocket__WEBPACK_IMPORTED_MODULE_1__.WebsocketProvider(WEBSOCKET_ENDPOINT, WEBSOCKET_SLUG + '/' + WEBSOCKET_ID + '/' + id, doc, {\n    connect: false\n  });\n}\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvY29sbGFib3JhdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQSxJQUFNRSxHQUFHLEdBQUcsSUFBSUMsR0FBSixDQUFRQyxNQUFNLENBQUNDLFFBQVAsQ0FBZ0JDLElBQXhCLENBQVo7QUFDQSxJQUFNQyxNQUFNLEdBQUcsSUFBSUMsZUFBSixDQUFvQk4sR0FBRyxDQUFDTyxNQUF4QixDQUFmO0FBQ0EsSUFBTUMsa0JBQWtCLEdBQ3RCSCxNQUFNLENBQUNJLEdBQVAsQ0FBVyxnQkFBWCxLQUFnQyxxQkFEbEM7QUFFQSxJQUFNQyxjQUFjLEdBQUcsWUFBdkI7QUFDQSxJQUFNQyxZQUFZLEdBQUdOLE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLFVBQVgsS0FBMEIsR0FBL0MsRUFFQTs7QUFDTyxTQUFTRyx1QkFBVCxDQUNMQyxFQURLLEVBRUxDLFNBRkssRUFHYztFQUNuQixJQUFJQyxHQUFHLEdBQUdELFNBQVMsQ0FBQ0wsR0FBVixDQUFjSSxFQUFkLENBQVY7O0VBRUEsSUFBSUUsR0FBRyxLQUFLQyxTQUFaLEVBQXVCO0lBQ3JCRCxHQUFHLEdBQUcsSUFBSWhCLG9DQUFKLEVBQU47SUFDQWUsU0FBUyxDQUFDRyxHQUFWLENBQWNKLEVBQWQsRUFBa0JFLEdBQWxCO0VBQ0QsQ0FIRCxNQUdPO0lBQ0xBLEdBQUcsQ0FBQ0csSUFBSjtFQUNEOztFQUVELE9BQU8sSUFBSXBCLDBEQUFKLENBQ0xVLGtCQURLLEVBRUxFLGNBQWMsR0FBRyxHQUFqQixHQUF1QkMsWUFBdkIsR0FBc0MsR0FBdEMsR0FBNENFLEVBRnZDLEVBR0xFLEdBSEssRUFJTDtJQUNFSSxPQUFPLEVBQUU7RUFEWCxDQUpLLENBQVA7QUFRRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvY29sbGFib3JhdGlvbi50cz9lODQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuaW1wb3J0IHtXZWJzb2NrZXRQcm92aWRlcn0gZnJvbSAneS13ZWJzb2NrZXQnO1xuaW1wb3J0IHtEb2N9IGZyb20gJ3lqcyc7XG5cbmNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoKTtcbmNvbnN0IFdFQlNPQ0tFVF9FTkRQT0lOVCA9XG4gIHBhcmFtcy5nZXQoJ2NvbGxhYkVuZHBvaW50JykgfHwgJ3dzOi8vbG9jYWxob3N0OjEyMzQnO1xuY29uc3QgV0VCU09DS0VUX1NMVUcgPSAncGxheWdyb3VuZCc7XG5jb25zdCBXRUJTT0NLRVRfSUQgPSBwYXJhbXMuZ2V0KCdjb2xsYWJJZCcpIHx8ICcwJztcblxuLy8gcGFyZW50IGRvbSAtPiBjaGlsZCBkb2NcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXZWJzb2NrZXRQcm92aWRlcihcbiAgaWQ6IHN0cmluZyxcbiAgeWpzRG9jTWFwOiBNYXA8c3RyaW5nLCBEb2M+LFxuKTogV2Vic29ja2V0UHJvdmlkZXIge1xuICBsZXQgZG9jID0geWpzRG9jTWFwLmdldChpZCk7XG5cbiAgaWYgKGRvYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZG9jID0gbmV3IERvYygpO1xuICAgIHlqc0RvY01hcC5zZXQoaWQsIGRvYyk7XG4gIH0gZWxzZSB7XG4gICAgZG9jLmxvYWQoKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgV2Vic29ja2V0UHJvdmlkZXIoXG4gICAgV0VCU09DS0VUX0VORFBPSU5ULFxuICAgIFdFQlNPQ0tFVF9TTFVHICsgJy8nICsgV0VCU09DS0VUX0lEICsgJy8nICsgaWQsXG4gICAgZG9jLFxuICAgIHtcbiAgICAgIGNvbm5lY3Q6IGZhbHNlLFxuICAgIH0sXG4gICk7XG59XG4iXSwibmFtZXMiOlsiV2Vic29ja2V0UHJvdmlkZXIiLCJEb2MiLCJ1cmwiLCJVUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJXRUJTT0NLRVRfRU5EUE9JTlQiLCJnZXQiLCJXRUJTT0NLRVRfU0xVRyIsIldFQlNPQ0tFVF9JRCIsImNyZWF0ZVdlYnNvY2tldFByb3ZpZGVyIiwiaWQiLCJ5anNEb2NNYXAiLCJkb2MiLCJ1bmRlZmluZWQiLCJzZXQiLCJsb2FkIiwiY29ubmVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/LexicalEditor/collaboration.ts\n"));

/***/ }),

/***/ "./components/LexicalEditor/context/SettingsContext.tsx":
/*!**************************************************************!*\
  !*** ./components/LexicalEditor/context/SettingsContext.tsx ***!
  \**************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SettingsContext\": function() { return /* binding */ SettingsContext; },\n/* harmony export */   \"useSettings\": function() { return /* binding */ useSettings; }\n/* harmony export */ });\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _appSettings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../appSettings */ \"./components/LexicalEditor/appSettings.ts\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);\n\n\nvar _jsxFileName = \"/home/songliansheng/projects/blog-ui/components/LexicalEditor/context/SettingsContext.tsx\",\n    _this = undefined,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\nvar Context = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n  setOption: function setOption(name, value) {\n    return;\n  },\n  settings: _appSettings__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SETTINGS\n});\nvar SettingsContext = function SettingsContext(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_appSettings__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SETTINGS),\n      settings = _useState[0],\n      setSettings = _useState[1];\n\n  var setOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (setting, value) {\n    setSettings(function (options) {\n      return _objectSpread(_objectSpread({}, options), {}, (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, setting, value));\n    });\n\n    if (_appSettings__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SETTINGS[setting] === value) {\n      setURLParam(setting, null);\n    } else {\n      setURLParam(setting, value);\n    }\n  }, []);\n  var contextValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return {\n      setOption: setOption,\n      settings: settings\n    };\n  }, [setOption, settings]);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Context.Provider, {\n    value: contextValue,\n    children: children\n  });\n};\n\n_s(SettingsContext, \"UoW5XzsMFy7rBRg/3VgzXkyn2gg=\");\n\n_c = SettingsContext;\nvar useSettings = function useSettings() {\n  _s2();\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(Context);\n};\n\n_s2(useSettings, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction setURLParam(param, value) {\n  var url = new URL(window.location.href);\n  var params = new URLSearchParams(url.search);\n\n  if (value !== null) {\n    if (params.has(param)) {\n      params.set(param, String(value));\n    } else {\n      params.append(param, String(value));\n    }\n  } else {\n    if (params.has(param)) {\n      params[\"delete\"](param);\n    }\n  }\n\n  url.search = params.toString();\n  window.history.pushState(null, '', url.toString());\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"SettingsContext\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvY29udGV4dC9TZXR0aW5nc0NvbnRleHQudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFTQTs7QUFPQSxJQUFNTyxPQUE0QyxnQkFBR04sb0RBQWEsQ0FBQztFQUNqRU8sU0FBUyxFQUFFLG1CQUFDQyxJQUFELEVBQW9CQyxLQUFwQixFQUF1QztJQUNoRDtFQUNELENBSGdFO0VBSWpFQyxRQUFRLEVBQUVMLDBEQUFnQkE7QUFKdUMsQ0FBRCxDQUFsRTtBQU9PLElBQU1NLGVBQWUsR0FBRyxTQUFsQkEsZUFBa0IsT0FJWjtFQUFBOztFQUFBLElBSGpCQyxRQUdpQixRQUhqQkEsUUFHaUI7O0VBQ2pCLGdCQUFnQ1IsK0NBQVEsQ0FBQ0MsMERBQUQsQ0FBeEM7RUFBQSxJQUFPSyxRQUFQO0VBQUEsSUFBaUJHLFdBQWpCOztFQUVBLElBQU1OLFNBQVMsR0FBR04sa0RBQVcsQ0FBQyxVQUFDYSxPQUFELEVBQXVCTCxLQUF2QixFQUEwQztJQUN0RUksV0FBVyxDQUFDLFVBQUNFLE9BQUQ7TUFBQSx1Q0FDUEEsT0FETyx3S0FFVEQsT0FGUyxFQUVXTCxLQUZYO0lBQUEsQ0FBRCxDQUFYOztJQUlBLElBQUlKLDBEQUFnQixDQUFDUyxPQUFELENBQWhCLEtBQThCTCxLQUFsQyxFQUF5QztNQUN2Q08sV0FBVyxDQUFDRixPQUFELEVBQVUsSUFBVixDQUFYO0lBQ0QsQ0FGRCxNQUVPO01BQ0xFLFdBQVcsQ0FBQ0YsT0FBRCxFQUFVTCxLQUFWLENBQVg7SUFDRDtFQUNGLENBVjRCLEVBVTFCLEVBVjBCLENBQTdCO0VBWUEsSUFBTVEsWUFBWSxHQUFHZCw4Q0FBTyxDQUFDLFlBQU07SUFDakMsT0FBTztNQUFDSSxTQUFTLEVBQVRBLFNBQUQ7TUFBWUcsUUFBUSxFQUFSQTtJQUFaLENBQVA7RUFDRCxDQUYyQixFQUV6QixDQUFDSCxTQUFELEVBQVlHLFFBQVosQ0FGeUIsQ0FBNUI7RUFJQSxvQkFBTyx1REFBQyxPQUFELENBQVMsUUFBVDtJQUFrQixLQUFLLEVBQUVPLFlBQXpCO0lBQUEsVUFBd0NMO0VBQXhDLEVBQVA7QUFDRCxDQXhCTTs7R0FBTUQ7O0tBQUFBO0FBMEJOLElBQU1PLFdBQVcsR0FBRyxTQUFkQSxXQUFjLEdBQTRCO0VBQUE7O0VBQ3JELE9BQU9oQixpREFBVSxDQUFDSSxPQUFELENBQWpCO0FBQ0QsQ0FGTTs7SUFBTVk7O0FBSWIsU0FBU0YsV0FBVCxDQUFxQkcsS0FBckIsRUFBeUNWLEtBQXpDLEVBQWdFO0VBQzlELElBQU1XLEdBQUcsR0FBRyxJQUFJQyxHQUFKLENBQVFDLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQkMsSUFBeEIsQ0FBWjtFQUNBLElBQU1DLE1BQU0sR0FBRyxJQUFJQyxlQUFKLENBQW9CTixHQUFHLENBQUNPLE1BQXhCLENBQWY7O0VBQ0EsSUFBSWxCLEtBQUssS0FBSyxJQUFkLEVBQW9CO0lBQ2xCLElBQUlnQixNQUFNLENBQUNHLEdBQVAsQ0FBV1QsS0FBWCxDQUFKLEVBQXVCO01BQ3JCTSxNQUFNLENBQUNJLEdBQVAsQ0FBV1YsS0FBWCxFQUFrQlcsTUFBTSxDQUFDckIsS0FBRCxDQUF4QjtJQUNELENBRkQsTUFFTztNQUNMZ0IsTUFBTSxDQUFDTSxNQUFQLENBQWNaLEtBQWQsRUFBcUJXLE1BQU0sQ0FBQ3JCLEtBQUQsQ0FBM0I7SUFDRDtFQUNGLENBTkQsTUFNTztJQUNMLElBQUlnQixNQUFNLENBQUNHLEdBQVAsQ0FBV1QsS0FBWCxDQUFKLEVBQXVCO01BQ3JCTSxNQUFNLFVBQU4sQ0FBY04sS0FBZDtJQUNEO0VBQ0Y7O0VBQ0RDLEdBQUcsQ0FBQ08sTUFBSixHQUFhRixNQUFNLENBQUNPLFFBQVAsRUFBYjtFQUNBVixNQUFNLENBQUNXLE9BQVAsQ0FBZUMsU0FBZixDQUF5QixJQUF6QixFQUErQixFQUEvQixFQUFtQ2QsR0FBRyxDQUFDWSxRQUFKLEVBQW5DO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9MZXhpY2FsRWRpdG9yL2NvbnRleHQvU2V0dGluZ3NDb250ZXh0LnRzeD9lYTM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuaW1wb3J0IHR5cGUge1NldHRpbmdOYW1lfSBmcm9tICcuLi9hcHBTZXR0aW5ncyc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIGNyZWF0ZUNvbnRleHQsXG4gIFJlYWN0Tm9kZSxcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZUNvbnRleHQsXG4gIHVzZU1lbW8sXG4gIHVzZVN0YXRlLFxufSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7REVGQVVMVF9TRVRUSU5HU30gZnJvbSAnLi4vYXBwU2V0dGluZ3MnO1xuXG50eXBlIFNldHRpbmdzQ29udGV4dFNoYXBlID0ge1xuICBzZXRPcHRpb246IChuYW1lOiBTZXR0aW5nTmFtZSwgdmFsdWU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldHRpbmdzOiBSZWNvcmQ8U2V0dGluZ05hbWUsIGJvb2xlYW4+O1xufTtcblxuY29uc3QgQ29udGV4dDogUmVhY3QuQ29udGV4dDxTZXR0aW5nc0NvbnRleHRTaGFwZT4gPSBjcmVhdGVDb250ZXh0KHtcbiAgc2V0T3B0aW9uOiAobmFtZTogU2V0dGluZ05hbWUsIHZhbHVlOiBib29sZWFuKSA9PiB7XG4gICAgcmV0dXJuO1xuICB9LFxuICBzZXR0aW5nczogREVGQVVMVF9TRVRUSU5HUyxcbn0pO1xuXG5leHBvcnQgY29uc3QgU2V0dGluZ3NDb250ZXh0ID0gKHtcbiAgY2hpbGRyZW4sXG59OiB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG59KTogSlNYLkVsZW1lbnQgPT4ge1xuICBjb25zdCBbc2V0dGluZ3MsIHNldFNldHRpbmdzXSA9IHVzZVN0YXRlKERFRkFVTFRfU0VUVElOR1MpO1xuXG4gIGNvbnN0IHNldE9wdGlvbiA9IHVzZUNhbGxiYWNrKChzZXR0aW5nOiBTZXR0aW5nTmFtZSwgdmFsdWU6IGJvb2xlYW4pID0+IHtcbiAgICBzZXRTZXR0aW5ncygob3B0aW9ucykgPT4gKHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBbc2V0dGluZyBhcyBzdHJpbmddOiB2YWx1ZSxcbiAgICB9KSk7XG4gICAgaWYgKERFRkFVTFRfU0VUVElOR1Nbc2V0dGluZ10gPT09IHZhbHVlKSB7XG4gICAgICBzZXRVUkxQYXJhbShzZXR0aW5nLCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VVJMUGFyYW0oc2V0dGluZywgdmFsdWUpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGNvbnRleHRWYWx1ZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7c2V0T3B0aW9uLCBzZXR0aW5nc307XG4gIH0sIFtzZXRPcHRpb24sIHNldHRpbmdzXSk7XG5cbiAgcmV0dXJuIDxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWV9PntjaGlsZHJlbn08L0NvbnRleHQuUHJvdmlkZXI+O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZVNldHRpbmdzID0gKCk6IFNldHRpbmdzQ29udGV4dFNoYXBlID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoQ29udGV4dCk7XG59O1xuXG5mdW5jdGlvbiBzZXRVUkxQYXJhbShwYXJhbTogU2V0dGluZ05hbWUsIHZhbHVlOiBudWxsIHwgYm9vbGVhbikge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwuc2VhcmNoKTtcbiAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgaWYgKHBhcmFtcy5oYXMocGFyYW0pKSB7XG4gICAgICBwYXJhbXMuc2V0KHBhcmFtLCBTdHJpbmcodmFsdWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zLmFwcGVuZChwYXJhbSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwYXJhbXMuaGFzKHBhcmFtKSkge1xuICAgICAgcGFyYW1zLmRlbGV0ZShwYXJhbSk7XG4gICAgfVxuICB9XG4gIHVybC5zZWFyY2ggPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKG51bGwsICcnLCB1cmwudG9TdHJpbmcoKSk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ2FsbGJhY2siLCJ1c2VDb250ZXh0IiwidXNlTWVtbyIsInVzZVN0YXRlIiwiREVGQVVMVF9TRVRUSU5HUyIsIkNvbnRleHQiLCJzZXRPcHRpb24iLCJuYW1lIiwidmFsdWUiLCJzZXR0aW5ncyIsIlNldHRpbmdzQ29udGV4dCIsImNoaWxkcmVuIiwic2V0U2V0dGluZ3MiLCJzZXR0aW5nIiwib3B0aW9ucyIsInNldFVSTFBhcmFtIiwiY29udGV4dFZhbHVlIiwidXNlU2V0dGluZ3MiLCJwYXJhbSIsInVybCIsIlVSTCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNlYXJjaCIsImhhcyIsInNldCIsIlN0cmluZyIsImFwcGVuZCIsInRvU3RyaW5nIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/LexicalEditor/context/SettingsContext.tsx\n"));

/***/ }),

/***/ "./components/LexicalEditor/context/SharedHistoryContext.tsx":
/*!*******************************************************************!*\
  !*** ./components/LexicalEditor/context/SharedHistoryContext.tsx ***!
  \*******************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SharedHistoryContext\": function() { return /* binding */ SharedHistoryContext; },\n/* harmony export */   \"useSharedHistoryContext\": function() { return /* binding */ useSharedHistoryContext; }\n/* harmony export */ });\n/* harmony import */ var _lexical_react_LexicalHistoryPlugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lexical/react/LexicalHistoryPlugin */ \"./node_modules/@lexical/react/LexicalHistoryPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalHistoryPlugin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalHistoryPlugin__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\nvar _jsxFileName = \"/home/songliansheng/projects/blog-ui/components/LexicalEditor/context/SharedHistoryContext.tsx\",\n    _this = undefined,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\nvar Context = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\nvar SharedHistoryContext = function SharedHistoryContext(_ref) {\n  _s();\n\n  var children = _ref.children;\n  var historyContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return {\n      historyState: (0,_lexical_react_LexicalHistoryPlugin__WEBPACK_IMPORTED_MODULE_0__.createEmptyHistoryState)()\n    };\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Context.Provider, {\n    value: historyContext,\n    children: children\n  });\n};\n\n_s(SharedHistoryContext, \"47p3D6HOudgQJb5Zfh1706nCbxY=\");\n\n_c = SharedHistoryContext;\nvar useSharedHistoryContext = function useSharedHistoryContext() {\n  _s2();\n\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(Context);\n};\n\n_s2(useSharedHistoryContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"SharedHistoryContext\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvY29udGV4dC9TaGFyZWRIaXN0b3J5Q29udGV4dC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBOztBQU1BLElBQU1LLE9BQW9DLGdCQUFHSCxvREFBYSxDQUFDLEVBQUQsQ0FBMUQ7QUFFTyxJQUFNSSxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCLE9BSWpCO0VBQUE7O0VBQUEsSUFIakJDLFFBR2lCLFFBSGpCQSxRQUdpQjtFQUNqQixJQUFNQyxjQUFjLEdBQUdKLDhDQUFPLENBQzVCO0lBQUEsT0FBTztNQUFDSyxZQUFZLEVBQUVULDRGQUF1QjtJQUF0QyxDQUFQO0VBQUEsQ0FENEIsRUFFNUIsRUFGNEIsQ0FBOUI7RUFJQSxvQkFBTyx1REFBQyxPQUFELENBQVMsUUFBVDtJQUFrQixLQUFLLEVBQUVRLGNBQXpCO0lBQUEsVUFBMENEO0VBQTFDLEVBQVA7QUFDRCxDQVZNOztHQUFNRDs7S0FBQUE7QUFZTixJQUFNSSx1QkFBdUIsR0FBRyxTQUExQkEsdUJBQTBCLEdBQW9CO0VBQUE7O0VBQ3pELE9BQU9QLGlEQUFVLENBQUNFLE9BQUQsQ0FBakI7QUFDRCxDQUZNOztJQUFNSyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvY29udGV4dC9TaGFyZWRIaXN0b3J5Q29udGV4dC50c3g/ZGE0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB0eXBlIHtIaXN0b3J5U3RhdGV9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxIaXN0b3J5UGx1Z2luJztcblxuaW1wb3J0IHtjcmVhdGVFbXB0eUhpc3RvcnlTdGF0ZX0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbEhpc3RvcnlQbHVnaW4nO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtjcmVhdGVDb250ZXh0LCBSZWFjdE5vZGUsIHVzZUNvbnRleHQsIHVzZU1lbW99IGZyb20gJ3JlYWN0JztcblxudHlwZSBDb250ZXh0U2hhcGUgPSB7XG4gIGhpc3RvcnlTdGF0ZT86IEhpc3RvcnlTdGF0ZTtcbn07XG5cbmNvbnN0IENvbnRleHQ6IFJlYWN0LkNvbnRleHQ8Q29udGV4dFNoYXBlPiA9IGNyZWF0ZUNvbnRleHQoe30pO1xuXG5leHBvcnQgY29uc3QgU2hhcmVkSGlzdG9yeUNvbnRleHQgPSAoe1xuICBjaGlsZHJlbixcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbn0pOiBKU1guRWxlbWVudCA9PiB7XG4gIGNvbnN0IGhpc3RvcnlDb250ZXh0ID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe2hpc3RvcnlTdGF0ZTogY3JlYXRlRW1wdHlIaXN0b3J5U3RhdGUoKX0pLFxuICAgIFtdLFxuICApO1xuICByZXR1cm4gPENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2hpc3RvcnlDb250ZXh0fT57Y2hpbGRyZW59PC9Db250ZXh0LlByb3ZpZGVyPjtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VTaGFyZWRIaXN0b3J5Q29udGV4dCA9ICgpOiBDb250ZXh0U2hhcGUgPT4ge1xuICByZXR1cm4gdXNlQ29udGV4dChDb250ZXh0KTtcbn07XG4iXSwibmFtZXMiOlsiY3JlYXRlRW1wdHlIaXN0b3J5U3RhdGUiLCJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlTWVtbyIsIkNvbnRleHQiLCJTaGFyZWRIaXN0b3J5Q29udGV4dCIsImNoaWxkcmVuIiwiaGlzdG9yeUNvbnRleHQiLCJoaXN0b3J5U3RhdGUiLCJ1c2VTaGFyZWRIaXN0b3J5Q29udGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/LexicalEditor/context/SharedHistoryContext.tsx\n"));

/***/ }),

/***/ "./components/LexicalEditor/nodes/ImageComponent.tsx":
/*!***********************************************************!*\
  !*** ./components/LexicalEditor/nodes/ImageComponent.tsx ***!
  \***********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ImageComponent; }\n/* harmony export */ });\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _lexical_react_LexicalAutoFocusPlugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lexical/react/LexicalAutoFocusPlugin */ \"./node_modules/@lexical/react/LexicalAutoFocusPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalAutoFocusPlugin__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalAutoFocusPlugin__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lexical_react_LexicalCollaborationContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lexical/react/LexicalCollaborationContext */ \"./node_modules/@lexical/react/LexicalCollaborationContext.js\");\n/* harmony import */ var _lexical_react_LexicalCollaborationContext__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalCollaborationContext__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lexical_react_LexicalCollaborationPlugin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lexical/react/LexicalCollaborationPlugin */ \"./node_modules/@lexical/react/LexicalCollaborationPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalCollaborationPlugin__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalCollaborationPlugin__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"./node_modules/@lexical/react/LexicalComposerContext.js\");\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lexical_react_LexicalErrorBoundary__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lexical/react/LexicalErrorBoundary */ \"./node_modules/@lexical/react/LexicalErrorBoundary.js\");\n/* harmony import */ var _lexical_react_LexicalErrorBoundary__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalErrorBoundary__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _lexical_react_LexicalHashtagPlugin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lexical/react/LexicalHashtagPlugin */ \"./node_modules/@lexical/react/LexicalHashtagPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalHashtagPlugin__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalHashtagPlugin__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _lexical_react_LexicalHistoryPlugin__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lexical/react/LexicalHistoryPlugin */ \"./node_modules/@lexical/react/LexicalHistoryPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalHistoryPlugin__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalHistoryPlugin__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lexical/react/LexicalNestedComposer */ \"./node_modules/@lexical/react/LexicalNestedComposer.js\");\n/* harmony import */ var _lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _lexical_react_LexicalRichTextPlugin__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @lexical/react/LexicalRichTextPlugin */ \"./node_modules/@lexical/react/LexicalRichTextPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalRichTextPlugin__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalRichTextPlugin__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @lexical/react/useLexicalNodeSelection */ \"./node_modules/@lexical/react/useLexicalNodeSelection.js\");\n/* harmony import */ var _lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @lexical/utils */ \"./node_modules/@lexical/utils/LexicalUtils.js\");\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_lexical_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lexical */ \"./node_modules/lexical/Lexical.js\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lexical__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _collaboration__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../collaboration */ \"./components/LexicalEditor/collaboration.ts\");\n/* harmony import */ var _context_SettingsContext__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../context/SettingsContext */ \"./components/LexicalEditor/context/SettingsContext.tsx\");\n/* harmony import */ var _context_SharedHistoryContext__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../context/SharedHistoryContext */ \"./components/LexicalEditor/context/SharedHistoryContext.tsx\");\n/* harmony import */ var _plugins_EmojisPlugin__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../plugins/EmojisPlugin */ \"./components/LexicalEditor/plugins/EmojisPlugin.ts\");\n/* harmony import */ var _plugins_KeywordsPlugin__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../plugins/KeywordsPlugin */ \"./components/LexicalEditor/plugins/KeywordsPlugin.ts\");\n/* harmony import */ var _plugins_LinkPlugin__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../plugins/LinkPlugin */ \"./components/LexicalEditor/plugins/LinkPlugin/index.tsx\");\n/* harmony import */ var _plugins_MentionsPlugin__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../plugins/MentionsPlugin */ \"./components/LexicalEditor/plugins/MentionsPlugin/index.tsx\");\n/* harmony import */ var _plugins_TreeViewPlugin__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../plugins/TreeViewPlugin */ \"./components/LexicalEditor/plugins/TreeViewPlugin.tsx\");\n/* harmony import */ var _ui_ContentEditable__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/ContentEditable */ \"./components/LexicalEditor/ui/ContentEditable.tsx\");\n/* harmony import */ var _ui_ImageResizer__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../ui/ImageResizer */ \"./components/LexicalEditor/ui/ImageResizer.tsx\");\n/* harmony import */ var _ui_Placeholder__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../ui/Placeholder */ \"./components/LexicalEditor/ui/Placeholder.tsx\");\n/* harmony import */ var _ImageNode__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ImageNode */ \"./components/LexicalEditor/nodes/ImageNode.tsx\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__);\n\n\nvar _jsxFileName = \"/home/songliansheng/projects/blog-ui/components/LexicalEditor/nodes/ImageComponent.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar imageCache = new Set();\n\nfunction useSuspenseImage(src) {\n  if (!imageCache.has(src)) {\n    throw new Promise(function (resolve) {\n      var img = new Image();\n      img.src = src;\n\n      img.onload = function () {\n        imageCache.add(src);\n        resolve(null);\n      };\n    });\n  }\n}\n\nfunction LazyImage(_ref) {\n  _s();\n\n  var altText = _ref.altText,\n      className = _ref.className,\n      imageRef = _ref.imageRef,\n      src = _ref.src,\n      width = _ref.width,\n      height = _ref.height,\n      maxWidth = _ref.maxWidth;\n  useSuspenseImage(src);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(\"img\", {\n    className: className || undefined,\n    src: src,\n    alt: altText,\n    ref: imageRef,\n    style: {\n      height: height,\n      maxWidth: maxWidth,\n      width: width\n    },\n    draggable: \"false\"\n  });\n}\n\n_s(LazyImage, \"PwEalJWQ04zHGbirat9fUJAU7SI=\", false, function () {\n  return [useSuspenseImage];\n});\n\n_c = LazyImage;\nfunction ImageComponent(_ref2) {\n  _s2();\n\n  var src = _ref2.src,\n      altText = _ref2.altText,\n      nodeKey = _ref2.nodeKey,\n      width = _ref2.width,\n      height = _ref2.height,\n      maxWidth = _ref2.maxWidth,\n      resizable = _ref2.resizable,\n      showCaption = _ref2.showCaption,\n      caption = _ref2.caption,\n      captionsEnabled = _ref2.captionsEnabled;\n  var imageRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  var buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n\n  var _useLexicalNodeSelect = (0,_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_10__.useLexicalNodeSelection)(nodeKey),\n      _useLexicalNodeSelect2 = (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useLexicalNodeSelect, 3),\n      isSelected = _useLexicalNodeSelect2[0],\n      setSelected = _useLexicalNodeSelect2[1],\n      clearSelection = _useLexicalNodeSelect2[2];\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(false),\n      isResizing = _useState[0],\n      setIsResizing = _useState[1];\n\n  var _useCollaborationCont = (0,_lexical_react_LexicalCollaborationContext__WEBPACK_IMPORTED_MODULE_2__.useCollaborationContext)(),\n      isCollabActive = _useCollaborationCont.isCollabActive;\n\n  var _useLexicalComposerCo = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4__.useLexicalComposerContext)(),\n      _useLexicalComposerCo2 = (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useLexicalComposerCo, 1),\n      editor = _useLexicalComposerCo2[0];\n\n  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_13__.useState)(null),\n      selection = _useState2[0],\n      setSelection = _useState2[1];\n\n  var activeEditorRef = (0,react__WEBPACK_IMPORTED_MODULE_13__.useRef)(null);\n  var onDelete = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (payload) {\n    if (isSelected && (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$isNodeSelection)((0,lexical__WEBPACK_IMPORTED_MODULE_12__.$getSelection)())) {\n      var event = payload;\n      event.preventDefault();\n      var node = (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$getNodeByKey)(nodeKey);\n\n      if ((0,_ImageNode__WEBPACK_IMPORTED_MODULE_25__.$isImageNode)(node)) {\n        node.remove();\n      }\n\n      setSelected(false);\n    }\n\n    return false;\n  }, [isSelected, nodeKey, setSelected]);\n  var onEnter = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (event) {\n    var latestSelection = (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$getSelection)();\n    var buttonElem = buttonRef.current;\n\n    if (isSelected && (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$isNodeSelection)(latestSelection) && latestSelection.getNodes().length === 1) {\n      if (showCaption) {\n        // Move focus into nested editor\n        (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$setSelection)(null);\n        event.preventDefault();\n        caption.focus();\n        return true;\n      } else if (buttonElem !== null && buttonElem !== document.activeElement) {\n        event.preventDefault();\n        buttonElem.focus();\n        return true;\n      }\n    }\n\n    return false;\n  }, [caption, isSelected, showCaption]);\n  var onEscape = (0,react__WEBPACK_IMPORTED_MODULE_13__.useCallback)(function (event) {\n    if (activeEditorRef.current === caption || buttonRef.current === event.target) {\n      (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$setSelection)(null);\n      editor.update(function () {\n        setSelected(true);\n        var parentRootElement = editor.getRootElement();\n\n        if (parentRootElement !== null) {\n          parentRootElement.focus();\n        }\n      });\n      return true;\n    }\n\n    return false;\n  }, [caption, editor, setSelected]);\n  (0,react__WEBPACK_IMPORTED_MODULE_13__.useEffect)(function () {\n    return (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_11__.mergeRegister)(editor.registerUpdateListener(function (_ref3) {\n      var editorState = _ref3.editorState;\n      setSelection(editorState.read(function () {\n        return (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$getSelection)();\n      }));\n    }), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_12__.SELECTION_CHANGE_COMMAND, function (_, activeEditor) {\n      activeEditorRef.current = activeEditor;\n      return false;\n    }, lexical__WEBPACK_IMPORTED_MODULE_12__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_12__.CLICK_COMMAND, function (payload) {\n      var event = payload;\n\n      if (isResizing) {\n        return true;\n      }\n\n      if (event.target === imageRef.current) {\n        if (event.shiftKey) {\n          setSelected(!isSelected);\n        } else {\n          clearSelection();\n          setSelected(true);\n        }\n\n        return true;\n      }\n\n      return false;\n    }, lexical__WEBPACK_IMPORTED_MODULE_12__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_12__.DRAGSTART_COMMAND, function (event) {\n      if (event.target === imageRef.current) {\n        // TODO This is just a temporary workaround for FF to behave like other browsers.\n        // Ideally, this handles drag & drop too (and all browsers).\n        event.preventDefault();\n        return true;\n      }\n\n      return false;\n    }, lexical__WEBPACK_IMPORTED_MODULE_12__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_12__.KEY_DELETE_COMMAND, onDelete, lexical__WEBPACK_IMPORTED_MODULE_12__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_12__.KEY_BACKSPACE_COMMAND, onDelete, lexical__WEBPACK_IMPORTED_MODULE_12__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_12__.KEY_ENTER_COMMAND, onEnter, lexical__WEBPACK_IMPORTED_MODULE_12__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_12__.KEY_ESCAPE_COMMAND, onEscape, lexical__WEBPACK_IMPORTED_MODULE_12__.COMMAND_PRIORITY_LOW));\n  }, [clearSelection, editor, isResizing, isSelected, nodeKey, onDelete, onEnter, onEscape, setSelected]);\n\n  var setShowCaption = function setShowCaption() {\n    editor.update(function () {\n      var node = (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$getNodeByKey)(nodeKey);\n\n      if ((0,_ImageNode__WEBPACK_IMPORTED_MODULE_25__.$isImageNode)(node)) {\n        node.setShowCaption(true);\n      }\n    });\n  };\n\n  var onResizeEnd = function onResizeEnd(nextWidth, nextHeight) {\n    // Delay hiding the resize bars for click case\n    setTimeout(function () {\n      setIsResizing(false);\n    }, 200);\n    editor.update(function () {\n      var node = (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$getNodeByKey)(nodeKey);\n\n      if ((0,_ImageNode__WEBPACK_IMPORTED_MODULE_25__.$isImageNode)(node)) {\n        node.setWidthAndHeight(nextWidth, nextHeight);\n      }\n    });\n  };\n\n  var onResizeStart = function onResizeStart() {\n    setIsResizing(true);\n  };\n\n  var _useSharedHistoryCont = (0,_context_SharedHistoryContext__WEBPACK_IMPORTED_MODULE_16__.useSharedHistoryContext)(),\n      historyState = _useSharedHistoryCont.historyState;\n\n  var _useSettings = (0,_context_SettingsContext__WEBPACK_IMPORTED_MODULE_15__.useSettings)(),\n      showNestedEditorTreeView = _useSettings.settings.showNestedEditorTreeView;\n\n  var draggable = isSelected && (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$isNodeSelection)(selection) && !isResizing;\n  var isFocused = isSelected || isResizing;\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(react__WEBPACK_IMPORTED_MODULE_13__.Suspense, {\n    fallback: null,\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment, {\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(\"div\", {\n        draggable: draggable,\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(LazyImage, {\n          className: isFocused ? \"focused \".concat((0,lexical__WEBPACK_IMPORTED_MODULE_12__.$isNodeSelection)(selection) ? 'draggable' : '') : null,\n          src: src,\n          altText: altText,\n          imageRef: imageRef,\n          width: width,\n          height: height,\n          maxWidth: maxWidth\n        })\n      }), showCaption && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(\"div\", {\n        className: \"image-caption-container\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(_lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_8__.LexicalNestedComposer, {\n          initialEditor: caption,\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_lexical_react_LexicalAutoFocusPlugin__WEBPACK_IMPORTED_MODULE_1__.AutoFocusPlugin, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_plugins_MentionsPlugin__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_plugins_LinkPlugin__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_plugins_EmojisPlugin__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_lexical_react_LexicalHashtagPlugin__WEBPACK_IMPORTED_MODULE_6__.HashtagPlugin, {}), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_plugins_KeywordsPlugin__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}), isCollabActive ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_lexical_react_LexicalCollaborationPlugin__WEBPACK_IMPORTED_MODULE_3__.CollaborationPlugin, {\n            id: caption.getKey(),\n            providerFactory: _collaboration__WEBPACK_IMPORTED_MODULE_14__.createWebsocketProvider,\n            shouldBootstrap: true\n          }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_lexical_react_LexicalHistoryPlugin__WEBPACK_IMPORTED_MODULE_7__.HistoryPlugin, {\n            externalHistoryState: historyState\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_lexical_react_LexicalRichTextPlugin__WEBPACK_IMPORTED_MODULE_9__.RichTextPlugin, {\n            contentEditable: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_ui_ContentEditable__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n              className: \"ImageNode__contentEditable\"\n            }),\n            placeholder: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_ui_Placeholder__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n              className: \"ImageNode__placeholder\",\n              children: \"Enter a caption...\"\n            }),\n            ErrorBoundary: (_lexical_react_LexicalErrorBoundary__WEBPACK_IMPORTED_MODULE_5___default())\n          }), showNestedEditorTreeView === true ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_plugins_TreeViewPlugin__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {}) : null]\n        })\n      }), resizable && (0,lexical__WEBPACK_IMPORTED_MODULE_12__.$isNodeSelection)(selection) && isFocused && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_ui_ImageResizer__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n        showCaption: showCaption,\n        setShowCaption: setShowCaption,\n        editor: editor,\n        buttonRef: buttonRef,\n        imageRef: imageRef,\n        maxWidth: maxWidth,\n        onResizeStart: onResizeStart,\n        onResizeEnd: onResizeEnd,\n        captionsEnabled: captionsEnabled\n      })]\n    })\n  });\n}\n\n_s2(ImageComponent, \"5aGDIbQjq8F+/CMhSed/ZRWFu1E=\", false, function () {\n  return [_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_10__.useLexicalNodeSelection, _lexical_react_LexicalCollaborationContext__WEBPACK_IMPORTED_MODULE_2__.useCollaborationContext, _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4__.useLexicalComposerContext, _context_SharedHistoryContext__WEBPACK_IMPORTED_MODULE_16__.useSharedHistoryContext, _context_SettingsContext__WEBPACK_IMPORTED_MODULE_15__.useSettings];\n});\n\n_c2 = ImageComponent;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LazyImage\");\n$RefreshReg$(_c2, \"ImageComponent\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3Ivbm9kZXMvSW1hZ2VDb21wb25lbnQudHN4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFjQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBRUEsSUFBTXlDLFVBQVUsR0FBRyxJQUFJQyxHQUFKLEVBQW5COztBQUVBLFNBQVNDLGdCQUFULENBQTBCQyxHQUExQixFQUF1QztFQUNyQyxJQUFJLENBQUNILFVBQVUsQ0FBQ0ksR0FBWCxDQUFlRCxHQUFmLENBQUwsRUFBMEI7SUFDeEIsTUFBTSxJQUFJRSxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFhO01BQzdCLElBQU1DLEdBQUcsR0FBRyxJQUFJQyxLQUFKLEVBQVo7TUFDQUQsR0FBRyxDQUFDSixHQUFKLEdBQVVBLEdBQVY7O01BQ0FJLEdBQUcsQ0FBQ0UsTUFBSixHQUFhLFlBQU07UUFDakJULFVBQVUsQ0FBQ1UsR0FBWCxDQUFlUCxHQUFmO1FBQ0FHLE9BQU8sQ0FBQyxJQUFELENBQVA7TUFDRCxDQUhEO0lBSUQsQ0FQSyxDQUFOO0VBUUQ7QUFDRjs7QUFFRCxTQUFTSyxTQUFULE9BZ0JnQjtFQUFBOztFQUFBLElBZmRDLE9BZWMsUUFmZEEsT0FlYztFQUFBLElBZGRDLFNBY2MsUUFkZEEsU0FjYztFQUFBLElBYmRDLFFBYWMsUUFiZEEsUUFhYztFQUFBLElBWmRYLEdBWWMsUUFaZEEsR0FZYztFQUFBLElBWGRZLEtBV2MsUUFYZEEsS0FXYztFQUFBLElBVmRDLE1BVWMsUUFWZEEsTUFVYztFQUFBLElBVGRDLFFBU2MsUUFUZEEs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RUFPR1EsY0FBYyxnQkFDYix3REFBQywwRkFBRDtZQUNFLEVBQUUsRUFBRVIsT0FBTyxDQUFDb0QsTUFBUixFQUROO1lBRUUsZUFBZSxFQUFFdkYsb0VBRm5CO1lBR0UsZUFBZSxFQUFFO1VBSG5CLEVBRGEsZ0JBT2Isd0RBQUMsOEVBQUQ7WUFBZSxvQkFBb0IsRUFBRWtGO1VBQXJDLEVBZEosZUFnQkUsd0RBQUMsZ0ZBQUQ7WUFDRSxlQUFlLGVBQ2Isd0RBQUMsNERBQUQ7Y0FBaUIsU0FBUyxFQUFDO1lBQTNCLEVBRko7WUFJRSxXQUFXLGVBQ1Qsd0RBQUMsd0RBQUQ7Y0FBYSxTQUFTLEVBQUMsd0JBQXZCO2NBQUEsVUFBZ0Q7WUFBaEQsRUFMSjtZQVNFLGFBQWEsRUFBRTNHLDRFQUFvQkE7VUFUckMsRUFoQkYsRUEyQkc0Ryx3QkFBd0IsS0FBSyxJQUE3QixnQkFBb0Msd0RBQUMsZ0VBQUQsS0FBcEMsR0FBeUQsSUEzQjVEO1FBQUE7TUFERixFQWpCSixFQWlER2xELFNBQVMsSUFBSWpELDBEQUFnQixDQUFDNkQsU0FBRCxDQUE3QixJQUE0Q3lDLFNBQTVDLGlCQUNDLHdEQUFDLHlEQUFEO1FBQ0UsV0FBVyxFQUFFcEQsV0FEZjtRQUVFLGNBQWMsRUFBRXlDLGNBRmxCO1FBR0UsTUFBTSxFQUFFL0IsTUFIVjtRQUlFLFNBQVMsRUFBRVAsU0FKYjtRQUtFLFFBQVEsRUFBRVgsUUFMWjtRQU1FLFFBQVEsRUFBRUcsUUFOWjtRQU9FLGFBQWEsRUFBRW9ELGFBUGpCO1FBUUUsV0FBVyxFQUFFTCxXQVJmO1FBU0UsZUFBZSxFQUFFeEM7TUFUbkIsRUFsREo7SUFBQTtFQURGLEVBREY7QUFtRUQ7O0lBMVJ1Qkw7VUEwQnBCbkQsOEZBRXVCUixpR0FDUkUsOEZBbUxNNEIscUZBR25CRDs7O01Bbk5rQjhCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvTGV4aWNhbEVkaXRvci9ub2Rlcy9JbWFnZUNvbXBvbmVudC50c3g/YmRhMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB0eXBlIHtcbiAgR3JpZFNlbGVjdGlvbixcbiAgTGV4aWNhbEVkaXRvcixcbiAgTm9kZUtleSxcbiAgTm9kZVNlbGVjdGlvbixcbiAgUmFuZ2VTZWxlY3Rpb24sXG59IGZyb20gJ2xleGljYWwnO1xuXG5pbXBvcnQgJy4vSW1hZ2VOb2RlLm1vZHVsZS5jc3MnXG5cbmltcG9ydCB7QXV0b0ZvY3VzUGx1Z2lufSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQXV0b0ZvY3VzUGx1Z2luJztcbmltcG9ydCB7dXNlQ29sbGFib3JhdGlvbkNvbnRleHR9IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb2xsYWJvcmF0aW9uQ29udGV4dCc7XG5pbXBvcnQge0NvbGxhYm9yYXRpb25QbHVnaW59IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxDb2xsYWJvcmF0aW9uUGx1Z2luJztcbmltcG9ydCB7dXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyQ29udGV4dCc7XG5pbXBvcnQgTGV4aWNhbEVycm9yQm91bmRhcnkgZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbEVycm9yQm91bmRhcnknO1xuaW1wb3J0IHtIYXNodGFnUGx1Z2lufSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsSGFzaHRhZ1BsdWdpbic7XG5pbXBvcnQge0hpc3RvcnlQbHVnaW59IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxIaXN0b3J5UGx1Z2luJztcbmltcG9ydCB7TGV4aWNhbE5lc3RlZENvbXBvc2VyfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsTmVzdGVkQ29tcG9zZXInO1xuaW1wb3J0IHtSaWNoVGV4dFBsdWdpbn0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbFJpY2hUZXh0UGx1Z2luJztcbmltcG9ydCB7dXNlTGV4aWNhbE5vZGVTZWxlY3Rpb259IGZyb20gJ0BsZXhpY2FsL3JlYWN0L3VzZUxleGljYWxOb2RlU2VsZWN0aW9uJztcbmltcG9ydCB7bWVyZ2VSZWdpc3Rlcn0gZnJvbSAnQGxleGljYWwvdXRpbHMnO1xuaW1wb3J0IHtcbiAgJGdldE5vZGVCeUtleSxcbiAgJGdldFNlbGVjdGlvbixcbiAgJGlzTm9kZVNlbGVjdGlvbixcbiAgJHNldFNlbGVjdGlvbixcbiAgQ0xJQ0tfQ09NTUFORCxcbiAgQ09NTUFORF9QUklPUklUWV9MT1csXG4gIERSQUdTVEFSVF9DT01NQU5ELFxuICBLRVlfQkFDS1NQQUNFX0NPTU1BTkQsXG4gIEtFWV9ERUxFVEVfQ09NTUFORCxcbiAgS0VZX0VOVEVSX0NPTU1BTkQsXG4gIEtFWV9FU0NBUEVfQ09NTUFORCxcbiAgU0VMRUNUSU9OX0NIQU5HRV9DT01NQU5ELFxufSBmcm9tICdsZXhpY2FsJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7U3VzcGVuc2UsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtjcmVhdGVXZWJzb2NrZXRQcm92aWRlcn0gZnJvbSAnLi4vY29sbGFib3JhdGlvbic7XG5pbXBvcnQge3VzZVNldHRpbmdzfSBmcm9tICcuLi9jb250ZXh0L1NldHRpbmdzQ29udGV4dCc7XG5pbXBvcnQge3VzZVNoYXJlZEhpc3RvcnlDb250ZXh0fSBmcm9tICcuLi9jb250ZXh0L1NoYXJlZEhpc3RvcnlDb250ZXh0JztcbmltcG9ydCBFbW9qaXNQbHVnaW4gZnJvbSAnLi4vcGx1Z2lucy9FbW9qaXNQbHVnaW4nO1xuaW1wb3J0IEtleXdvcmRzUGx1Z2luIGZyb20gJy4uL3BsdWdpbnMvS2V5d29yZHNQbHVnaW4nO1xuaW1wb3J0IExpbmtQbHVnaW4gZnJvbSAnLi4vcGx1Z2lucy9MaW5rUGx1Z2luJztcbmltcG9ydCBNZW50aW9uc1BsdWdpbiBmcm9tICcuLi9wbHVnaW5zL01lbnRpb25zUGx1Z2luJztcbmltcG9ydCBUcmVlVmlld1BsdWdpbiBmcm9tICcuLi9wbHVnaW5zL1RyZWVWaWV3UGx1Z2luJztcbmltcG9ydCBDb250ZW50RWRpdGFibGUgZnJvbSAnLi4vdWkvQ29udGVudEVkaXRhYmxlJztcbmltcG9ydCBJbWFnZVJlc2l6ZXIgZnJvbSAnLi4vdWkvSW1hZ2VSZXNpemVyJztcbmltcG9ydCBQbGFjZWhvbGRlciBmcm9tICcuLi91aS9QbGFjZWhvbGRlcic7XG5pbXBvcnQgeyRpc0ltYWdlTm9kZX0gZnJvbSAnLi9JbWFnZU5vZGUnO1xuXG5jb25zdCBpbWFnZUNhY2hlID0gbmV3IFNldCgpO1xuXG5mdW5jdGlvbiB1c2VTdXNwZW5zZUltYWdlKHNyYzogc3RyaW5nKSB7XG4gIGlmICghaW1hZ2VDYWNoZS5oYXMoc3JjKSkge1xuICAgIHRocm93IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5zcmMgPSBzcmM7XG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBpbWFnZUNhY2hlLmFkZChzcmMpO1xuICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBMYXp5SW1hZ2Uoe1xuICBhbHRUZXh0LFxuICBjbGFzc05hbWUsXG4gIGltYWdlUmVmLFxuICBzcmMsXG4gIHdpZHRoLFxuICBoZWlnaHQsXG4gIG1heFdpZHRoLFxufToge1xuICBhbHRUZXh0OiBzdHJpbmc7XG4gIGNsYXNzTmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgaGVpZ2h0OiAnaW5oZXJpdCcgfCBudW1iZXI7XG4gIGltYWdlUmVmOiB7Y3VycmVudDogbnVsbCB8IEhUTUxJbWFnZUVsZW1lbnR9O1xuICBtYXhXaWR0aDogbnVtYmVyO1xuICBzcmM6IHN0cmluZztcbiAgd2lkdGg6ICdpbmhlcml0JyB8IG51bWJlcjtcbn0pOiBKU1guRWxlbWVudCB7XG4gIHVzZVN1c3BlbnNlSW1hZ2Uoc3JjKTtcbiAgcmV0dXJuIChcbiAgICA8aW1nXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZSB8fCB1bmRlZmluZWR9XG4gICAgICBzcmM9e3NyY31cbiAgICAgIGFsdD17YWx0VGV4dH1cbiAgICAgIHJlZj17aW1hZ2VSZWZ9XG4gICAgICBzdHlsZT17e1xuICAgICAgICBoZWlnaHQsXG4gICAgICAgIG1heFdpZHRoLFxuICAgICAgICB3aWR0aCxcbiAgICAgIH19XG4gICAgICBkcmFnZ2FibGU9XCJmYWxzZVwiXG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW1hZ2VDb21wb25lbnQoe1xuICBzcmMsXG4gIGFsdFRleHQsXG4gIG5vZGVLZXksXG4gIHdpZHRoLFxuICBoZWlnaHQsXG4gIG1heFdpZHRoLFxuICByZXNpemFibGUsXG4gIHNob3dDYXB0aW9uLFxuICBjYXB0aW9uLFxuICBjYXB0aW9uc0VuYWJsZWQsXG59OiB7XG4gIGFsdFRleHQ6IHN0cmluZztcbiAgY2FwdGlvbjogTGV4aWNhbEVkaXRvcjtcbiAgaGVpZ2h0OiAnaW5oZXJpdCcgfCBudW1iZXI7XG4gIG1heFdpZHRoOiBudW1iZXI7XG4gIG5vZGVLZXk6IE5vZGVLZXk7XG4gIHJlc2l6YWJsZTogYm9vbGVhbjtcbiAgc2hvd0NhcHRpb246IGJvb2xlYW47XG4gIHNyYzogc3RyaW5nO1xuICB3aWR0aDogJ2luaGVyaXQnIHwgbnVtYmVyO1xuICBjYXB0aW9uc0VuYWJsZWQ6IGJvb2xlYW47XG59KTogSlNYLkVsZW1lbnQge1xuICBjb25zdCBpbWFnZVJlZiA9IHVzZVJlZjxudWxsIHwgSFRNTEltYWdlRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGJ1dHRvblJlZiA9IHVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNTZWxlY3RlZCwgc2V0U2VsZWN0ZWQsIGNsZWFyU2VsZWN0aW9uXSA9XG4gICAgdXNlTGV4aWNhbE5vZGVTZWxlY3Rpb24obm9kZUtleSk7XG4gIGNvbnN0IFtpc1Jlc2l6aW5nLCBzZXRJc1Jlc2l6aW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3Qge2lzQ29sbGFiQWN0aXZlfSA9IHVzZUNvbGxhYm9yYXRpb25Db250ZXh0KCk7XG4gIGNvbnN0IFtlZGl0b3JdID0gdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCgpO1xuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGU8XG4gICAgUmFuZ2VTZWxlY3Rpb24gfCBOb2RlU2VsZWN0aW9uIHwgR3JpZFNlbGVjdGlvbiB8IG51bGxcbiAgPihudWxsKTtcbiAgY29uc3QgYWN0aXZlRWRpdG9yUmVmID0gdXNlUmVmPExleGljYWxFZGl0b3IgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBvbkRlbGV0ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChwYXlsb2FkOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBpZiAoaXNTZWxlY3RlZCAmJiAkaXNOb2RlU2VsZWN0aW9uKCRnZXRTZWxlY3Rpb24oKSkpIHtcbiAgICAgICAgY29uc3QgZXZlbnQ6IEtleWJvYXJkRXZlbnQgPSBwYXlsb2FkO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBub2RlID0gJGdldE5vZGVCeUtleShub2RlS2V5KTtcbiAgICAgICAgaWYgKCRpc0ltYWdlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0U2VsZWN0ZWQoZmFsc2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgW2lzU2VsZWN0ZWQsIG5vZGVLZXksIHNldFNlbGVjdGVkXSxcbiAgKTtcblxuICBjb25zdCBvbkVudGVyID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBsYXRlc3RTZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKCk7XG4gICAgICBjb25zdCBidXR0b25FbGVtID0gYnV0dG9uUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoXG4gICAgICAgIGlzU2VsZWN0ZWQgJiZcbiAgICAgICAgJGlzTm9kZVNlbGVjdGlvbihsYXRlc3RTZWxlY3Rpb24pICYmXG4gICAgICAgIGxhdGVzdFNlbGVjdGlvbi5nZXROb2RlcygpLmxlbmd0aCA9PT0gMVxuICAgICAgKSB7XG4gICAgICAgIGlmIChzaG93Q2FwdGlvbikge1xuICAgICAgICAgIC8vIE1vdmUgZm9jdXMgaW50byBuZXN0ZWQgZWRpdG9yXG4gICAgICAgICAgJHNldFNlbGVjdGlvbihudWxsKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGNhcHRpb24uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBidXR0b25FbGVtICE9PSBudWxsICYmXG4gICAgICAgICAgYnV0dG9uRWxlbSAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgICAgICApIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJ1dHRvbkVsZW0uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgW2NhcHRpb24sIGlzU2VsZWN0ZWQsIHNob3dDYXB0aW9uXSxcbiAgKTtcblxuICBjb25zdCBvbkVzY2FwZSA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBhY3RpdmVFZGl0b3JSZWYuY3VycmVudCA9PT0gY2FwdGlvbiB8fFxuICAgICAgICBidXR0b25SZWYuY3VycmVudCA9PT0gZXZlbnQudGFyZ2V0XG4gICAgICApIHtcbiAgICAgICAgJHNldFNlbGVjdGlvbihudWxsKTtcbiAgICAgICAgZWRpdG9yLnVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWQodHJ1ZSk7XG4gICAgICAgICAgY29uc3QgcGFyZW50Um9vdEVsZW1lbnQgPSBlZGl0b3IuZ2V0Um9vdEVsZW1lbnQoKTtcbiAgICAgICAgICBpZiAocGFyZW50Um9vdEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmVudFJvb3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBbY2FwdGlvbiwgZWRpdG9yLCBzZXRTZWxlY3RlZF0sXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gbWVyZ2VSZWdpc3RlcihcbiAgICAgIGVkaXRvci5yZWdpc3RlclVwZGF0ZUxpc3RlbmVyKCh7ZWRpdG9yU3RhdGV9KSA9PiB7XG4gICAgICAgIHNldFNlbGVjdGlvbihlZGl0b3JTdGF0ZS5yZWFkKCgpID0+ICRnZXRTZWxlY3Rpb24oKSkpO1xuICAgICAgfSksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kKFxuICAgICAgICBTRUxFQ1RJT05fQ0hBTkdFX0NPTU1BTkQsXG4gICAgICAgIChfLCBhY3RpdmVFZGl0b3IpID0+IHtcbiAgICAgICAgICBhY3RpdmVFZGl0b3JSZWYuY3VycmVudCA9IGFjdGl2ZUVkaXRvcjtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQ8TW91c2VFdmVudD4oXG4gICAgICAgIENMSUNLX0NPTU1BTkQsXG4gICAgICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXZlbnQgPSBwYXlsb2FkO1xuXG4gICAgICAgICAgaWYgKGlzUmVzaXppbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpbWFnZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQoIWlzU2VsZWN0ZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIERSQUdTVEFSVF9DT01NQU5ELFxuICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpbWFnZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBUT0RPIFRoaXMgaXMganVzdCBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBGRiB0byBiZWhhdmUgbGlrZSBvdGhlciBicm93c2Vycy5cbiAgICAgICAgICAgIC8vIElkZWFsbHksIHRoaXMgaGFuZGxlcyBkcmFnICYgZHJvcCB0b28gKGFuZCBhbGwgYnJvd3NlcnMpLlxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIEtFWV9ERUxFVEVfQ09NTUFORCxcbiAgICAgICAgb25EZWxldGUsXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIEtFWV9CQUNLU1BBQ0VfQ09NTUFORCxcbiAgICAgICAgb25EZWxldGUsXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoS0VZX0VOVEVSX0NPTU1BTkQsIG9uRW50ZXIsIENPTU1BTkRfUFJJT1JJVFlfTE9XKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIEtFWV9FU0NBUEVfQ09NTUFORCxcbiAgICAgICAgb25Fc2NhcGUsXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICApO1xuICB9LCBbXG4gICAgY2xlYXJTZWxlY3Rpb24sXG4gICAgZWRpdG9yLFxuICAgIGlzUmVzaXppbmcsXG4gICAgaXNTZWxlY3RlZCxcbiAgICBub2RlS2V5LFxuICAgIG9uRGVsZXRlLFxuICAgIG9uRW50ZXIsXG4gICAgb25Fc2NhcGUsXG4gICAgc2V0U2VsZWN0ZWQsXG4gIF0pO1xuXG4gIGNvbnN0IHNldFNob3dDYXB0aW9uID0gKCkgPT4ge1xuICAgIGVkaXRvci51cGRhdGUoKCkgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9ICRnZXROb2RlQnlLZXkobm9kZUtleSk7XG4gICAgICBpZiAoJGlzSW1hZ2VOb2RlKG5vZGUpKSB7XG4gICAgICAgIG5vZGUuc2V0U2hvd0NhcHRpb24odHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgb25SZXNpemVFbmQgPSAoXG4gICAgbmV4dFdpZHRoOiAnaW5oZXJpdCcgfCBudW1iZXIsXG4gICAgbmV4dEhlaWdodDogJ2luaGVyaXQnIHwgbnVtYmVyLFxuICApID0+IHtcbiAgICAvLyBEZWxheSBoaWRpbmcgdGhlIHJlc2l6ZSBiYXJzIGZvciBjbGljayBjYXNlXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRJc1Jlc2l6aW5nKGZhbHNlKTtcbiAgICB9LCAyMDApO1xuXG4gICAgZWRpdG9yLnVwZGF0ZSgoKSA9PiB7XG4gICAgICBjb25zdCBub2RlID0gJGdldE5vZGVCeUtleShub2RlS2V5KTtcbiAgICAgIGlmICgkaXNJbWFnZU5vZGUobm9kZSkpIHtcbiAgICAgICAgbm9kZS5zZXRXaWR0aEFuZEhlaWdodChuZXh0V2lkdGgsIG5leHRIZWlnaHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IG9uUmVzaXplU3RhcnQgPSAoKSA9PiB7XG4gICAgc2V0SXNSZXNpemluZyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCB7aGlzdG9yeVN0YXRlfSA9IHVzZVNoYXJlZEhpc3RvcnlDb250ZXh0KCk7XG4gIGNvbnN0IHtcbiAgICBzZXR0aW5nczoge3Nob3dOZXN0ZWRFZGl0b3JUcmVlVmlld30sXG4gIH0gPSB1c2VTZXR0aW5ncygpO1xuXG4gIGNvbnN0IGRyYWdnYWJsZSA9IGlzU2VsZWN0ZWQgJiYgJGlzTm9kZVNlbGVjdGlvbihzZWxlY3Rpb24pICYmICFpc1Jlc2l6aW5nO1xuICBjb25zdCBpc0ZvY3VzZWQgPSBpc1NlbGVjdGVkIHx8IGlzUmVzaXppbmc7XG4gIHJldHVybiAoXG4gICAgPFN1c3BlbnNlIGZhbGxiYWNrPXtudWxsfT5cbiAgICAgIDw+XG4gICAgICAgIDxkaXYgZHJhZ2dhYmxlPXtkcmFnZ2FibGV9PlxuICAgICAgICAgIDxMYXp5SW1hZ2VcbiAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgIGlzRm9jdXNlZFxuICAgICAgICAgICAgICAgID8gYGZvY3VzZWQgJHskaXNOb2RlU2VsZWN0aW9uKHNlbGVjdGlvbikgPyAnZHJhZ2dhYmxlJyA6ICcnfWBcbiAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNyYz17c3JjfVxuICAgICAgICAgICAgYWx0VGV4dD17YWx0VGV4dH1cbiAgICAgICAgICAgIGltYWdlUmVmPXtpbWFnZVJlZn1cbiAgICAgICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgICAgIGhlaWdodD17aGVpZ2h0fVxuICAgICAgICAgICAgbWF4V2lkdGg9e21heFdpZHRofVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7c2hvd0NhcHRpb24gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1hZ2UtY2FwdGlvbi1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxMZXhpY2FsTmVzdGVkQ29tcG9zZXIgaW5pdGlhbEVkaXRvcj17Y2FwdGlvbn0+XG4gICAgICAgICAgICAgIDxBdXRvRm9jdXNQbHVnaW4gLz5cbiAgICAgICAgICAgICAgPE1lbnRpb25zUGx1Z2luIC8+XG4gICAgICAgICAgICAgIDxMaW5rUGx1Z2luIC8+XG4gICAgICAgICAgICAgIDxFbW9qaXNQbHVnaW4gLz5cbiAgICAgICAgICAgICAgPEhhc2h0YWdQbHVnaW4gLz5cbiAgICAgICAgICAgICAgPEtleXdvcmRzUGx1Z2luIC8+XG4gICAgICAgICAgICAgIHtpc0NvbGxhYkFjdGl2ZSA/IChcbiAgICAgICAgICAgICAgICA8Q29sbGFib3JhdGlvblBsdWdpblxuICAgICAgICAgICAgICAgICAgaWQ9e2NhcHRpb24uZ2V0S2V5KCl9XG4gICAgICAgICAgICAgICAgICBwcm92aWRlckZhY3Rvcnk9e2NyZWF0ZVdlYnNvY2tldFByb3ZpZGVyfVxuICAgICAgICAgICAgICAgICAgc2hvdWxkQm9vdHN0cmFwPXt0cnVlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPEhpc3RvcnlQbHVnaW4gZXh0ZXJuYWxIaXN0b3J5U3RhdGU9e2hpc3RvcnlTdGF0ZX0gLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPFJpY2hUZXh0UGx1Z2luXG4gICAgICAgICAgICAgICAgY29udGVudEVkaXRhYmxlPXtcbiAgICAgICAgICAgICAgICAgIDxDb250ZW50RWRpdGFibGUgY2xhc3NOYW1lPVwiSW1hZ2VOb2RlX19jb250ZW50RWRpdGFibGVcIiAvPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XG4gICAgICAgICAgICAgICAgICA8UGxhY2Vob2xkZXIgY2xhc3NOYW1lPVwiSW1hZ2VOb2RlX19wbGFjZWhvbGRlclwiPlxuICAgICAgICAgICAgICAgICAgICBFbnRlciBhIGNhcHRpb24uLi5cbiAgICAgICAgICAgICAgICAgIDwvUGxhY2Vob2xkZXI+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEVycm9yQm91bmRhcnk9e0xleGljYWxFcnJvckJvdW5kYXJ5fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7c2hvd05lc3RlZEVkaXRvclRyZWVWaWV3ID09PSB0cnVlID8gPFRyZWVWaWV3UGx1Z2luIC8+IDogbnVsbH1cbiAgICAgICAgICAgIDwvTGV4aWNhbE5lc3RlZENvbXBvc2VyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7cmVzaXphYmxlICYmICRpc05vZGVTZWxlY3Rpb24oc2VsZWN0aW9uKSAmJiBpc0ZvY3VzZWQgJiYgKFxuICAgICAgICAgIDxJbWFnZVJlc2l6ZXJcbiAgICAgICAgICAgIHNob3dDYXB0aW9uPXtzaG93Q2FwdGlvbn1cbiAgICAgICAgICAgIHNldFNob3dDYXB0aW9uPXtzZXRTaG93Q2FwdGlvbn1cbiAgICAgICAgICAgIGVkaXRvcj17ZWRpdG9yfVxuICAgICAgICAgICAgYnV0dG9uUmVmPXtidXR0b25SZWZ9XG4gICAgICAgICAgICBpbWFnZVJlZj17aW1hZ2VSZWZ9XG4gICAgICAgICAgICBtYXhXaWR0aD17bWF4V2lkdGh9XG4gICAgICAgICAgICBvblJlc2l6ZVN0YXJ0PXtvblJlc2l6ZVN0YXJ0fVxuICAgICAgICAgICAgb25SZXNpemVFbmQ9e29uUmVzaXplRW5kfVxuICAgICAgICAgICAgY2FwdGlvbnNFbmFibGVkPXtjYXB0aW9uc0VuYWJsZWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvPlxuICAgIDwvU3VzcGVuc2U+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiQXV0b0ZvY3VzUGx1Z2luIiwidXNlQ29sbGFib3JhdGlvbkNvbnRleHQiLCJDb2xsYWJvcmF0aW9uUGx1Z2luIiwidXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCIsIkxleGljYWxFcnJvckJvdW5kYXJ5IiwiSGFzaHRhZ1BsdWdpbiIsIkhpc3RvcnlQbHVnaW4iLCJMZXhpY2FsTmVzdGVkQ29tcG9zZXIiLCJSaWNoVGV4dFBsdWdpbiIsInVzZUxleGljYWxOb2RlU2VsZWN0aW9uIiwibWVyZ2VSZWdpc3RlciIsIiRnZXROb2RlQnlLZXkiLCIkZ2V0U2VsZWN0aW9uIiwiJGlzTm9kZVNlbGVjdGlvbiIsIiRzZXRTZWxlY3Rpb24iLCJDTElDS19DT01NQU5EIiwiQ09NTUFORF9QUklPUklUWV9MT1ciLCJEUkFHU1RBUlRfQ09NTUFORCIsIktFWV9CQUNLU1BBQ0VfQ09NTUFORCIsIktFWV9ERUxFVEVfQ09NTUFORCIsIktFWV9FTlRFUl9DT01NQU5EIiwiS0VZX0VTQ0FQRV9DT01NQU5EIiwiU0VMRUNUSU9OX0NIQU5HRV9DT01NQU5EIiwiUmVhY3QiLCJTdXNwZW5zZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJjcmVhdGVXZWJzb2NrZXRQcm92aWRlciIsInVzZVNldHRpbmdzIiwidXNlU2hhcmVkSGlzdG9yeUNvbnRleHQiLCJFbW9qaXNQbHVnaW4iLCJLZXl3b3Jkc1BsdWdpbiIsIkxpbmtQbHVnaW4iLCJNZW50aW9uc1BsdWdpbiIsIlRyZWVWaWV3UGx1Z2luIiwiQ29udGVudEVkaXRhYmxlIiwiSW1hZ2VSZXNpemVyIiwiUGxhY2Vob2xkZXIiLCIkaXNJbWFnZU5vZGUiLCJpbWFnZUNhY2hlIiwiU2V0IiwidXNlU3VzcGVuc2VJbWFnZSIsInNyYyIsImhhcyIsIlByb21pc2UiLCJyZXNvbHZlIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJhZGQiLCJMYXp5SW1hZ2UiLCJhbHRUZXh0IiwiY2xhc3NOYW1lIiwiaW1hZ2VSZWYiLCJ3aWR0aCIsImhlaWdodCIsIm1heFdpZHRoIiwidW5kZWZpbmVkIiwiSW1hZ2VDb21wb25lbnQiLCJub2RlS2V5IiwicmVzaXphYmxlIiwic2hvd0NhcHRpb24iLCJjYXB0aW9uIiwiY2FwdGlvbnNFbmFibGVkIiwiYnV0dG9uUmVmIiwiaXNTZWxlY3RlZCIsInNldFNlbGVjdGVkIiwiY2xlYXJTZWxlY3Rpb24iLCJpc1Jlc2l6aW5nIiwic2V0SXNSZXNpemluZyIsImlzQ29sbGFiQWN0aXZlIiwiZWRpdG9yIiwic2VsZWN0aW9uIiwic2V0U2VsZWN0aW9uIiwiYWN0aXZlRWRpdG9yUmVmIiwib25EZWxldGUiLCJwYXlsb2FkIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIm5vZGUiLCJyZW1vdmUiLCJvbkVudGVyIiwibGF0ZXN0U2VsZWN0aW9uIiwiYnV0dG9uRWxlbSIsImN1cnJlbnQiLCJnZXROb2RlcyIsImxlbmd0aCIsImZvY3VzIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50Iiwib25Fc2NhcGUiLCJ0YXJnZXQiLCJ1cGRhdGUiLCJwYXJlbnRSb290RWxlbWVudCIsImdldFJvb3RFbGVtZW50IiwicmVnaXN0ZXJVcGRhdGVMaXN0ZW5lciIsImVkaXRvclN0YXRlIiwicmVhZCIsInJlZ2lzdGVyQ29tbWFuZCIsIl8iLCJhY3RpdmVFZGl0b3IiLCJzaGlmdEtleSIsInNldFNob3dDYXB0aW9uIiwib25SZXNpemVFbmQiLCJuZXh0V2lkdGgiLCJuZXh0SGVpZ2h0Iiwic2V0VGltZW91dCIsInNldFdpZHRoQW5kSGVpZ2h0Iiwib25SZXNpemVTdGFydCIsImhpc3RvcnlTdGF0ZSIsInNob3dOZXN0ZWRFZGl0b3JUcmVlVmlldyIsInNldHRpbmdzIiwiZHJhZ2dhYmxlIiwiaXNGb2N1c2VkIiwiZ2V0S2V5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/LexicalEditor/nodes/ImageComponent.tsx\n"));

/***/ }),

/***/ "./components/LexicalEditor/nodes/MentionNode.ts":
/*!*******************************************************!*\
  !*** ./components/LexicalEditor/nodes/MentionNode.ts ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"$createMentionNode\": function() { return /* binding */ $createMentionNode; },\n/* harmony export */   \"$isMentionNode\": function() { return /* binding */ $isMentionNode; },\n/* harmony export */   \"MentionNode\": function() { return /* binding */ MentionNode; }\n/* harmony export */ });\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/get.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lexical */ \"./node_modules/lexical/Lexical.js\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lexical__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n */\n\n\nfunction convertMentionElement(domNode) {\n  var textContent = domNode.textContent;\n\n  if (textContent !== null) {\n    var node = $createMentionNode(textContent);\n    return {\n      node: node\n    };\n  }\n\n  return null;\n}\n\nvar mentionStyle = 'background-color: rgba(24, 119, 232, 0.2)';\nvar MentionNode = /*#__PURE__*/function (_TextNode) {\n  (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(MentionNode, _TextNode);\n\n  var _super = _createSuper(MentionNode);\n\n  function MentionNode(mentionName, text, key) {\n    var _this;\n\n    (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, MentionNode);\n\n    _this = _super.call(this, text !== null && text !== void 0 ? text : mentionName, key);\n    _this.__mention = mentionName;\n    return _this;\n  }\n\n  (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(MentionNode, [{\n    key: \"exportJSON\",\n    value: function exportJSON() {\n      return _objectSpread(_objectSpread({}, (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])((0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(MentionNode.prototype), \"exportJSON\", this).call(this)), {}, {\n        mentionName: this.__mention,\n        type: 'mention',\n        version: 1\n      });\n    }\n  }, {\n    key: \"createDOM\",\n    value: function createDOM(config) {\n      var dom = (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_get_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])((0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(MentionNode.prototype), \"createDOM\", this).call(this, config);\n\n      dom.style.cssText = mentionStyle;\n      dom.className = 'mention';\n      return dom;\n    }\n  }, {\n    key: \"exportDOM\",\n    value: function exportDOM() {\n      var element = document.createElement('span');\n      element.setAttribute('data-lexical-mention', 'true');\n      element.textContent = this.__text;\n      return {\n        element: element\n      };\n    }\n  }, {\n    key: \"isTextEntity\",\n    value: function isTextEntity() {\n      return true;\n    }\n  }], [{\n    key: \"getType\",\n    value: function getType() {\n      return 'mention';\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(node) {\n      return new MentionNode(node.__mention, node.__text, node.__key);\n    }\n  }, {\n    key: \"importJSON\",\n    value: function importJSON(serializedNode) {\n      var node = $createMentionNode(serializedNode.mentionName);\n      node.setTextContent(serializedNode.text);\n      node.setFormat(serializedNode.format);\n      node.setDetail(serializedNode.detail);\n      node.setMode(serializedNode.mode);\n      node.setStyle(serializedNode.style);\n      return node;\n    }\n  }, {\n    key: \"importDOM\",\n    value: function importDOM() {\n      return {\n        span: function span(domNode) {\n          if (!domNode.hasAttribute('data-lexical-mention')) {\n            return null;\n          }\n\n          return {\n            conversion: convertMentionElement,\n            priority: 1\n          };\n        }\n      };\n    }\n  }]);\n\n  return MentionNode;\n}(lexical__WEBPACK_IMPORTED_MODULE_7__.TextNode);\nfunction $createMentionNode(mentionName) {\n  var mentionNode = new MentionNode(mentionName);\n  mentionNode.setMode('segmented').toggleDirectionless();\n  return mentionNode;\n}\nfunction $isMentionNode(node) {\n  return node instanceof MentionNode;\n}\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3Ivbm9kZXMvTWVudGlvbk5vZGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7O0FBb0JBLFNBQVNDLHFCQUFULENBQ0VDLE9BREYsRUFFOEI7RUFDNUIsSUFBTUMsV0FBVyxHQUFHRCxPQUFPLENBQUNDLFdBQTVCOztFQUVBLElBQUlBLFdBQVcsS0FBSyxJQUFwQixFQUEwQjtJQUN4QixJQUFNQyxJQUFJLEdBQUdDLGtCQUFrQixDQUFDRixXQUFELENBQS9CO0lBQ0EsT0FBTztNQUNMQyxJQUFJLEVBQUpBO0lBREssQ0FBUDtFQUdEOztFQUVELE9BQU8sSUFBUDtBQUNEOztBQUVELElBQU1FLFlBQVksR0FBRywyQ0FBckI7QUFDTyxJQUFNQyxXQUFiO0VBQUE7O0VBQUE7O0VBb0JFLHFCQUFZQyxXQUFaLEVBQWlDQyxJQUFqQyxFQUFnREMsR0FBaEQsRUFBK0Q7SUFBQTs7SUFBQTs7SUFDN0QsMEJBQU1ELElBQU4sYUFBTUEsSUFBTixjQUFNQSxJQUFOLEdBQWNELFdBQWQsRUFBMkJFLEdBQTNCO0lBQ0EsTUFBS0MsU0FBTCxHQUFpQkgsV0FBakI7SUFGNkQ7RUFHOUQ7O0VBdkJIO0lBQUE7SUFBQSxPQXlCRSxzQkFBb0M7TUFDbEM7UUFFRUEsV0FBVyxFQUFFLEtBQUtHLFNBRnBCO1FBR0VDLElBQUksRUFBRSxTQUhSO1FBSUVDLE9BQU8sRUFBRTtNQUpYO0lBTUQ7RUFoQ0g7SUFBQTtJQUFBLE9Ba0NFLG1CQUFVQyxNQUFWLEVBQTZDO01BQzNDLElBQU1DLEdBQUcsR0FBRyxxV0FBZ0JELE1BQW5CLENBQVQ7O01BQ0FDLEdBQUcsQ0FBQ0MsS0FBSixDQUFVQyxPQUFWLEdBQW9CWCxZQUFwQjtNQUNBUyxHQUFHLENBQUNHLFNBQUosR0FBZ0IsU0FBaEI7TUFDQSxPQUFPSCxHQUFQO0lBQ0Q7RUF2Q0g7SUFBQTtJQUFBLE9BeUNFLHFCQUE2QjtNQUMzQixJQUFNSSxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixNQUF2QixDQUFoQjtNQUNBRixPQUFPLENBQUNHLFlBQVIsQ0FBcUIsc0JBQXJCLEVBQTZDLE1BQTdDO01BQ0FILE9BQU8sQ0FBQ2hCLFdBQVIsR0FBc0IsS0FBS29CLE1BQTNCO01BQ0EsT0FBTztRQUFDSixPQUFPLEVBQVBBO01BQUQsQ0FBUDtJQUNEO0VBOUNIO0lBQUE7SUFBQSxPQThERSx3QkFBcUI7TUFDbkIsT0FBTyxJQUFQO0lBQ0Q7RUFoRUg7SUFBQTtJQUFBLE9BR0UsbUJBQXlCO01BQ3ZCLE9BQU8sU0FBUDtJQUNEO0VBTEg7SUFBQTtJQUFBLE9BT0UsZUFBYWYsSUFBYixFQUE2QztNQUMzQyxPQUFPLElBQUlHLFdBQUosQ0FBZ0JILElBQUksQ0FBQ08sU0FBckIsRUFBZ0NQLElBQUksQ0FBQ21CLE1BQXJDLEVBQTZDbkIsSUFBSSxDQUFDb0IsS0FBbEQsQ0FBUDtJQUNEO0VBVEg7SUFBQTtJQUFBLE9BVUUsb0JBQWtCQyxjQUFsQixFQUFzRTtNQUNwRSxJQUFNckIsSUFBSSxHQUFHQyxrQkFBa0IsQ0FBQ29CLGNBQWMsQ0FBQ2pCLFdBQWhCLENBQS9CO01BQ0FKLElBQUksQ0FBQ3NCLGNBQUwsQ0FBb0JELGNBQWMsQ0FBQ2hCLElBQW5DO01BQ0FMLElBQUksQ0FBQ3VCLFNBQUwsQ0FBZUYsY0FBYyxDQUFDRyxNQUE5QjtNQUNBeEIsSUFBSSxDQUFDeUIsU0FBTCxDQUFlSixjQUFjLENBQUNLLE1BQTlCO01BQ0ExQixJQUFJLENBQUMyQixPQUFMLENBQWFOLGNBQWMsQ0FBQ08sSUFBNUI7TUFDQTVCLElBQUksQ0FBQzZCLFFBQUwsQ0FBY1IsY0FBYyxDQUFDVCxLQUE3QjtNQUNBLE9BQU9aLElBQVA7SUFDRDtFQWxCSDtJQUFBO0lBQUEsT0FnREUscUJBQTRDO01BQzFDLE9BQU87UUFDTDhCLElBQUksRUFBRSxjQUFDaEMsT0FBRCxFQUEwQjtVQUM5QixJQUFJLENBQUNBLE9BQU8sQ0FBQ2lDLFlBQVIsQ0FBcUIsc0JBQXJCLENBQUwsRUFBbUQ7WUFDakQsT0FBTyxJQUFQO1VBQ0Q7O1VBQ0QsT0FBTztZQUNMQyxVQUFVLEVBQUVuQyxxQkFEUDtZQUVMb0MsUUFBUSxFQUFFO1VBRkwsQ0FBUDtRQUlEO01BVEksQ0FBUDtJQVdEO0VBNURIOztFQUFBO0FBQUEsRUFBaUNyQyw2Q0FBakM7QUFtRU8sU0FBU0ssa0JBQVQsQ0FBNEJHLFdBQTVCLEVBQThEO0VBQ25FLElBQU04QixXQUFXLEdBQUcsSUFBSS9CLFdBQUosQ0FBZ0JDLFdBQWhCLENBQXBCO0VBQ0E4QixXQUFXLENBQUNQLE9BQVosQ0FBb0IsV0FBcEIsRUFBaUNRLG1CQUFqQztFQUNBLE9BQU9ELFdBQVA7QUFDRDtBQUVNLFNBQVNFLGNBQVQsQ0FDTHBDLElBREssRUFFZ0I7RUFDckIsT0FBT0EsSUFBSSxZQUFZRyxXQUF2QjtBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvTGV4aWNhbEVkaXRvci9ub2Rlcy9NZW50aW9uTm9kZS50cz9hNjgxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxyXG4gKlxyXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcclxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxyXG4gKlxyXG4gKi9cclxuXHJcbmltcG9ydCB0eXBlIHtTcHJlYWR9IGZyb20gJ2xleGljYWwnO1xyXG5cclxuaW1wb3J0IHtcclxuICBET01Db252ZXJzaW9uTWFwLFxyXG4gIERPTUNvbnZlcnNpb25PdXRwdXQsXHJcbiAgRE9NRXhwb3J0T3V0cHV0LFxyXG4gIEVkaXRvckNvbmZpZyxcclxuICBMZXhpY2FsTm9kZSxcclxuICBOb2RlS2V5LFxyXG4gIFNlcmlhbGl6ZWRUZXh0Tm9kZSxcclxuICBUZXh0Tm9kZSxcclxufSBmcm9tICdsZXhpY2FsJztcclxuXHJcbmV4cG9ydCB0eXBlIFNlcmlhbGl6ZWRNZW50aW9uTm9kZSA9IFNwcmVhZDxcclxuICB7XHJcbiAgICBtZW50aW9uTmFtZTogc3RyaW5nO1xyXG4gICAgdHlwZTogJ21lbnRpb24nO1xyXG4gICAgdmVyc2lvbjogMTtcclxuICB9LFxyXG4gIFNlcmlhbGl6ZWRUZXh0Tm9kZVxyXG4+O1xyXG5cclxuZnVuY3Rpb24gY29udmVydE1lbnRpb25FbGVtZW50KFxyXG4gIGRvbU5vZGU6IEhUTUxFbGVtZW50LFxyXG4pOiBET01Db252ZXJzaW9uT3V0cHV0IHwgbnVsbCB7XHJcbiAgY29uc3QgdGV4dENvbnRlbnQgPSBkb21Ob2RlLnRleHRDb250ZW50O1xyXG5cclxuICBpZiAodGV4dENvbnRlbnQgIT09IG51bGwpIHtcclxuICAgIGNvbnN0IG5vZGUgPSAkY3JlYXRlTWVudGlvbk5vZGUodGV4dENvbnRlbnQpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbm9kZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuY29uc3QgbWVudGlvblN0eWxlID0gJ2JhY2tncm91bmQtY29sb3I6IHJnYmEoMjQsIDExOSwgMjMyLCAwLjIpJztcclxuZXhwb3J0IGNsYXNzIE1lbnRpb25Ob2RlIGV4dGVuZHMgVGV4dE5vZGUge1xyXG4gIF9fbWVudGlvbjogc3RyaW5nO1xyXG5cclxuICBzdGF0aWMgZ2V0VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdtZW50aW9uJztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjbG9uZShub2RlOiBNZW50aW9uTm9kZSk6IE1lbnRpb25Ob2RlIHtcclxuICAgIHJldHVybiBuZXcgTWVudGlvbk5vZGUobm9kZS5fX21lbnRpb24sIG5vZGUuX190ZXh0LCBub2RlLl9fa2V5KTtcclxuICB9XHJcbiAgc3RhdGljIGltcG9ydEpTT04oc2VyaWFsaXplZE5vZGU6IFNlcmlhbGl6ZWRNZW50aW9uTm9kZSk6IE1lbnRpb25Ob2RlIHtcclxuICAgIGNvbnN0IG5vZGUgPSAkY3JlYXRlTWVudGlvbk5vZGUoc2VyaWFsaXplZE5vZGUubWVudGlvbk5hbWUpO1xyXG4gICAgbm9kZS5zZXRUZXh0Q29udGVudChzZXJpYWxpemVkTm9kZS50ZXh0KTtcclxuICAgIG5vZGUuc2V0Rm9ybWF0KHNlcmlhbGl6ZWROb2RlLmZvcm1hdCk7XHJcbiAgICBub2RlLnNldERldGFpbChzZXJpYWxpemVkTm9kZS5kZXRhaWwpO1xyXG4gICAgbm9kZS5zZXRNb2RlKHNlcmlhbGl6ZWROb2RlLm1vZGUpO1xyXG4gICAgbm9kZS5zZXRTdHlsZShzZXJpYWxpemVkTm9kZS5zdHlsZSk7XHJcbiAgICByZXR1cm4gbm9kZTtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKG1lbnRpb25OYW1lOiBzdHJpbmcsIHRleHQ/OiBzdHJpbmcsIGtleT86IE5vZGVLZXkpIHtcclxuICAgIHN1cGVyKHRleHQgPz8gbWVudGlvbk5hbWUsIGtleSk7XHJcbiAgICB0aGlzLl9fbWVudGlvbiA9IG1lbnRpb25OYW1lO1xyXG4gIH1cclxuXHJcbiAgZXhwb3J0SlNPTigpOiBTZXJpYWxpemVkTWVudGlvbk5vZGUge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uc3VwZXIuZXhwb3J0SlNPTigpLFxyXG4gICAgICBtZW50aW9uTmFtZTogdGhpcy5fX21lbnRpb24sXHJcbiAgICAgIHR5cGU6ICdtZW50aW9uJyxcclxuICAgICAgdmVyc2lvbjogMSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBjcmVhdGVET00oY29uZmlnOiBFZGl0b3JDb25maWcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBkb20gPSBzdXBlci5jcmVhdGVET00oY29uZmlnKTtcclxuICAgIGRvbS5zdHlsZS5jc3NUZXh0ID0gbWVudGlvblN0eWxlO1xyXG4gICAgZG9tLmNsYXNzTmFtZSA9ICdtZW50aW9uJztcclxuICAgIHJldHVybiBkb207XHJcbiAgfVxyXG5cclxuICBleHBvcnRET00oKTogRE9NRXhwb3J0T3V0cHV0IHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1sZXhpY2FsLW1lbnRpb24nLCAndHJ1ZScpO1xyXG4gICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX190ZXh0O1xyXG4gICAgcmV0dXJuIHtlbGVtZW50fTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBpbXBvcnRET00oKTogRE9NQ29udmVyc2lvbk1hcCB8IG51bGwge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3BhbjogKGRvbU5vZGU6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCFkb21Ob2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS1sZXhpY2FsLW1lbnRpb24nKSkge1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBjb252ZXJzaW9uOiBjb252ZXJ0TWVudGlvbkVsZW1lbnQsXHJcbiAgICAgICAgICBwcmlvcml0eTogMSxcclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGlzVGV4dEVudGl0eSgpOiB0cnVlIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uICRjcmVhdGVNZW50aW9uTm9kZShtZW50aW9uTmFtZTogc3RyaW5nKTogTWVudGlvbk5vZGUge1xyXG4gIGNvbnN0IG1lbnRpb25Ob2RlID0gbmV3IE1lbnRpb25Ob2RlKG1lbnRpb25OYW1lKTtcclxuICBtZW50aW9uTm9kZS5zZXRNb2RlKCdzZWdtZW50ZWQnKS50b2dnbGVEaXJlY3Rpb25sZXNzKCk7XHJcbiAgcmV0dXJuIG1lbnRpb25Ob2RlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gJGlzTWVudGlvbk5vZGUoXHJcbiAgbm9kZTogTGV4aWNhbE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkLFxyXG4pOiBub2RlIGlzIE1lbnRpb25Ob2RlIHtcclxuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIE1lbnRpb25Ob2RlO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJUZXh0Tm9kZSIsImNvbnZlcnRNZW50aW9uRWxlbWVudCIsImRvbU5vZGUiLCJ0ZXh0Q29udGVudCIsIm5vZGUiLCIkY3JlYXRlTWVudGlvbk5vZGUiLCJtZW50aW9uU3R5bGUiLCJNZW50aW9uTm9kZSIsIm1lbnRpb25OYW1lIiwidGV4dCIsImtleSIsIl9fbWVudGlvbiIsInR5cGUiLCJ2ZXJzaW9uIiwiY29uZmlnIiwiZG9tIiwic3R5bGUiLCJjc3NUZXh0IiwiY2xhc3NOYW1lIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsIl9fdGV4dCIsIl9fa2V5Iiwic2VyaWFsaXplZE5vZGUiLCJzZXRUZXh0Q29udGVudCIsInNldEZvcm1hdCIsImZvcm1hdCIsInNldERldGFpbCIsImRldGFpbCIsInNldE1vZGUiLCJtb2RlIiwic2V0U3R5bGUiLCJzcGFuIiwiaGFzQXR0cmlidXRlIiwiY29udmVyc2lvbiIsInByaW9yaXR5IiwibWVudGlvbk5vZGUiLCJ0b2dnbGVEaXJlY3Rpb25sZXNzIiwiJGlzTWVudGlvbk5vZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/LexicalEditor/nodes/MentionNode.ts\n"));

/***/ }),

/***/ "./components/LexicalEditor/plugins/LinkPlugin/index.tsx":
/*!***************************************************************!*\
  !*** ./components/LexicalEditor/plugins/LinkPlugin/index.tsx ***!
  \***************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ LinkPlugin; }\n/* harmony export */ });\n/* harmony import */ var _lexical_react_LexicalLinkPlugin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @lexical/react/LexicalLinkPlugin */ \"./node_modules/@lexical/react/LexicalLinkPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalLinkPlugin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalLinkPlugin__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/url */ \"./components/LexicalEditor/utils/url.ts\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);\nvar _jsxFileName = \"/home/songliansheng/projects/blog-ui/components/LexicalEditor/plugins/LinkPlugin/index.tsx\";\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\nfunction LinkPlugin() {\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_lexical_react_LexicalLinkPlugin__WEBPACK_IMPORTED_MODULE_0__.LinkPlugin, {\n    validateUrl: _utils_url__WEBPACK_IMPORTED_MODULE_2__.validateUrl\n  });\n}\n_c = LinkPlugin;\n\nvar _c;\n\n$RefreshReg$(_c, \"LinkPlugin\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvcGx1Z2lucy9MaW5rUGx1Z2luL2luZGV4LnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBRWUsU0FBU0EsVUFBVCxHQUFtQztFQUNoRCxvQkFBTyx1REFBQyx3RUFBRDtJQUFtQixXQUFXLEVBQUVHLG1EQUFXQTtFQUEzQyxFQUFQO0FBQ0Q7S0FGdUJIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvTGV4aWNhbEVkaXRvci9wbHVnaW5zL0xpbmtQbHVnaW4vaW5kZXgudHN4PzBiZGMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5pbXBvcnQge0xpbmtQbHVnaW4gYXMgTGV4aWNhbExpbmtQbHVnaW59IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxMaW5rUGx1Z2luJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHt2YWxpZGF0ZVVybH0gZnJvbSAnLi4vLi4vdXRpbHMvdXJsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGlua1BsdWdpbigpOiBKU1guRWxlbWVudCB7XG4gIHJldHVybiA8TGV4aWNhbExpbmtQbHVnaW4gdmFsaWRhdGVVcmw9e3ZhbGlkYXRlVXJsfSAvPjtcbn1cbiJdLCJuYW1lcyI6WyJMaW5rUGx1Z2luIiwiTGV4aWNhbExpbmtQbHVnaW4iLCJSZWFjdCIsInZhbGlkYXRlVXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/LexicalEditor/plugins/LinkPlugin/index.tsx\n"));

/***/ }),

/***/ "./components/LexicalEditor/plugins/MentionsPlugin/index.tsx":
/*!*******************************************************************!*\
  !*** ./components/LexicalEditor/plugins/MentionsPlugin/index.tsx ***!
  \*******************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ NewMentionsPlugin; }\n/* harmony export */ });\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf.js */ \"./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"./node_modules/@lexical/react/LexicalComposerContext.js\");\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _lexical_react_LexicalTypeaheadMenuPlugin__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lexical/react/LexicalTypeaheadMenuPlugin */ \"./node_modules/@lexical/react/LexicalTypeaheadMenuPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalTypeaheadMenuPlugin__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalTypeaheadMenuPlugin__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _nodes_MentionNode__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../nodes/MentionNode */ \"./components/LexicalEditor/nodes/MentionNode.ts\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\nvar _jsxFileName = \"/home/songliansheng/projects/blog-ui/components/LexicalEditor/plugins/MentionsPlugin/index.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n\n\n\n\nvar PUNCTUATION = '\\\\.,\\\\+\\\\*\\\\?\\\\$\\\\@\\\\|#{}\\\\(\\\\)\\\\^\\\\-\\\\[\\\\]\\\\\\\\/!%\\'\"~=<>_:;';\nvar NAME = '\\\\b[A-Z][^\\\\s' + PUNCTUATION + ']';\nvar DocumentMentionsRegex = {\n  NAME: NAME,\n  PUNCTUATION: PUNCTUATION\n};\nvar CapitalizedNameMentionsRegex = new RegExp('(^|[^#])((?:' + DocumentMentionsRegex.NAME + '{' + 1 + ',})$)');\nvar PUNC = DocumentMentionsRegex.PUNCTUATION;\nvar TRIGGERS = ['@'].join(''); // Chars we expect to see in a mention (non-space, non-punctuation).\n\nvar VALID_CHARS = '[^' + TRIGGERS + PUNC + '\\\\s]'; // Non-standard series of chars. Each series must be preceded and followed by\n// a valid char.\n\nvar VALID_JOINS = '(?:' + '\\\\.[ |$]|' + // E.g. \"r. \" in \"Mr. Smith\"\n' |' + // E.g. \" \" in \"Josh Duck\"\n'[' + PUNC + ']|' + // E.g. \"-' in \"Salier-Hellendag\"\n')';\nvar LENGTH_LIMIT = 75;\nvar AtSignMentionsRegex = new RegExp('(^|\\\\s|\\\\()(' + '[' + TRIGGERS + ']' + '((?:' + VALID_CHARS + VALID_JOINS + '){0,' + LENGTH_LIMIT + '})' + ')$'); // 50 is the longest alias length limit.\n\nvar ALIAS_LENGTH_LIMIT = 50; // Regex used to match alias.\n\nvar AtSignMentionsRegexAliasRegex = new RegExp('(^|\\\\s|\\\\()(' + '[' + TRIGGERS + ']' + '((?:' + VALID_CHARS + '){0,' + ALIAS_LENGTH_LIMIT + '})' + ')$'); // At most, 5 suggestions are shown in the popup.\n\nvar SUGGESTION_LIST_LENGTH_LIMIT = 5;\nvar mentionsCache = new Map();\nvar dummyMentionsData = ['Aayla Secura', 'Adi Gallia', 'Admiral Dodd Rancit', 'Admiral Firmus Piett', 'Admiral Gial Ackbar', 'Admiral Ozzel', 'Admiral Raddus', 'Admiral Terrinald Screed', 'Admiral Trench', 'Admiral U.O. Statura', 'Agen Kolar', 'Agent Kallus', 'Aiolin and Morit Astarte', 'Aks Moe', 'Almec', 'Alton Kastle', 'Amee', 'AP-5', 'Armitage Hux', 'Artoo', 'Arvel Crynyd', 'Asajj Ventress', 'Aurra Sing', 'AZI-3', 'Bala-Tik', 'Barada', 'Bargwill Tomder', 'Baron Papanoida', 'Barriss Offee', 'Baze Malbus', 'Bazine Netal', 'BB-8', 'BB-9E', 'Ben Quadinaros', 'Berch Teller', 'Beru Lars', 'Bib Fortuna', 'Biggs Darklighter', 'Black Krrsantan', 'Bo-Katan Kryze', 'Boba Fett', 'Bobbajo', 'Bodhi Rook', 'Borvo the Hutt', 'Boss Nass', 'Bossk', 'Breha Antilles-Organa', 'Bren Derlin', 'Brendol Hux', 'BT-1', 'C-3PO', 'C1-10P', 'Cad Bane', 'Caluan Ematt', 'Captain Gregor', 'Captain Phasma', 'Captain Quarsh Panaka', 'Captain Rex', 'Carlist Rieekan', 'Casca Panzoro', 'Cassian Andor', 'Cassio Tagge', 'Cham Syndulla', 'Che Amanwe Papanoida', 'Chewbacca', 'Chi Eekway Papanoida', 'Chief Chirpa', 'Chirrut Îmwe', 'Ciena Ree', 'Cin Drallig', 'Clegg Holdfast', 'Cliegg Lars', 'Coleman Kcaj', 'Coleman Trebor', 'Colonel Kaplan', 'Commander Bly', 'Commander Cody (CC-2224)', 'Commander Fil (CC-3714)', 'Commander Fox', 'Commander Gree', 'Commander Jet', 'Commander Wolffe', 'Conan Antonio Motti', 'Conder Kyl', 'Constable Zuvio', 'Cordé', 'Cpatain Typho', 'Crix Madine', 'Cut Lawquane', 'Dak Ralter', 'Dapp', 'Darth Bane', 'Darth Maul', 'Darth Tyranus', 'Daultay Dofine', 'Del Meeko', 'Delian Mors', 'Dengar', 'Depa Billaba', 'Derek Klivian', 'Dexter Jettster', 'Dineé Ellberger', 'DJ', 'Doctor Aphra', 'Doctor Evazan', 'Dogma', 'Dormé', 'Dr. Cylo', 'Droidbait', 'Droopy McCool', 'Dryden Vos', 'Dud Bolt', 'Ebe E. Endocott', 'Echuu Shen-Jon', 'Eeth Koth', 'Eighth Brother', 'Eirtaé', 'Eli Vanto', 'Ellé', 'Ello Asty', 'Embo', 'Eneb Ray', 'Enfys Nest', 'EV-9D9', 'Evaan Verlaine', 'Even Piell', 'Ezra Bridger', 'Faro Argyus', 'Feral', 'Fifth Brother', 'Finis Valorum', 'Finn', 'Fives', 'FN-1824', 'FN-2003', 'Fodesinbeed Annodue', 'Fulcrum', 'FX-7', 'GA-97', 'Galen Erso', 'Gallius Rax', 'Garazeb \"Zeb\" Orrelios', 'Gardulla the Hutt', 'Garrick Versio', 'Garven Dreis', 'Gavyn Sykes', 'Gideon Hask', 'Gizor Dellso', 'Gonk droid', 'Grand Inquisitor', 'Greeata Jendowanian', 'Greedo', 'Greer Sonnel', 'Grievous', 'Grummgar', 'Gungi', 'Hammerhead', 'Han Solo', 'Harter Kalonia', 'Has Obbit', 'Hera Syndulla', 'Hevy', 'Hondo Ohnaka', 'Huyang', 'Iden Versio', 'IG-88', 'Ima-Gun Di', 'Inquisitors', 'Inspector Thanoth', 'Jabba', 'Jacen Syndulla', 'Jan Dodonna', 'Jango Fett', 'Janus Greejatus', 'Jar Jar Binks', 'Jas Emari', 'Jaxxon', 'Jek Tono Porkins', 'Jeremoch Colton', 'Jira', 'Jobal Naberrie', 'Jocasta Nu', 'Joclad Danva', 'Joh Yowza', 'Jom Barell', 'Joph Seastriker', 'Jova Tarkin', 'Jubnuk', 'Jyn Erso', 'K-2SO', 'Kanan Jarrus', 'Karbin', 'Karina the Great', 'Kes Dameron', 'Ketsu Onyo', 'Ki-Adi-Mundi', 'King Katuunko', 'Kit Fisto', 'Kitster Banai', 'Klaatu', 'Klik-Klak', 'Korr Sella', 'Kylo Ren', 'L3-37', 'Lama Su', 'Lando Calrissian', 'Lanever Villecham', 'Leia Organa', 'Letta Turmond', 'Lieutenant Kaydel Ko Connix', 'Lieutenant Thire', 'Lobot', 'Logray', 'Lok Durd', 'Longo Two-Guns', 'Lor San Tekka', 'Lorth Needa', 'Lott Dod', 'Luke Skywalker', 'Lumat', 'Luminara Unduli', 'Lux Bonteri', 'Lyn Me', 'Lyra Erso', 'Mace Windu', 'Malakili', 'Mama the Hutt', 'Mars Guo', 'Mas Amedda', 'Mawhonic', 'Max Rebo', 'Maximilian Veers', 'Maz Kanata', 'ME-8D9', 'Meena Tills', 'Mercurial Swift', 'Mina Bonteri', 'Miraj Scintel', 'Mister Bones', 'Mod Terrik', 'Moden Canady', 'Mon Mothma', 'Moradmin Bast', 'Moralo Eval', 'Morley', 'Mother Talzin', 'Nahdar Vebb', 'Nahdonnis Praji', 'Nien Nunb', 'Niima the Hutt', 'Nines', 'Norra Wexley', 'Nute Gunray', 'Nuvo Vindi', 'Obi-Wan Kenobi', 'Odd Ball', 'Ody Mandrell', 'Omi', 'Onaconda Farr', 'Oola', 'OOM-9', 'Oppo Rancisis', 'Orn Free Taa', 'Oro Dassyne', 'Orrimarko', 'Osi Sobeck', 'Owen Lars', 'Pablo-Jill', 'Padmé Amidala', 'Pagetti Rook', 'Paige Tico', 'Paploo', 'Petty Officer Thanisson', 'Pharl McQuarrie', 'Plo Koon', 'Po Nudo', 'Poe Dameron', 'Poggle the Lesser', 'Pong Krell', 'Pooja Naberrie', 'PZ-4CO', 'Quarrie', 'Quay Tolsite', 'Queen Apailana', 'Queen Jamillia', 'Queen Neeyutnee', 'Qui-Gon Jinn', 'Quiggold', 'Quinlan Vos', 'R2-D2', 'R2-KT', 'R3-S6', 'R4-P17', 'R5-D4', 'RA-7', 'Rabé', 'Rako Hardeen', 'Ransolm Casterfo', 'Rappertunie', 'Ratts Tyerell', 'Raymus Antilles', 'Ree-Yees', 'Reeve Panzoro', 'Rey', 'Ric Olié', 'Riff Tamson', 'Riley', 'Rinnriyin Di', 'Rio Durant', 'Rogue Squadron', 'Romba', 'Roos Tarpals', 'Rose Tico', 'Rotta the Hutt', 'Rukh', 'Rune Haako', 'Rush Clovis', 'Ruwee Naberrie', 'Ryoo Naberrie', 'Sabé', 'Sabine Wren', 'Saché', 'Saelt-Marae', 'Saesee Tiin', 'Salacious B. Crumb', 'San Hill', 'Sana Starros', 'Sarco Plank', 'Sarkli', 'Satine Kryze', 'Savage Opress', 'Sebulba', 'Senator Organa', 'Sergeant Kreel', 'Seventh Sister', 'Shaak Ti', 'Shara Bey', 'Shmi Skywalker', 'Shu Mai', 'Sidon Ithano', 'Sifo-Dyas', 'Sim Aloo', 'Siniir Rath Velus', 'Sio Bibble', 'Sixth Brother', 'Slowen Lo', 'Sly Moore', 'Snaggletooth', 'Snap Wexley', 'Snoke', 'Sola Naberrie', 'Sora Bulq', 'Strono Tuggs', 'Sy Snootles', 'Tallissan Lintra', 'Tarfful', 'Tasu Leech', 'Taun We', 'TC-14', 'Tee Watt Kaa', 'Teebo', 'Teedo', 'Teemto Pagalies', 'Temiri Blagg', 'Tessek', 'Tey How', 'Thane Kyrell', 'The Bendu', 'The Smuggler', 'Thrawn', 'Tiaan Jerjerrod', 'Tion Medon', 'Tobias Beckett', 'Tulon Voidgazer', 'Tup', 'U9-C4', 'Unkar Plutt', 'Val Beckett', 'Vanden Willard', 'Vice Admiral Amilyn Holdo', 'Vober Dand', 'WAC-47', 'Wag Too', 'Wald', 'Walrus Man', 'Warok', 'Wat Tambor', 'Watto', 'Wedge Antilles', 'Wes Janson', 'Wicket W. Warrick', 'Wilhuff Tarkin', 'Wollivan', 'Wuher', 'Wullf Yularen', 'Xamuel Lennox', 'Yaddle', 'Yarael Poof', 'Yoda', 'Zam Wesell', 'Zev Senesca', 'Ziro the Hutt', 'Zuckuss'];\nvar dummyLookupService = {\n  search: function search(string, callback) {\n    setTimeout(function () {\n      var results = dummyMentionsData.filter(function (mention) {\n        return mention.toLowerCase().includes(string.toLowerCase());\n      });\n      callback(results);\n    }, 500);\n  }\n};\n\nfunction useMentionLookupService(mentionString) {\n  _s();\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)([]),\n      results = _useState[0],\n      setResults = _useState[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(function () {\n    var cachedResults = mentionsCache.get(mentionString);\n\n    if (mentionString == null) {\n      setResults([]);\n      return;\n    }\n\n    if (cachedResults === null) {\n      return;\n    } else if (cachedResults !== undefined) {\n      setResults(cachedResults);\n      return;\n    }\n\n    mentionsCache.set(mentionString, null);\n    dummyLookupService.search(mentionString, function (newResults) {\n      mentionsCache.set(mentionString, newResults);\n      setResults(newResults);\n    });\n  }, [mentionString]);\n  return results;\n}\n\n_s(useMentionLookupService, \"0Oir8sO9qj6087fqVYj2OrfQH1E=\");\n\nfunction checkForCapitalizedNameMentions(text, minMatchLength) {\n  var match = CapitalizedNameMentionsRegex.exec(text);\n\n  if (match !== null) {\n    // The strategy ignores leading whitespace but we need to know it's\n    // length to add it to the leadOffset\n    var maybeLeadingWhitespace = match[1];\n    var matchingString = match[2];\n\n    if (matchingString != null && matchingString.length >= minMatchLength) {\n      return {\n        leadOffset: match.index + maybeLeadingWhitespace.length,\n        matchingString: matchingString,\n        replaceableString: matchingString\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction checkForAtSignMentions(text, minMatchLength) {\n  var match = AtSignMentionsRegex.exec(text);\n\n  if (match === null) {\n    match = AtSignMentionsRegexAliasRegex.exec(text);\n  }\n\n  if (match !== null) {\n    // The strategy ignores leading whitespace but we need to know it's\n    // length to add it to the leadOffset\n    var maybeLeadingWhitespace = match[1];\n    var matchingString = match[3];\n\n    if (matchingString.length >= minMatchLength) {\n      return {\n        leadOffset: match.index + maybeLeadingWhitespace.length,\n        matchingString: matchingString,\n        replaceableString: match[2]\n      };\n    }\n  }\n\n  return null;\n}\n\nfunction getPossibleQueryMatch(text) {\n  var match = checkForAtSignMentions(text, 1);\n  return match === null ? checkForCapitalizedNameMentions(text, 3) : match;\n}\n\nvar MentionTypeaheadOption = /*#__PURE__*/function (_TypeaheadOption) {\n  (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(MentionTypeaheadOption, _TypeaheadOption);\n\n  var _super = _createSuper(MentionTypeaheadOption);\n\n  function MentionTypeaheadOption(name, picture) {\n    var _this;\n\n    (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, MentionTypeaheadOption);\n\n    _this = _super.call(this, name);\n    _this.name = name;\n    _this.picture = picture;\n    return _this;\n  }\n\n  return (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(MentionTypeaheadOption);\n}(_lexical_react_LexicalTypeaheadMenuPlugin__WEBPACK_IMPORTED_MODULE_7__.TypeaheadOption);\n\nfunction MentionsTypeaheadMenuItem(_ref) {\n  var index = _ref.index,\n      isSelected = _ref.isSelected,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      option = _ref.option;\n  var className = 'item';\n\n  if (isSelected) {\n    className += ' selected';\n  }\n\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(\"li\", {\n    tabIndex: -1,\n    className: className,\n    ref: option.setRefElement,\n    role: \"option\",\n    \"aria-selected\": isSelected,\n    id: 'typeahead-item-' + index,\n    onMouseEnter: onMouseEnter,\n    onClick: onClick,\n    children: [option.picture, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(\"span\", {\n      className: \"text\",\n      children: option.name\n    })]\n  }, option.key);\n}\n\n_c = MentionsTypeaheadMenuItem;\nfunction NewMentionsPlugin() {\n  _s2();\n\n  var _this2 = this;\n\n  var _useLexicalComposerCo = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext)(),\n      _useLexicalComposerCo2 = (0,_home_songliansheng_projects_blog_ui_node_modules_next_dist_compiled_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_useLexicalComposerCo, 1),\n      editor = _useLexicalComposerCo2[0];\n\n  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(null),\n      queryString = _useState2[0],\n      setQueryString = _useState2[1];\n\n  var results = useMentionLookupService(queryString);\n  var checkForSlashTriggerMatch = (0,_lexical_react_LexicalTypeaheadMenuPlugin__WEBPACK_IMPORTED_MODULE_7__.useBasicTypeaheadTriggerMatch)('/', {\n    minLength: 0\n  });\n  var options = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(function () {\n    return results.map(function (result) {\n      return new MentionTypeaheadOption(result, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(\"i\", {\n        className: \"icon user\"\n      }));\n    }).slice(0, SUGGESTION_LIST_LENGTH_LIMIT);\n  }, [results]);\n  var onSelectOption = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function (selectedOption, nodeToReplace, closeMenu) {\n    editor.update(function () {\n      var mentionNode = (0,_nodes_MentionNode__WEBPACK_IMPORTED_MODULE_10__.$createMentionNode)(selectedOption.name);\n\n      if (nodeToReplace) {\n        nodeToReplace.replace(mentionNode);\n      }\n\n      mentionNode.select();\n      closeMenu();\n    });\n  }, [editor]);\n  var checkForMentionMatch = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(function (text) {\n    var mentionMatch = getPossibleQueryMatch(text);\n    var slashMatch = checkForSlashTriggerMatch(text, editor);\n    return !slashMatch && mentionMatch ? mentionMatch : null;\n  }, [checkForSlashTriggerMatch, editor]);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_lexical_react_LexicalTypeaheadMenuPlugin__WEBPACK_IMPORTED_MODULE_7__.LexicalTypeaheadMenuPlugin, {\n    onQueryChange: setQueryString,\n    onSelectOption: onSelectOption,\n    triggerFn: checkForMentionMatch,\n    options: options,\n    menuRenderFn: function menuRenderFn(anchorElementRef, _ref2) {\n      var selectedIndex = _ref2.selectedIndex,\n          selectOptionAndCleanUp = _ref2.selectOptionAndCleanUp,\n          setHighlightedIndex = _ref2.setHighlightedIndex;\n      return anchorElementRef.current && results.length ? /*#__PURE__*/react_dom__WEBPACK_IMPORTED_MODULE_9__.createPortal( /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(\"div\", {\n        className: \"typeahead-popover mentions-menu\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(\"ul\", {\n          children: options.map(function (option, i) {\n            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(MentionsTypeaheadMenuItem, {\n              index: i,\n              isSelected: selectedIndex === i,\n              onClick: function onClick() {\n                setHighlightedIndex(i);\n                selectOptionAndCleanUp(option);\n              },\n              onMouseEnter: function onMouseEnter() {\n                setHighlightedIndex(i);\n              },\n              option: option\n            }, option.key);\n          })\n        })\n      }), anchorElementRef.current) : null;\n    }\n  });\n}\n\n_s2(NewMentionsPlugin, \"/o/3XbCB98jNgQc/hHhm9aHysYg=\", false, function () {\n  return [_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_6__.useLexicalComposerContext, useMentionLookupService, _lexical_react_LexicalTypeaheadMenuPlugin__WEBPACK_IMPORTED_MODULE_7__.useBasicTypeaheadTriggerMatch];\n});\n\n_c2 = NewMentionsPlugin;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MentionsTypeaheadMenuItem\");\n$RefreshReg$(_c2, \"NewMentionsPlugin\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvcGx1Z2lucy9NZW50aW9uc1BsdWdpbi9pbmRleC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7OztBQUVBLElBQU1XLFdBQVcsR0FDZiw4REFERjtBQUVBLElBQU1DLElBQUksR0FBRyxrQkFBa0JELFdBQWxCLEdBQWdDLEdBQTdDO0FBRUEsSUFBTUUscUJBQXFCLEdBQUc7RUFDNUJELElBQUksRUFBSkEsSUFENEI7RUFFNUJELFdBQVcsRUFBWEE7QUFGNEIsQ0FBOUI7QUFLQSxJQUFNRyw0QkFBNEIsR0FBRyxJQUFJQyxNQUFKLENBQ25DLGlCQUFpQkYscUJBQXFCLENBQUNELElBQXZDLEdBQThDLEdBQTlDLEdBQW9ELENBQXBELEdBQXdELE9BRHJCLENBQXJDO0FBSUEsSUFBTUksSUFBSSxHQUFHSCxxQkFBcUIsQ0FBQ0YsV0FBbkM7QUFFQSxJQUFNTSxRQUFRLEdBQUcsQ0FBQyxHQUFELEVBQU1DLElBQU4sQ0FBVyxFQUFYLENBQWpCLEVBRUE7O0FBQ0EsSUFBTUMsV0FBVyxHQUFHLE9BQU9GLFFBQVAsR0FBa0JELElBQWxCLEdBQXlCLE1BQTdDLEVBRUE7QUFDQTs7QUFDQSxJQUFNSSxXQUFXLEdBQ2YsUUFDQSxXQURBLEdBQ2M7QUFDZCxJQUZBLEdBRU87QUFDUCxHQUhBLEdBSUFKLElBSkEsR0FLQSxJQUxBLEdBS087QUFDUCxHQVBGO0FBU0EsSUFBTUssWUFBWSxHQUFHLEVBQXJCO0FBRUEsSUFBTUMsbUJBQW1CLEdBQUcsSUFBSVAsTUFBSixDQUMxQixpQkFDRSxHQURGLEdBRUVFLFFBRkYsR0FHRSxHQUhGLEdBSUUsTUFKRixHQUtFRSxXQUxGLEdBTUVDLFdBTkYsR0FPRSxNQVBGLEdBUUVDLFlBUkYsR0FTRSxJQVRGLEdBVUUsSUFYd0IsQ0FBNUIsRUFjQTs7QUFDQSxJQUFNRSxrQkFBa0IsR0FBRyxFQUEzQixFQUVBOztBQUNBLElBQU1DLDZCQUE2QixHQUFHLElBQUlULE1BQUosQ0FDcEMsaUJBQ0UsR0FERixHQUVFRSxRQUZGLEdBR0UsR0FIRixHQUlFLE1BSkYsR0FLRUUsV0FMRixHQU1FLE1BTkYsR0FPRUksa0JBUEYsR0FRRSxJQVJGLEdBU0UsSUFWa0MsQ0FBdEMsRUFhQTs7QUFDQSxJQUFNRSw0QkFBNEIsR0FBRyxDQUFyQztBQUVBLElBQU1DLGFBQWEsR0FBRyxJQUFJQyxHQUFKLEVBQXRCO0FBRUEsSUFBTUMsaUJBQWlCLEdBQUcsQ0FDeEIsY0FEd0IsRUFFeEIsWUFGd0IsRUFHeEIscUJBSHdCLEVBSXhCLHNCQUp3QixFQUt4QixxQkFMd0IsRUFNeEIsZUFOd0IsRUFPeEIsZ0JBUHdCLEVBUXhCLDBCQVJ3QixFQVN4QixnQkFUd0IsRUFVeEIsc0JBVndCLEVBV3hCLFlBWHdCLEVBWXhCLGNBWndCLEVBYXhCLDBCQWJ3QixFQWN4QixTQWR3QixFQWV4QixPQWZ3QixFQWdCeEIsY0FoQndCLEVBaUJ4QixNQWpCd0IsRUFrQnhCLE1BbEJ3QixFQW1CeEIsY0FuQndCLEVBb0J4QixPQXBCd0IsRUFxQnhCLGNBckJ3QixFQXNCeEIsZ0JBdEJ3QixFQXVCeEIsWUF2QndCLEVBd0J4QixPQXhCd0IsRUF5QnhCLFVBekJ3QixFQTBCeEIsUUExQndCLEVBMkJ4QixpQkEzQndCLEVBNEJ4QixpQkE1QndCLEVBNkJ4QixlQTdCd0IsRUE4QnhCLGFBOUJ3QixFQStCeEIsY0EvQndCLEVBZ0N4QixNQWhDd0IsRUFpQ3hCLE9BakN3QixFQWtDeEIsZ0JBbEN3QixFQW1DeEIsY0FuQ3dCLEVBb0N4QixXQXBDd0IsRUFxQ3hCLGFBckN3QixFQXNDeEIsbUJBdEN3QixFQXVDeEIsaUJBdkN3QixFQXdDeEIsZ0JBeEN3QixFQXlDeEIsV0F6Q3dCLEVBMEN4QixTQTFDd0IsRUEyQ3hCLFlBM0N3QixFQTRDeEIsZ0JBNUN3QixFQTZDeEIsV0E3Q3dCLEVBOEN4QixPQTlDd0IsRUErQ3hCLHVCQS9Dd0IsRUFnRHhCLGFBaER3QixFQWlEeEIsYUFqRHdCLEVBa0R4QixNQWxEd0IsRUFtRHhCLE9BbkR3QixFQW9EeEIsUUFwRHdCLEVBcUR4QixVQXJEd0IsRUFzRHhCLGNBdER3QixFQXVEeEIsZ0JBdkR3QixFQXdEeEIsZ0JBeER3QixFQXlEeEIsdUJBekR3QixFQTBEeEIsYUExRHdCLEVBMkR4QixpQkEzRHdCLEVBNER4QixlQTVEd0IsRUE2RHhCLGVBN0R3QixFQThEeEIsY0E5RHdCLEVBK0R4QixlQS9Ed0IsRUFnRXhCLHNCQWhFd0IsRUFpRXhCLFdBakV3QixFQWtFeEIsc0JBbEV3QixFQW1FeEIsY0FuRXdCLEVBb0V4QixjQXBFd0IsRUFxRXhCLFdBckV3QixFQXNFeEIsYUF0RXdCLEVBdUV4QixnQkF2RXdCLEVBd0V4QixhQXhFd0IsRUF5RXhCLGNBekV3QixFQTBFeEIsZ0JBMUV3QixFQTJFeEIsZ0JBM0V3QixFQTRFeEIsZUE1RXdCLEVBNkV4QiwwQkE3RXdCLEVBOEV4Qix5QkE5RXdCLEVBK0V4QixlQS9Fd0IsRUFnRnhCLGdCQWhGd0IsRUFpRnhCLGVBakZ3QixFQWtGeEIsa0JBbEZ3QixFQW1GeEIscUJBbkZ3QixFQW9GeEIsWUFwRndCLEVBcUZ4QixpQkFyRndCLEVBc0Z4QixPQXRGd0IsRUF1RnhCLGVBdkZ3QixFQXdGeEIsYUF4RndCLEVBeUZ4QixjQXpGd0IsRUEwRnhCLFlBMUZ3QixFQTJGeEIsTUEzRndCLEVBNEZ4QixZQTVGd0IsRUE2RnhCLFlBN0Z3QixFQThGeEIsZUE5RndCLEVBK0Z4QixnQkEvRndCLEVBZ0d4QixXQWhHd0IsRUFpR3hCLGFBakd3QixFQWtHeEIsUUFsR3dCLEVBbUd4QixjQW5Hd0IsRUFvR3hCLGVBcEd3QixFQXFHeEIsaUJBckd3QixFQXNHeEIsaUJBdEd3QixFQXVHeEIsSUF2R3dCLEVBd0d4QixjQXhHd0IsRUF5R3hCLGVBekd3QixFQTBHeEIsT0ExR3dCLEVBMkd4QixPQTNHd0IsRUE0R3hCLFVBNUd3QixFQTZHeEIsV0E3R3dCLEVBOEd4QixlQTlHd0IsRUErR3hCLFlBL0d3QixFQWdIeEIsVUFoSHdCLEVBaUh4QixpQkFqSHdCLEVBa0h4QixnQkFsSHdCLEVBbUh4QixXQW5Id0IsRUFvSHhCLGdCQXBId0IsRUFxSHhCLFFBckh3QixFQXNIeEIsV0F0SHdCLEVBdUh4QixNQXZId0IsRUF3SHhCLFdBeEh3QixFQXlIeEIsTUF6SHdCLEVBMEh4QixVQTFId0IsRUEySHhCLFlBM0h3QixFQTRIeEIsUUE1SHdCLEVBNkh4QixnQkE3SHdCLEVBOEh4QixZQTlId0IsRUErSHhCLGNBL0h3QixFQWdJeEIsYUFoSXdCLEVBaUl4QixPQWpJd0IsRUFrSXhCLGVBbEl3QixFQW1JeEIsZUFuSXdCLEVBb0l4QixNQXBJd0IsRUFxSXhCLE9Bckl3QixFQXNJeEIsU0F0SXdCLEVBdUl4QixTQXZJd0IsRUF3SXhCLHFCQXhJd0IsRUF5SXhCLFNBekl3QixFQTBJeEIsTUExSXdCLEVBMkl4QixPQTNJd0IsRUE0SXhCLFlBNUl3QixFQTZJeEIsYUE3SXdCLEVBOEl4Qix3QkE5SXdCLEVBK0l4QixtQkEvSXdCLEVBZ0p4QixnQkFoSndCLEVBaUp4QixjQWpKd0IsRUFrSnhCLGFBbEp3QixFQW1KeEIsYUFuSndCLEVBb0p4QixjQXBKd0IsRUFxSnhCLFlBckp3QixFQXNKeEIsa0JBdEp3QixFQXVKeEIscUJBdkp3QixFQXdKeEIsUUF4SndCLEVBeUp4QixjQXpKd0IsRUEwSnhCLFVBMUp3QixFQTJKeEIsVUEzSndCLEVBNEp4QixPQTVKd0IsRUE2SnhCLFlBN0p3QixFQThKeEIsVUE5SndCLEVBK0p4QixnQkEvSndCLEVBZ0t4QixXQWhLd0IsRUFpS3hCLGVBakt3QixFQWtLeEIsTUFsS3dCLEVBbUt4QixjQW5Ld0IsRUFvS3hCLFFBcEt3QixFQXFLeEIsYUFyS3dCLEVBc0t4QixPQXRLd0IsRUF1S3hCLFlBdkt3QixFQXdLeEIsYUF4S3dCLEVBeUt4QixtQkF6S3dCLEVBMEt4QixPQTFLd0IsRUEyS3hCLGdCQTNLd0IsRUE0S3hCLGFBNUt3QixFQTZLeEIsWUE3S3dCLEVBOEt4QixpQkE5S3dCLEVBK0t4QixlQS9Ld0IsRUFnTHhCLFdBaEx3QixFQWlMeEIsUUFqTHdCLEVBa0x4QixrQkFsTHdCLEVBbUx4QixpQkFuTHdCLEVBb0x4QixNQXBMd0IsRUFxTHhCLGdCQXJMd0IsRUFzTHhCLFlBdEx3QixFQXVMeEIsY0F2THdCLEVBd0x4QixXQXhMd0IsRUF5THhCLFlBekx3QixFQTBMeEIsaUJBMUx3QixFQTJMeEIsYUEzTHdCLEVBNEx4QixRQTVMd0IsRUE2THhCLFVBN0x3QixFQThMeEIsT0E5THdCLEVBK0x4QixjQS9Md0IsRUFnTXhCLFFBaE13QixFQWlNeEIsa0JBak13QixFQWtNeEIsYUFsTXdCLEVBbU14QixZQW5Nd0IsRUFvTXhCLGNBcE13QixFQXFNeEIsZUFyTXdCLEVBc014QixXQXRNd0IsRUF1TXhCLGVBdk13QixFQXdNeEIsUUF4TXdCLEVBeU14QixXQXpNd0IsRUEwTXhCLFlBMU13QixFQTJNeEIsVUEzTXdCLEVBNE14QixPQTVNd0IsRUE2TXhCLFNBN013QixFQThNeEIsa0JBOU13QixFQStNeEIsbUJBL013QixFQWdOeEIsYUFoTndCLEVBaU54QixlQWpOd0IsRUFrTnhCLDZCQWxOd0IsRUFtTnhCLGtCQW5Od0IsRUFvTnhCLE9BcE53QixFQXFOeEIsUUFyTndCLEVBc054QixVQXROd0IsRUF1TnhCLGdCQXZOd0IsRUF3TnhCLGVBeE53QixFQXlOeEIsYUF6TndCLEVBME54QixVQTFOd0IsRUEyTnhCLGdCQTNOd0IsRUE0TnhCLE9BNU53QixFQTZOeEIsaUJBN053QixFQThOeEIsYUE5TndCLEVBK054QixRQS9Od0IsRUFnT3hCLFdBaE93QixFQWlPeEIsWUFqT3dCLEVBa094QixVQWxPd0IsRUFtT3hCLGVBbk93QixFQW9PeEIsVUFwT3dCLEVBcU94QixZQXJPd0IsRUFzT3hCLFVBdE93QixFQXVPeEIsVUF2T3dCLEVBd094QixrQkF4T3dCLEVBeU94QixZQXpPd0IsRUEwT3hCLFFBMU93QixFQTJPeEIsYUEzT3dCLEVBNE94QixpQkE1T3dCLEVBNk94QixjQTdPd0IsRUE4T3hCLGVBOU93QixFQStPeEIsY0EvT3dCLEVBZ1B4QixZQWhQd0IsRUFpUHhCLGNBalB3QixFQWtQeEIsWUFsUHdCLEVBbVB4QixlQW5Qd0IsRUFvUHhCLGFBcFB3QixFQXFQeEIsUUFyUHdCLEVBc1B4QixlQXRQd0IsRUF1UHhCLGFBdlB3QixFQXdQeEIsaUJBeFB3QixFQXlQeEIsV0F6UHdCLEVBMFB4QixnQkExUHdCLEVBMlB4QixPQTNQd0IsRUE0UHhCLGNBNVB3QixFQTZQeEIsYUE3UHdCLEVBOFB4QixZQTlQd0IsRUErUHhCLGdCQS9Qd0IsRUFnUXhCLFVBaFF3QixFQWlReEIsY0FqUXdCLEVBa1F4QixLQWxRd0IsRUFtUXhCLGVBblF3QixFQW9ReEIsTUFwUXdCLEVBcVF4QixPQXJRd0IsRUFzUXhCLGVBdFF3QixFQXVReEIsY0F2UXdCLEVBd1F4QixhQXhRd0IsRUF5UXhCLFdBelF3QixFQTBReEIsWUExUXdCLEVBMlF4QixXQTNRd0IsRUE0UXhCLFlBNVF3QixFQTZReEIsZUE3UXdCLEVBOFF4QixjQTlRd0IsRUErUXhCLFlBL1F3QixFQWdSeEIsUUFoUndCLEVBaVJ4Qix5QkFqUndCLEVBa1J4QixpQkFsUndCLEVBbVJ4QixVQW5Sd0IsRUFvUnhCLFNBcFJ3QixFQXFSeEIsYUFyUndCLEVBc1J4QixtQkF0UndCLEVBdVJ4QixZQXZSd0IsRUF3UnhCLGdCQXhSd0IsRUF5UnhCLFFBelJ3QixFQTBSeEIsU0ExUndCLEVBMlJ4QixjQTNSd0IsRUE0UnhCLGdCQTVSd0IsRUE2UnhCLGdCQTdSd0IsRUE4UnhCLGlCQTlSd0IsRUErUnhCLGNBL1J3QixFQWdTeEIsVUFoU3dCLEVBaVN4QixhQWpTd0IsRUFrU3hCLE9BbFN3QixFQW1TeEIsT0FuU3dCLEVBb1N4QixPQXBTd0IsRUFxU3hCLFFBclN3QixFQXNTeEIsT0F0U3dCLEVBdVN4QixNQXZTd0IsRUF3U3hCLE1BeFN3QixFQXlTeEIsY0F6U3dCLEVBMFN4QixrQkExU3dCLEVBMlN4QixhQTNTd0IsRUE0U3hCLGVBNVN3QixFQTZTeEIsaUJBN1N3QixFQThTeEIsVUE5U3dCLEVBK1N4QixlQS9Td0IsRUFnVHhCLEtBaFR3QixFQWlUeEIsVUFqVHdCLEVBa1R4QixhQWxUd0IsRUFtVHhCLE9BblR3QixFQW9UeEIsY0FwVHdCLEVBcVR4QixZQXJUd0IsRUFzVHhCLGdCQXRUd0IsRUF1VHhCLE9BdlR3QixFQXdUeEIsY0F4VHdCLEVBeVR4QixXQXpUd0IsRUEwVHhCLGdCQTFUd0IsRUEyVHhCLE1BM1R3QixFQTRUeEIsWUE1VHdCLEVBNlR4QixhQTdUd0IsRUE4VHhCLGdCQTlUd0IsRUErVHhCLGVBL1R3QixFQWdVeEIsTUFoVXdCLEVBaVV4QixhQWpVd0IsRUFrVXhCLE9BbFV3QixFQW1VeEIsYUFuVXdCLEVBb1V4QixhQXBVd0IsRUFxVXhCLG9CQXJVd0IsRUFzVXhCLFVBdFV3QixFQXVVeEIsY0F2VXdCLEVBd1V4QixhQXhVd0IsRUF5VXhCLFFBelV3QixFQTBVeEIsY0ExVXdCLEVBMlV4QixlQTNVd0IsRUE0VXhCLFNBNVV3QixFQTZVeEIsZ0JBN1V3QixFQThVeEIsZ0JBOVV3QixFQStVeEIsZ0JBL1V3QixFQWdWeEIsVUFoVndCLEVBaVZ4QixXQWpWd0IsRUFrVnhCLGdCQWxWd0IsRUFtVnhCLFNBblZ3QixFQW9WeEIsY0FwVndCLEVBcVZ4QixXQXJWd0IsRUFzVnhCLFVBdFZ3QixFQXVWeEIsbUJBdlZ3QixFQXdWeEIsWUF4VndCLEVBeVZ4QixlQXpWd0IsRUEwVnhCLFdBMVZ3QixFQTJWeEIsV0EzVndCLEVBNFZ4QixjQTVWd0IsRUE2VnhCLGFBN1Z3QixFQThWeEIsT0E5VndCLEVBK1Z4QixlQS9Wd0IsRUFnV3hCLFdBaFd3QixFQWlXeEIsY0FqV3dCLEVBa1d4QixhQWxXd0IsRUFtV3hCLGtCQW5Xd0IsRUFvV3hCLFNBcFd3QixFQXFXeEIsWUFyV3dCLEVBc1d4QixTQXRXd0IsRUF1V3hCLE9Bdld3QixFQXdXeEIsY0F4V3dCLEVBeVd4QixPQXpXd0IsRUEwV3hCLE9BMVd3QixFQTJXeEIsaUJBM1d3QixFQTRXeEIsY0E1V3dCLEVBNld4QixRQTdXd0IsRUE4V3hCLFNBOVd3QixFQStXeEIsY0EvV3dCLEVBZ1h4QixXQWhYd0IsRUFpWHhCLGNBalh3QixFQWtYeEIsUUFsWHdCLEVBbVh4QixpQkFuWHdCLEVBb1h4QixZQXBYd0IsRUFxWHhCLGdCQXJYd0IsRUFzWHhCLGlCQXRYd0IsRUF1WHhCLEtBdlh3QixFQXdYeEIsT0F4WHdCLEVBeVh4QixhQXpYd0IsRUEwWHhCLGFBMVh3QixFQTJYeEIsZ0JBM1h3QixFQTRYeEIsMkJBNVh3QixFQTZYeEIsWUE3WHdCLEVBOFh4QixRQTlYd0IsRUErWHhCLFNBL1h3QixFQWdZeEIsTUFoWXdCLEVBaVl4QixZQWpZd0IsRUFrWXhCLE9BbFl3QixFQW1ZeEIsWUFuWXdCLEVBb1l4QixPQXBZd0IsRUFxWXhCLGdCQXJZd0IsRUFzWXhCLFlBdFl3QixFQXVZeEIsbUJBdll3QixFQXdZeEIsZ0JBeFl3QixFQXlZeEIsVUF6WXdCLEVBMFl4QixPQTFZd0IsRUEyWXhCLGVBM1l3QixFQTRZeEIsZUE1WXdCLEVBNll4QixRQTdZd0IsRUE4WXhCLGFBOVl3QixFQStZeEIsTUEvWXdCLEVBZ1p4QixZQWhad0IsRUFpWnhCLGFBalp3QixFQWtaeEIsZUFsWndCLEVBbVp4QixTQW5ad0IsQ0FBMUI7QUFzWkEsSUFBTUMsa0JBQWtCLEdBQUc7RUFDekJDLE1BRHlCLGtCQUNsQkMsTUFEa0IsRUFDRkMsUUFERSxFQUNnRDtJQUN2RUMsVUFBVSxDQUFDLFlBQU07TUFDZixJQUFNQyxPQUFPLEdBQUdOLGlCQUFpQixDQUFDTyxNQUFsQixDQUF5QixVQUFDQyxPQUFEO1FBQUEsT0FDdkNBLE9BQU8sQ0FBQ0MsV0FBUixHQUFzQkMsUUFBdEIsQ0FBK0JQLE1BQU0sQ0FBQ00sV0FBUCxFQUEvQixDQUR1QztNQUFBLENBQXpCLENBQWhCO01BR0FMLFFBQVEsQ0FBQ0UsT0FBRCxDQUFSO0lBQ0QsQ0FMUyxFQUtQLEdBTE8sQ0FBVjtFQU1EO0FBUndCLENBQTNCOztBQVdBLFNBQVNLLHVCQUFULENBQWlDQyxhQUFqQyxFQUErRDtFQUFBOztFQUM3RCxnQkFBOEJqQywrQ0FBUSxDQUFnQixFQUFoQixDQUF0QztFQUFBLElBQU8yQixPQUFQO0VBQUEsSUFBZ0JPLFVBQWhCOztFQUVBcEMsZ0RBQVMsQ0FBQyxZQUFNO0lBQ2QsSUFBTXFDLGFBQWEsR0FBR2hCLGFBQWEsQ0FBQ2lCLEdBQWQsQ0FBa0JILGFBQWxCLENBQXRCOztJQUVBLElBQUlBLGFBQWEsSUFBSSxJQUFyQixFQUEyQjtNQUN6QkMsVUFBVSxDQUFDLEVBQUQsQ0FBVjtNQUNBO0lBQ0Q7O0lBRUQsSUFBSUMsYUFBYSxLQUFLLElBQXRCLEVBQTRCO01BQzFCO0lBQ0QsQ0FGRCxNQUVPLElBQUlBLGFBQWEsS0FBS0UsU0FBdEIsRUFBaUM7TUFDdENILFVBQVUsQ0FBQ0MsYUFBRCxDQUFWO01BQ0E7SUFDRDs7SUFFRGhCLGFBQWEsQ0FBQ21CLEdBQWQsQ0FBa0JMLGFBQWxCLEVBQWlDLElBQWpDO0lBQ0FYLGtCQUFrQixDQUFDQyxNQUFuQixDQUEwQlUsYUFBMUIsRUFBeUMsVUFBQ00sVUFBRCxFQUFnQjtNQUN2RHBCLGFBQWEsQ0FBQ21CLEdBQWQsQ0FBa0JMLGFBQWxCLEVBQWlDTSxVQUFqQztNQUNBTCxVQUFVLENBQUNLLFVBQUQsQ0FBVjtJQUNELENBSEQ7RUFJRCxDQXBCUSxFQW9CTixDQUFDTixhQUFELENBcEJNLENBQVQ7RUFzQkEsT0FBT04sT0FBUDtBQUNEOztHQTFCUUs7O0FBNEJULFNBQVNRLCtCQUFULENBQ0VDLElBREYsRUFFRUMsY0FGRixFQUdxQjtFQUNuQixJQUFNQyxLQUFLLEdBQUdwQyw0QkFBNEIsQ0FBQ3FDLElBQTdCLENBQWtDSCxJQUFsQyxDQUFkOztFQUNBLElBQUlFLEtBQUssS0FBSyxJQUFkLEVBQW9CO0lBQ2xCO0lBQ0E7SUFDQSxJQUFNRSxzQkFBc0IsR0FBR0YsS0FBSyxDQUFDLENBQUQsQ0FBcEM7SUFFQSxJQUFNRyxjQUFjLEdBQUdILEtBQUssQ0FBQyxDQUFELENBQTVCOztJQUNBLElBQUlHLGNBQWMsSUFBSSxJQUFsQixJQUEwQkEsY0FBYyxDQUFDQyxNQUFmLElBQXlCTCxjQUF2RCxFQUF1RTtNQUNyRSxPQUFPO1FBQ0xNLFVBQVUsRUFBRUwsS0FBSyxDQUFDTSxLQUFOLEdBQWNKLHNCQUFzQixDQUFDRSxNQUQ1QztRQUVMRCxjQUFjLEVBQWRBLGNBRks7UUFHTEksaUJBQWlCLEVBQUVKO01BSGQsQ0FBUDtJQUtEO0VBQ0Y7O0VBQ0QsT0FBTyxJQUFQO0FBQ0Q7O0FBRUQsU0FBU0ssc0JBQVQsQ0FDRVYsSUFERixFQUVFQyxjQUZGLEVBR3FCO0VBQ25CLElBQUlDLEtBQUssR0FBRzVCLG1CQUFtQixDQUFDNkIsSUFBcEIsQ0FBeUJILElBQXpCLENBQVo7O0VBRUEsSUFBSUUsS0FBSyxLQUFLLElBQWQsRUFBb0I7SUFDbEJBLEtBQUssR0FBRzFCLDZCQUE2QixDQUFDMkIsSUFBOUIsQ0FBbUNILElBQW5DLENBQVI7RUFDRDs7RUFDRCxJQUFJRSxLQUFLLEtBQUssSUFBZCxFQUFvQjtJQUNsQjtJQUNBO0lBQ0EsSUFBTUUsc0JBQXNCLEdBQUdGLEtBQUssQ0FBQyxDQUFELENBQXBDO0lBRUEsSUFBTUcsY0FBYyxHQUFHSCxLQUFLLENBQUMsQ0FBRCxDQUE1Qjs7SUFDQSxJQUFJRyxjQUFjLENBQUNDLE1BQWYsSUFBeUJMLGNBQTdCLEVBQTZDO01BQzNDLE9BQU87UUFDTE0sVUFBVSxFQUFFTCxLQUFLLENBQUNNLEtBQU4sR0FBY0osc0JBQXNCLENBQUNFLE1BRDVDO1FBRUxELGNBQWMsRUFBZEEsY0FGSztRQUdMSSxpQkFBaUIsRUFBRVAsS0FBSyxDQUFDLENBQUQ7TUFIbkIsQ0FBUDtJQUtEO0VBQ0Y7O0VBQ0QsT0FBTyxJQUFQO0FBQ0Q7O0FBRUQsU0FBU1MscUJBQVQsQ0FBK0JYLElBQS9CLEVBQWdFO0VBQzlELElBQU1FLEtBQUssR0FBR1Esc0JBQXNCLENBQUNWLElBQUQsRUFBTyxDQUFQLENBQXBDO0VBQ0EsT0FBT0UsS0FBSyxLQUFLLElBQVYsR0FBaUJILCtCQUErQixDQUFDQyxJQUFELEVBQU8sQ0FBUCxDQUFoRCxHQUE0REUsS0FBbkU7QUFDRDs7SUFFS1U7Ozs7O0VBSUosZ0NBQVlDLElBQVosRUFBMEJDLE9BQTFCLEVBQWdEO0lBQUE7O0lBQUE7O0lBQzlDLDBCQUFNRCxJQUFOO0lBQ0EsTUFBS0EsSUFBTCxHQUFZQSxJQUFaO0lBQ0EsTUFBS0MsT0FBTCxHQUFlQSxPQUFmO0lBSDhDO0VBSS9DOzs7RUFSa0M1RDs7QUFXckMsU0FBUzZELHlCQUFULE9BWUc7RUFBQSxJQVhEUCxLQVdDLFFBWERBLEtBV0M7RUFBQSxJQVZEUSxVQVVDLFFBVkRBLFVBVUM7RUFBQSxJQVREQyxPQVNDLFFBVERBLE9BU0M7RUFBQSxJQVJEQyxZQVFDLFFBUkRBLFlBUUM7RUFBQSxJQVBEQyxNQU9DLFFBUERBLE1BT0M7RUFDRCxJQUFJQyxTQUFTLEdBQUcsTUFBaEI7O0VBQ0EsSUFBSUosVUFBSixFQUFnQjtJQUNkSSxTQUFTLElBQUksV0FBYjtFQUNEOztFQUNELG9CQUNFO0lBRUUsUUFBUSxFQUFFLENBQUMsQ0FGYjtJQUdFLFNBQVMsRUFBRUEsU0FIYjtJQUlFLEdBQUcsRUFBRUQsTUFBTSxDQUFDRSxhQUpkO0lBS0UsSUFBSSxFQUFDLFFBTFA7SUFNRSxpQkFBZUwsVUFOakI7SUFPRSxFQUFFLEVBQUUsb0JBQW9CUixLQVAxQjtJQVFFLFlBQVksRUFBRVUsWUFSaEI7SUFTRSxPQUFPLEVBQUVELE9BVFg7SUFBQSxXQVVHRSxNQUFNLENBQUNMLE9BVlYsZUFXRTtNQUFNLFNBQVMsRUFBQyxNQUFoQjtNQUFBLFVBQXdCSyxNQUFNLENBQUNOO0lBQS9CLEVBWEY7RUFBQSxHQUNPTSxNQUFNLENBQUNHLEdBRGQsQ0FERjtBQWVEOztLQWhDUVA7QUFrQ00sU0FBU1EsaUJBQVQsR0FBaUQ7RUFBQTs7RUFBQTs7RUFDOUQsNEJBQWlCdkUsZ0dBQXlCLEVBQTFDO0VBQUE7RUFBQSxJQUFPd0UsTUFBUDs7RUFFQSxpQkFBc0NqRSwrQ0FBUSxDQUFnQixJQUFoQixDQUE5QztFQUFBLElBQU9rRSxXQUFQO0VBQUEsSUFBb0JDLGNBQXBCOztFQUVBLElBQU14QyxPQUFPLEdBQUdLLHVCQUF1QixDQUFDa0MsV0FBRCxDQUF2QztFQUVBLElBQU1FLHlCQUF5QixHQUFHeEUsd0dBQTZCLENBQUMsR0FBRCxFQUFNO0lBQ25FeUUsU0FBUyxFQUFFO0VBRHdELENBQU4sQ0FBL0Q7RUFJQSxJQUFNQyxPQUFPLEdBQUd2RSw4Q0FBTyxDQUNyQjtJQUFBLE9BQ0U0QixPQUFPLENBQ0o0QyxHQURILENBRUksVUFBQ0MsTUFBRDtNQUFBLE9BQ0UsSUFBSW5CLHNCQUFKLENBQTJCbUIsTUFBM0IsZUFBbUM7UUFBRyxTQUFTLEVBQUM7TUFBYixFQUFuQyxDQURGO0lBQUEsQ0FGSixFQUtHQyxLQUxILENBS1MsQ0FMVCxFQUtZdkQsNEJBTFosQ0FERjtFQUFBLENBRHFCLEVBUXJCLENBQUNTLE9BQUQsQ0FScUIsQ0FBdkI7RUFXQSxJQUFNK0MsY0FBYyxHQUFHN0Usa0RBQVcsQ0FDaEMsVUFDRThFLGNBREYsRUFFRUMsYUFGRixFQUdFQyxTQUhGLEVBSUs7SUFDSFosTUFBTSxDQUFDYSxNQUFQLENBQWMsWUFBTTtNQUNsQixJQUFNQyxXQUFXLEdBQUc1RSx1RUFBa0IsQ0FBQ3dFLGNBQWMsQ0FBQ3JCLElBQWhCLENBQXRDOztNQUNBLElBQUlzQixhQUFKLEVBQW1CO1FBQ2pCQSxhQUFhLENBQUNJLE9BQWQsQ0FBc0JELFdBQXRCO01BQ0Q7O01BQ0RBLFdBQVcsQ0FBQ0UsTUFBWjtNQUNBSixTQUFTO0lBQ1YsQ0FQRDtFQVFELENBZCtCLEVBZWhDLENBQUNaLE1BQUQsQ0FmZ0MsQ0FBbEM7RUFrQkEsSUFBTWlCLG9CQUFvQixHQUFHckYsa0RBQVcsQ0FDdEMsVUFBQzRDLElBQUQsRUFBa0I7SUFDaEIsSUFBTTBDLFlBQVksR0FBRy9CLHFCQUFxQixDQUFDWCxJQUFELENBQTFDO0lBQ0EsSUFBTTJDLFVBQVUsR0FBR2hCLHlCQUF5QixDQUFDM0IsSUFBRCxFQUFPd0IsTUFBUCxDQUE1QztJQUNBLE9BQU8sQ0FBQ21CLFVBQUQsSUFBZUQsWUFBZixHQUE4QkEsWUFBOUIsR0FBNkMsSUFBcEQ7RUFDRCxDQUxxQyxFQU10QyxDQUFDZix5QkFBRCxFQUE0QkgsTUFBNUIsQ0FOc0MsQ0FBeEM7RUFTQSxvQkFDRSx3REFBQyxpR0FBRDtJQUNFLGFBQWEsRUFBRUUsY0FEakI7SUFFRSxjQUFjLEVBQUVPLGNBRmxCO0lBR0UsU0FBUyxFQUFFUSxvQkFIYjtJQUlFLE9BQU8sRUFBRVosT0FKWDtJQUtFLFlBQVksRUFBRSxzQkFDWmUsZ0JBRFk7TUFBQSxJQUVYQyxhQUZXLFNBRVhBLGFBRlc7TUFBQSxJQUVJQyxzQkFGSixTQUVJQSxzQkFGSjtNQUFBLElBRTRCQyxtQkFGNUIsU0FFNEJBLG1CQUY1QjtNQUFBLE9BSVpILGdCQUFnQixDQUFDSSxPQUFqQixJQUE0QjlELE9BQU8sQ0FBQ29CLE1BQXBDLGdCQUNJN0MsbURBQUEsZUFDRTtRQUFLLFNBQVMsRUFBQyxpQ0FBZjtRQUFBLHVCQUNFO1VBQUEsVUFDR29FLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQUNYLE1BQUQsRUFBUytCLENBQVQ7WUFBQSxvQkFDWCx3REFBQyx5QkFBRDtjQUNFLEtBQUssRUFBRUEsQ0FEVDtjQUVFLFVBQVUsRUFBRUwsYUFBYSxLQUFLSyxDQUZoQztjQUdFLE9BQU8sRUFBRSxtQkFBTTtnQkFDYkgsbUJBQW1CLENBQUNHLENBQUQsQ0FBbkI7Z0JBQ0FKLHNCQUFzQixDQUFDM0IsTUFBRCxDQUF0QjtjQUNELENBTkg7Y0FPRSxZQUFZLEVBQUUsd0JBQU07Z0JBQ2xCNEIsbUJBQW1CLENBQUNHLENBQUQsQ0FBbkI7Y0FDRCxDQVRIO2NBV0UsTUFBTSxFQUFFL0I7WUFYVixHQVVPQSxNQUFNLENBQUNHLEdBVmQsQ0FEVztVQUFBLENBQVo7UUFESDtNQURGLEVBREYsRUFvQkVzQixnQkFBZ0IsQ0FBQ0ksT0FwQm5CLENBREosR0F1QkksSUEzQlE7SUFBQTtFQUxoQixFQURGO0FBcUNEOztJQXRGdUJ6QjtVQUNMdkUsOEZBSUR1Qyx5QkFFa0JwQzs7O01BUFpvRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvcGx1Z2lucy9NZW50aW9uc1BsdWdpbi9pbmRleC50c3g/YzQwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB7dXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyQ29udGV4dCc7XG5pbXBvcnQge1xuICBMZXhpY2FsVHlwZWFoZWFkTWVudVBsdWdpbixcbiAgUXVlcnlNYXRjaCxcbiAgVHlwZWFoZWFkT3B0aW9uLFxuICB1c2VCYXNpY1R5cGVhaGVhZFRyaWdnZXJNYXRjaCxcbn0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbFR5cGVhaGVhZE1lbnVQbHVnaW4nO1xuaW1wb3J0IHtUZXh0Tm9kZX0gZnJvbSAnbGV4aWNhbCc7XG5pbXBvcnQge3VzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgeyRjcmVhdGVNZW50aW9uTm9kZX0gZnJvbSAnLi4vLi4vbm9kZXMvTWVudGlvbk5vZGUnO1xuXG5jb25zdCBQVU5DVFVBVElPTiA9XG4gICdcXFxcLixcXFxcK1xcXFwqXFxcXD9cXFxcJFxcXFxAXFxcXHwje31cXFxcKFxcXFwpXFxcXF5cXFxcLVxcXFxbXFxcXF1cXFxcXFxcXC8hJVxcJ1wifj08Pl86Oyc7XG5jb25zdCBOQU1FID0gJ1xcXFxiW0EtWl1bXlxcXFxzJyArIFBVTkNUVUFUSU9OICsgJ10nO1xuXG5jb25zdCBEb2N1bWVudE1lbnRpb25zUmVnZXggPSB7XG4gIE5BTUUsXG4gIFBVTkNUVUFUSU9OLFxufTtcblxuY29uc3QgQ2FwaXRhbGl6ZWROYW1lTWVudGlvbnNSZWdleCA9IG5ldyBSZWdFeHAoXG4gICcoXnxbXiNdKSgoPzonICsgRG9jdW1lbnRNZW50aW9uc1JlZ2V4Lk5BTUUgKyAneycgKyAxICsgJyx9KSQpJyxcbik7XG5cbmNvbnN0IFBVTkMgPSBEb2N1bWVudE1lbnRpb25zUmVnZXguUFVOQ1RVQVRJT047XG5cbmNvbnN0IFRSSUdHRVJTID0gWydAJ10uam9pbignJyk7XG5cbi8vIENoYXJzIHdlIGV4cGVjdCB0byBzZWUgaW4gYSBtZW50aW9uIChub24tc3BhY2UsIG5vbi1wdW5jdHVhdGlvbikuXG5jb25zdCBWQUxJRF9DSEFSUyA9ICdbXicgKyBUUklHR0VSUyArIFBVTkMgKyAnXFxcXHNdJztcblxuLy8gTm9uLXN0YW5kYXJkIHNlcmllcyBvZiBjaGFycy4gRWFjaCBzZXJpZXMgbXVzdCBiZSBwcmVjZWRlZCBhbmQgZm9sbG93ZWQgYnlcbi8vIGEgdmFsaWQgY2hhci5cbmNvbnN0IFZBTElEX0pPSU5TID1cbiAgJyg/OicgK1xuICAnXFxcXC5bIHwkXXwnICsgLy8gRS5nLiBcInIuIFwiIGluIFwiTXIuIFNtaXRoXCJcbiAgJyB8JyArIC8vIEUuZy4gXCIgXCIgaW4gXCJKb3NoIER1Y2tcIlxuICAnWycgK1xuICBQVU5DICtcbiAgJ118JyArIC8vIEUuZy4gXCItJyBpbiBcIlNhbGllci1IZWxsZW5kYWdcIlxuICAnKSc7XG5cbmNvbnN0IExFTkdUSF9MSU1JVCA9IDc1O1xuXG5jb25zdCBBdFNpZ25NZW50aW9uc1JlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgJyhefFxcXFxzfFxcXFwoKSgnICtcbiAgICAnWycgK1xuICAgIFRSSUdHRVJTICtcbiAgICAnXScgK1xuICAgICcoKD86JyArXG4gICAgVkFMSURfQ0hBUlMgK1xuICAgIFZBTElEX0pPSU5TICtcbiAgICAnKXswLCcgK1xuICAgIExFTkdUSF9MSU1JVCArXG4gICAgJ30pJyArXG4gICAgJykkJyxcbik7XG5cbi8vIDUwIGlzIHRoZSBsb25nZXN0IGFsaWFzIGxlbmd0aCBsaW1pdC5cbmNvbnN0IEFMSUFTX0xFTkdUSF9MSU1JVCA9IDUwO1xuXG4vLyBSZWdleCB1c2VkIHRvIG1hdGNoIGFsaWFzLlxuY29uc3QgQXRTaWduTWVudGlvbnNSZWdleEFsaWFzUmVnZXggPSBuZXcgUmVnRXhwKFxuICAnKF58XFxcXHN8XFxcXCgpKCcgK1xuICAgICdbJyArXG4gICAgVFJJR0dFUlMgK1xuICAgICddJyArXG4gICAgJygoPzonICtcbiAgICBWQUxJRF9DSEFSUyArXG4gICAgJyl7MCwnICtcbiAgICBBTElBU19MRU5HVEhfTElNSVQgK1xuICAgICd9KScgK1xuICAgICcpJCcsXG4pO1xuXG4vLyBBdCBtb3N0LCA1IHN1Z2dlc3Rpb25zIGFyZSBzaG93biBpbiB0aGUgcG9wdXAuXG5jb25zdCBTVUdHRVNUSU9OX0xJU1RfTEVOR1RIX0xJTUlUID0gNTtcblxuY29uc3QgbWVudGlvbnNDYWNoZSA9IG5ldyBNYXAoKTtcblxuY29uc3QgZHVtbXlNZW50aW9uc0RhdGEgPSBbXG4gICdBYXlsYSBTZWN1cmEnLFxuICAnQWRpIEdhbGxpYScsXG4gICdBZG1pcmFsIERvZGQgUmFuY2l0JyxcbiAgJ0FkbWlyYWwgRmlybXVzIFBpZXR0JyxcbiAgJ0FkbWlyYWwgR2lhbCBBY2tiYXInLFxuICAnQWRtaXJhbCBPenplbCcsXG4gICdBZG1pcmFsIFJhZGR1cycsXG4gICdBZG1pcmFsIFRlcnJpbmFsZCBTY3JlZWQnLFxuICAnQWRtaXJhbCBUcmVuY2gnLFxuICAnQWRtaXJhbCBVLk8uIFN0YXR1cmEnLFxuICAnQWdlbiBLb2xhcicsXG4gICdBZ2VudCBLYWxsdXMnLFxuICAnQWlvbGluIGFuZCBNb3JpdCBBc3RhcnRlJyxcbiAgJ0FrcyBNb2UnLFxuICAnQWxtZWMnLFxuICAnQWx0b24gS2FzdGxlJyxcbiAgJ0FtZWUnLFxuICAnQVAtNScsXG4gICdBcm1pdGFnZSBIdXgnLFxuICAnQXJ0b28nLFxuICAnQXJ2ZWwgQ3J5bnlkJyxcbiAgJ0FzYWpqIFZlbnRyZXNzJyxcbiAgJ0F1cnJhIFNpbmcnLFxuICAnQVpJLTMnLFxuICAnQmFsYS1UaWsnLFxuICAnQmFyYWRhJyxcbiAgJ0Jhcmd3aWxsIFRvbWRlcicsXG4gICdCYXJvbiBQYXBhbm9pZGEnLFxuICAnQmFycmlzcyBPZmZlZScsXG4gICdCYXplIE1hbGJ1cycsXG4gICdCYXppbmUgTmV0YWwnLFxuICAnQkItOCcsXG4gICdCQi05RScsXG4gICdCZW4gUXVhZGluYXJvcycsXG4gICdCZXJjaCBUZWxsZXInLFxuICAnQmVydSBMYXJzJyxcbiAgJ0JpYiBGb3J0dW5hJyxcbiAgJ0JpZ2dzIERhcmtsaWdodGVyJyxcbiAgJ0JsYWNrIEtycnNhbnRhbicsXG4gICdCby1LYXRhbiBLcnl6ZScsXG4gICdCb2JhIEZldHQnLFxuICAnQm9iYmFqbycsXG4gICdCb2RoaSBSb29rJyxcbiAgJ0JvcnZvIHRoZSBIdXR0JyxcbiAgJ0Jvc3MgTmFzcycsXG4gICdCb3NzaycsXG4gICdCcmVoYSBBbnRpbGxlcy1PcmdhbmEnLFxuICAnQnJlbiBEZXJsaW4nLFxuICAnQnJlbmRvbCBIdXgnLFxuICAnQlQtMScsXG4gICdDLTNQTycsXG4gICdDMS0xMFAnLFxuICAnQ2FkIEJhbmUnLFxuICAnQ2FsdWFuIEVtYXR0JyxcbiAgJ0NhcHRhaW4gR3JlZ29yJyxcbiAgJ0NhcHRhaW4gUGhhc21hJyxcbiAgJ0NhcHRhaW4gUXVhcnNoIFBhbmFrYScsXG4gICdDYXB0YWluIFJleCcsXG4gICdDYXJsaXN0IFJpZWVrYW4nLFxuICAnQ2FzY2EgUGFuem9ybycsXG4gICdDYXNzaWFuIEFuZG9yJyxcbiAgJ0Nhc3NpbyBUYWdnZScsXG4gICdDaGFtIFN5bmR1bGxhJyxcbiAgJ0NoZSBBbWFud2UgUGFwYW5vaWRhJyxcbiAgJ0NoZXdiYWNjYScsXG4gICdDaGkgRWVrd2F5IFBhcGFub2lkYScsXG4gICdDaGllZiBDaGlycGEnLFxuICAnQ2hpcnJ1dCDDjm13ZScsXG4gICdDaWVuYSBSZWUnLFxuICAnQ2luIERyYWxsaWcnLFxuICAnQ2xlZ2cgSG9sZGZhc3QnLFxuICAnQ2xpZWdnIExhcnMnLFxuICAnQ29sZW1hbiBLY2FqJyxcbiAgJ0NvbGVtYW4gVHJlYm9yJyxcbiAgJ0NvbG9uZWwgS2FwbGFuJyxcbiAgJ0NvbW1hbmRlciBCbHknLFxuICAnQ29tbWFuZGVyIENvZHkgKENDLTIyMjQpJyxcbiAgJ0NvbW1hbmRlciBGaWwgKENDLTM3MTQpJyxcbiAgJ0NvbW1hbmRlciBGb3gnLFxuICAnQ29tbWFuZGVyIEdyZWUnLFxuICAnQ29tbWFuZGVyIEpldCcsXG4gICdDb21tYW5kZXIgV29sZmZlJyxcbiAgJ0NvbmFuIEFudG9uaW8gTW90dGknLFxuICAnQ29uZGVyIEt5bCcsXG4gICdDb25zdGFibGUgWnV2aW8nLFxuICAnQ29yZMOpJyxcbiAgJ0NwYXRhaW4gVHlwaG8nLFxuICAnQ3JpeCBNYWRpbmUnLFxuICAnQ3V0IExhd3F1YW5lJyxcbiAgJ0RhayBSYWx0ZXInLFxuICAnRGFwcCcsXG4gICdEYXJ0aCBCYW5lJyxcbiAgJ0RhcnRoIE1hdWwnLFxuICAnRGFydGggVHlyYW51cycsXG4gICdEYXVsdGF5IERvZmluZScsXG4gICdEZWwgTWVla28nLFxuICAnRGVsaWFuIE1vcnMnLFxuICAnRGVuZ2FyJyxcbiAgJ0RlcGEgQmlsbGFiYScsXG4gICdEZXJlayBLbGl2aWFuJyxcbiAgJ0RleHRlciBKZXR0c3RlcicsXG4gICdEaW5lw6kgRWxsYmVyZ2VyJyxcbiAgJ0RKJyxcbiAgJ0RvY3RvciBBcGhyYScsXG4gICdEb2N0b3IgRXZhemFuJyxcbiAgJ0RvZ21hJyxcbiAgJ0Rvcm3DqScsXG4gICdEci4gQ3lsbycsXG4gICdEcm9pZGJhaXQnLFxuICAnRHJvb3B5IE1jQ29vbCcsXG4gICdEcnlkZW4gVm9zJyxcbiAgJ0R1ZCBCb2x0JyxcbiAgJ0ViZSBFLiBFbmRvY290dCcsXG4gICdFY2h1dSBTaGVuLUpvbicsXG4gICdFZXRoIEtvdGgnLFxuICAnRWlnaHRoIEJyb3RoZXInLFxuICAnRWlydGHDqScsXG4gICdFbGkgVmFudG8nLFxuICAnRWxsw6knLFxuICAnRWxsbyBBc3R5JyxcbiAgJ0VtYm8nLFxuICAnRW5lYiBSYXknLFxuICAnRW5meXMgTmVzdCcsXG4gICdFVi05RDknLFxuICAnRXZhYW4gVmVybGFpbmUnLFxuICAnRXZlbiBQaWVsbCcsXG4gICdFenJhIEJyaWRnZXInLFxuICAnRmFybyBBcmd5dXMnLFxuICAnRmVyYWwnLFxuICAnRmlmdGggQnJvdGhlcicsXG4gICdGaW5pcyBWYWxvcnVtJyxcbiAgJ0Zpbm4nLFxuICAnRml2ZXMnLFxuICAnRk4tMTgyNCcsXG4gICdGTi0yMDAzJyxcbiAgJ0ZvZGVzaW5iZWVkIEFubm9kdWUnLFxuICAnRnVsY3J1bScsXG4gICdGWC03JyxcbiAgJ0dBLTk3JyxcbiAgJ0dhbGVuIEVyc28nLFxuICAnR2FsbGl1cyBSYXgnLFxuICAnR2FyYXplYiBcIlplYlwiIE9ycmVsaW9zJyxcbiAgJ0dhcmR1bGxhIHRoZSBIdXR0JyxcbiAgJ0dhcnJpY2sgVmVyc2lvJyxcbiAgJ0dhcnZlbiBEcmVpcycsXG4gICdHYXZ5biBTeWtlcycsXG4gICdHaWRlb24gSGFzaycsXG4gICdHaXpvciBEZWxsc28nLFxuICAnR29uayBkcm9pZCcsXG4gICdHcmFuZCBJbnF1aXNpdG9yJyxcbiAgJ0dyZWVhdGEgSmVuZG93YW5pYW4nLFxuICAnR3JlZWRvJyxcbiAgJ0dyZWVyIFNvbm5lbCcsXG4gICdHcmlldm91cycsXG4gICdHcnVtbWdhcicsXG4gICdHdW5naScsXG4gICdIYW1tZXJoZWFkJyxcbiAgJ0hhbiBTb2xvJyxcbiAgJ0hhcnRlciBLYWxvbmlhJyxcbiAgJ0hhcyBPYmJpdCcsXG4gICdIZXJhIFN5bmR1bGxhJyxcbiAgJ0hldnknLFxuICAnSG9uZG8gT2huYWthJyxcbiAgJ0h1eWFuZycsXG4gICdJZGVuIFZlcnNpbycsXG4gICdJRy04OCcsXG4gICdJbWEtR3VuIERpJyxcbiAgJ0lucXVpc2l0b3JzJyxcbiAgJ0luc3BlY3RvciBUaGFub3RoJyxcbiAgJ0phYmJhJyxcbiAgJ0phY2VuIFN5bmR1bGxhJyxcbiAgJ0phbiBEb2Rvbm5hJyxcbiAgJ0phbmdvIEZldHQnLFxuICAnSmFudXMgR3JlZWphdHVzJyxcbiAgJ0phciBKYXIgQmlua3MnLFxuICAnSmFzIEVtYXJpJyxcbiAgJ0pheHhvbicsXG4gICdKZWsgVG9ubyBQb3JraW5zJyxcbiAgJ0plcmVtb2NoIENvbHRvbicsXG4gICdKaXJhJyxcbiAgJ0pvYmFsIE5hYmVycmllJyxcbiAgJ0pvY2FzdGEgTnUnLFxuICAnSm9jbGFkIERhbnZhJyxcbiAgJ0pvaCBZb3d6YScsXG4gICdKb20gQmFyZWxsJyxcbiAgJ0pvcGggU2Vhc3RyaWtlcicsXG4gICdKb3ZhIFRhcmtpbicsXG4gICdKdWJudWsnLFxuICAnSnluIEVyc28nLFxuICAnSy0yU08nLFxuICAnS2FuYW4gSmFycnVzJyxcbiAgJ0thcmJpbicsXG4gICdLYXJpbmEgdGhlIEdyZWF0JyxcbiAgJ0tlcyBEYW1lcm9uJyxcbiAgJ0tldHN1IE9ueW8nLFxuICAnS2ktQWRpLU11bmRpJyxcbiAgJ0tpbmcgS2F0dXVua28nLFxuICAnS2l0IEZpc3RvJyxcbiAgJ0tpdHN0ZXIgQmFuYWknLFxuICAnS2xhYXR1JyxcbiAgJ0tsaWstS2xhaycsXG4gICdLb3JyIFNlbGxhJyxcbiAgJ0t5bG8gUmVuJyxcbiAgJ0wzLTM3JyxcbiAgJ0xhbWEgU3UnLFxuICAnTGFuZG8gQ2Fscmlzc2lhbicsXG4gICdMYW5ldmVyIFZpbGxlY2hhbScsXG4gICdMZWlhIE9yZ2FuYScsXG4gICdMZXR0YSBUdXJtb25kJyxcbiAgJ0xpZXV0ZW5hbnQgS2F5ZGVsIEtvIENvbm5peCcsXG4gICdMaWV1dGVuYW50IFRoaXJlJyxcbiAgJ0xvYm90JyxcbiAgJ0xvZ3JheScsXG4gICdMb2sgRHVyZCcsXG4gICdMb25nbyBUd28tR3VucycsXG4gICdMb3IgU2FuIFRla2thJyxcbiAgJ0xvcnRoIE5lZWRhJyxcbiAgJ0xvdHQgRG9kJyxcbiAgJ0x1a2UgU2t5d2Fsa2VyJyxcbiAgJ0x1bWF0JyxcbiAgJ0x1bWluYXJhIFVuZHVsaScsXG4gICdMdXggQm9udGVyaScsXG4gICdMeW4gTWUnLFxuICAnTHlyYSBFcnNvJyxcbiAgJ01hY2UgV2luZHUnLFxuICAnTWFsYWtpbGknLFxuICAnTWFtYSB0aGUgSHV0dCcsXG4gICdNYXJzIEd1bycsXG4gICdNYXMgQW1lZGRhJyxcbiAgJ01hd2hvbmljJyxcbiAgJ01heCBSZWJvJyxcbiAgJ01heGltaWxpYW4gVmVlcnMnLFxuICAnTWF6IEthbmF0YScsXG4gICdNRS04RDknLFxuICAnTWVlbmEgVGlsbHMnLFxuICAnTWVyY3VyaWFsIFN3aWZ0JyxcbiAgJ01pbmEgQm9udGVyaScsXG4gICdNaXJhaiBTY2ludGVsJyxcbiAgJ01pc3RlciBCb25lcycsXG4gICdNb2QgVGVycmlrJyxcbiAgJ01vZGVuIENhbmFkeScsXG4gICdNb24gTW90aG1hJyxcbiAgJ01vcmFkbWluIEJhc3QnLFxuICAnTW9yYWxvIEV2YWwnLFxuICAnTW9ybGV5JyxcbiAgJ01vdGhlciBUYWx6aW4nLFxuICAnTmFoZGFyIFZlYmInLFxuICAnTmFoZG9ubmlzIFByYWppJyxcbiAgJ05pZW4gTnVuYicsXG4gICdOaWltYSB0aGUgSHV0dCcsXG4gICdOaW5lcycsXG4gICdOb3JyYSBXZXhsZXknLFxuICAnTnV0ZSBHdW5yYXknLFxuICAnTnV2byBWaW5kaScsXG4gICdPYmktV2FuIEtlbm9iaScsXG4gICdPZGQgQmFsbCcsXG4gICdPZHkgTWFuZHJlbGwnLFxuICAnT21pJyxcbiAgJ09uYWNvbmRhIEZhcnInLFxuICAnT29sYScsXG4gICdPT00tOScsXG4gICdPcHBvIFJhbmNpc2lzJyxcbiAgJ09ybiBGcmVlIFRhYScsXG4gICdPcm8gRGFzc3luZScsXG4gICdPcnJpbWFya28nLFxuICAnT3NpIFNvYmVjaycsXG4gICdPd2VuIExhcnMnLFxuICAnUGFibG8tSmlsbCcsXG4gICdQYWRtw6kgQW1pZGFsYScsXG4gICdQYWdldHRpIFJvb2snLFxuICAnUGFpZ2UgVGljbycsXG4gICdQYXBsb28nLFxuICAnUGV0dHkgT2ZmaWNlciBUaGFuaXNzb24nLFxuICAnUGhhcmwgTWNRdWFycmllJyxcbiAgJ1BsbyBLb29uJyxcbiAgJ1BvIE51ZG8nLFxuICAnUG9lIERhbWVyb24nLFxuICAnUG9nZ2xlIHRoZSBMZXNzZXInLFxuICAnUG9uZyBLcmVsbCcsXG4gICdQb29qYSBOYWJlcnJpZScsXG4gICdQWi00Q08nLFxuICAnUXVhcnJpZScsXG4gICdRdWF5IFRvbHNpdGUnLFxuICAnUXVlZW4gQXBhaWxhbmEnLFxuICAnUXVlZW4gSmFtaWxsaWEnLFxuICAnUXVlZW4gTmVleXV0bmVlJyxcbiAgJ1F1aS1Hb24gSmlubicsXG4gICdRdWlnZ29sZCcsXG4gICdRdWlubGFuIFZvcycsXG4gICdSMi1EMicsXG4gICdSMi1LVCcsXG4gICdSMy1TNicsXG4gICdSNC1QMTcnLFxuICAnUjUtRDQnLFxuICAnUkEtNycsXG4gICdSYWLDqScsXG4gICdSYWtvIEhhcmRlZW4nLFxuICAnUmFuc29sbSBDYXN0ZXJmbycsXG4gICdSYXBwZXJ0dW5pZScsXG4gICdSYXR0cyBUeWVyZWxsJyxcbiAgJ1JheW11cyBBbnRpbGxlcycsXG4gICdSZWUtWWVlcycsXG4gICdSZWV2ZSBQYW56b3JvJyxcbiAgJ1JleScsXG4gICdSaWMgT2xpw6knLFxuICAnUmlmZiBUYW1zb24nLFxuICAnUmlsZXknLFxuICAnUmlubnJpeWluIERpJyxcbiAgJ1JpbyBEdXJhbnQnLFxuICAnUm9ndWUgU3F1YWRyb24nLFxuICAnUm9tYmEnLFxuICAnUm9vcyBUYXJwYWxzJyxcbiAgJ1Jvc2UgVGljbycsXG4gICdSb3R0YSB0aGUgSHV0dCcsXG4gICdSdWtoJyxcbiAgJ1J1bmUgSGFha28nLFxuICAnUnVzaCBDbG92aXMnLFxuICAnUnV3ZWUgTmFiZXJyaWUnLFxuICAnUnlvbyBOYWJlcnJpZScsXG4gICdTYWLDqScsXG4gICdTYWJpbmUgV3JlbicsXG4gICdTYWNow6knLFxuICAnU2FlbHQtTWFyYWUnLFxuICAnU2Flc2VlIFRpaW4nLFxuICAnU2FsYWNpb3VzIEIuIENydW1iJyxcbiAgJ1NhbiBIaWxsJyxcbiAgJ1NhbmEgU3RhcnJvcycsXG4gICdTYXJjbyBQbGFuaycsXG4gICdTYXJrbGknLFxuICAnU2F0aW5lIEtyeXplJyxcbiAgJ1NhdmFnZSBPcHJlc3MnLFxuICAnU2VidWxiYScsXG4gICdTZW5hdG9yIE9yZ2FuYScsXG4gICdTZXJnZWFudCBLcmVlbCcsXG4gICdTZXZlbnRoIFNpc3RlcicsXG4gICdTaGFhayBUaScsXG4gICdTaGFyYSBCZXknLFxuICAnU2htaSBTa3l3YWxrZXInLFxuICAnU2h1IE1haScsXG4gICdTaWRvbiBJdGhhbm8nLFxuICAnU2lmby1EeWFzJyxcbiAgJ1NpbSBBbG9vJyxcbiAgJ1NpbmlpciBSYXRoIFZlbHVzJyxcbiAgJ1NpbyBCaWJibGUnLFxuICAnU2l4dGggQnJvdGhlcicsXG4gICdTbG93ZW4gTG8nLFxuICAnU2x5IE1vb3JlJyxcbiAgJ1NuYWdnbGV0b290aCcsXG4gICdTbmFwIFdleGxleScsXG4gICdTbm9rZScsXG4gICdTb2xhIE5hYmVycmllJyxcbiAgJ1NvcmEgQnVscScsXG4gICdTdHJvbm8gVHVnZ3MnLFxuICAnU3kgU25vb3RsZXMnLFxuICAnVGFsbGlzc2FuIExpbnRyYScsXG4gICdUYXJmZnVsJyxcbiAgJ1Rhc3UgTGVlY2gnLFxuICAnVGF1biBXZScsXG4gICdUQy0xNCcsXG4gICdUZWUgV2F0dCBLYWEnLFxuICAnVGVlYm8nLFxuICAnVGVlZG8nLFxuICAnVGVlbXRvIFBhZ2FsaWVzJyxcbiAgJ1RlbWlyaSBCbGFnZycsXG4gICdUZXNzZWsnLFxuICAnVGV5IEhvdycsXG4gICdUaGFuZSBLeXJlbGwnLFxuICAnVGhlIEJlbmR1JyxcbiAgJ1RoZSBTbXVnZ2xlcicsXG4gICdUaHJhd24nLFxuICAnVGlhYW4gSmVyamVycm9kJyxcbiAgJ1Rpb24gTWVkb24nLFxuICAnVG9iaWFzIEJlY2tldHQnLFxuICAnVHVsb24gVm9pZGdhemVyJyxcbiAgJ1R1cCcsXG4gICdVOS1DNCcsXG4gICdVbmthciBQbHV0dCcsXG4gICdWYWwgQmVja2V0dCcsXG4gICdWYW5kZW4gV2lsbGFyZCcsXG4gICdWaWNlIEFkbWlyYWwgQW1pbHluIEhvbGRvJyxcbiAgJ1ZvYmVyIERhbmQnLFxuICAnV0FDLTQ3JyxcbiAgJ1dhZyBUb28nLFxuICAnV2FsZCcsXG4gICdXYWxydXMgTWFuJyxcbiAgJ1dhcm9rJyxcbiAgJ1dhdCBUYW1ib3InLFxuICAnV2F0dG8nLFxuICAnV2VkZ2UgQW50aWxsZXMnLFxuICAnV2VzIEphbnNvbicsXG4gICdXaWNrZXQgVy4gV2FycmljaycsXG4gICdXaWxodWZmIFRhcmtpbicsXG4gICdXb2xsaXZhbicsXG4gICdXdWhlcicsXG4gICdXdWxsZiBZdWxhcmVuJyxcbiAgJ1hhbXVlbCBMZW5ub3gnLFxuICAnWWFkZGxlJyxcbiAgJ1lhcmFlbCBQb29mJyxcbiAgJ1lvZGEnLFxuICAnWmFtIFdlc2VsbCcsXG4gICdaZXYgU2VuZXNjYScsXG4gICdaaXJvIHRoZSBIdXR0JyxcbiAgJ1p1Y2t1c3MnLFxuXTtcblxuY29uc3QgZHVtbXlMb29rdXBTZXJ2aWNlID0ge1xuICBzZWFyY2goc3RyaW5nOiBzdHJpbmcsIGNhbGxiYWNrOiAocmVzdWx0czogQXJyYXk8c3RyaW5nPikgPT4gdm9pZCk6IHZvaWQge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGR1bW15TWVudGlvbnNEYXRhLmZpbHRlcigobWVudGlvbikgPT5cbiAgICAgICAgbWVudGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHN0cmluZy50b0xvd2VyQ2FzZSgpKSxcbiAgICAgICk7XG4gICAgICBjYWxsYmFjayhyZXN1bHRzKTtcbiAgICB9LCA1MDApO1xuICB9LFxufTtcblxuZnVuY3Rpb24gdXNlTWVudGlvbkxvb2t1cFNlcnZpY2UobWVudGlvblN0cmluZzogc3RyaW5nIHwgbnVsbCkge1xuICBjb25zdCBbcmVzdWx0cywgc2V0UmVzdWx0c10gPSB1c2VTdGF0ZTxBcnJheTxzdHJpbmc+PihbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYWNoZWRSZXN1bHRzID0gbWVudGlvbnNDYWNoZS5nZXQobWVudGlvblN0cmluZyk7XG5cbiAgICBpZiAobWVudGlvblN0cmluZyA9PSBudWxsKSB7XG4gICAgICBzZXRSZXN1bHRzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2FjaGVkUmVzdWx0cyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoY2FjaGVkUmVzdWx0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXRSZXN1bHRzKGNhY2hlZFJlc3VsdHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1lbnRpb25zQ2FjaGUuc2V0KG1lbnRpb25TdHJpbmcsIG51bGwpO1xuICAgIGR1bW15TG9va3VwU2VydmljZS5zZWFyY2gobWVudGlvblN0cmluZywgKG5ld1Jlc3VsdHMpID0+IHtcbiAgICAgIG1lbnRpb25zQ2FjaGUuc2V0KG1lbnRpb25TdHJpbmcsIG5ld1Jlc3VsdHMpO1xuICAgICAgc2V0UmVzdWx0cyhuZXdSZXN1bHRzKTtcbiAgICB9KTtcbiAgfSwgW21lbnRpb25TdHJpbmddKTtcblxuICByZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JDYXBpdGFsaXplZE5hbWVNZW50aW9ucyhcbiAgdGV4dDogc3RyaW5nLFxuICBtaW5NYXRjaExlbmd0aDogbnVtYmVyLFxuKTogUXVlcnlNYXRjaCB8IG51bGwge1xuICBjb25zdCBtYXRjaCA9IENhcGl0YWxpemVkTmFtZU1lbnRpb25zUmVnZXguZXhlYyh0ZXh0KTtcbiAgaWYgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgLy8gVGhlIHN0cmF0ZWd5IGlnbm9yZXMgbGVhZGluZyB3aGl0ZXNwYWNlIGJ1dCB3ZSBuZWVkIHRvIGtub3cgaXQnc1xuICAgIC8vIGxlbmd0aCB0byBhZGQgaXQgdG8gdGhlIGxlYWRPZmZzZXRcbiAgICBjb25zdCBtYXliZUxlYWRpbmdXaGl0ZXNwYWNlID0gbWF0Y2hbMV07XG5cbiAgICBjb25zdCBtYXRjaGluZ1N0cmluZyA9IG1hdGNoWzJdO1xuICAgIGlmIChtYXRjaGluZ1N0cmluZyAhPSBudWxsICYmIG1hdGNoaW5nU3RyaW5nLmxlbmd0aCA+PSBtaW5NYXRjaExlbmd0aCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVhZE9mZnNldDogbWF0Y2guaW5kZXggKyBtYXliZUxlYWRpbmdXaGl0ZXNwYWNlLmxlbmd0aCxcbiAgICAgICAgbWF0Y2hpbmdTdHJpbmcsXG4gICAgICAgIHJlcGxhY2VhYmxlU3RyaW5nOiBtYXRjaGluZ1N0cmluZyxcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBjaGVja0ZvckF0U2lnbk1lbnRpb25zKFxuICB0ZXh0OiBzdHJpbmcsXG4gIG1pbk1hdGNoTGVuZ3RoOiBudW1iZXIsXG4pOiBRdWVyeU1hdGNoIHwgbnVsbCB7XG4gIGxldCBtYXRjaCA9IEF0U2lnbk1lbnRpb25zUmVnZXguZXhlYyh0ZXh0KTtcblxuICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICBtYXRjaCA9IEF0U2lnbk1lbnRpb25zUmVnZXhBbGlhc1JlZ2V4LmV4ZWModGV4dCk7XG4gIH1cbiAgaWYgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgLy8gVGhlIHN0cmF0ZWd5IGlnbm9yZXMgbGVhZGluZyB3aGl0ZXNwYWNlIGJ1dCB3ZSBuZWVkIHRvIGtub3cgaXQnc1xuICAgIC8vIGxlbmd0aCB0byBhZGQgaXQgdG8gdGhlIGxlYWRPZmZzZXRcbiAgICBjb25zdCBtYXliZUxlYWRpbmdXaGl0ZXNwYWNlID0gbWF0Y2hbMV07XG5cbiAgICBjb25zdCBtYXRjaGluZ1N0cmluZyA9IG1hdGNoWzNdO1xuICAgIGlmIChtYXRjaGluZ1N0cmluZy5sZW5ndGggPj0gbWluTWF0Y2hMZW5ndGgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlYWRPZmZzZXQ6IG1hdGNoLmluZGV4ICsgbWF5YmVMZWFkaW5nV2hpdGVzcGFjZS5sZW5ndGgsXG4gICAgICAgIG1hdGNoaW5nU3RyaW5nLFxuICAgICAgICByZXBsYWNlYWJsZVN0cmluZzogbWF0Y2hbMl0sXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0UG9zc2libGVRdWVyeU1hdGNoKHRleHQ6IHN0cmluZyk6IFF1ZXJ5TWF0Y2ggfCBudWxsIHtcbiAgY29uc3QgbWF0Y2ggPSBjaGVja0ZvckF0U2lnbk1lbnRpb25zKHRleHQsIDEpO1xuICByZXR1cm4gbWF0Y2ggPT09IG51bGwgPyBjaGVja0ZvckNhcGl0YWxpemVkTmFtZU1lbnRpb25zKHRleHQsIDMpIDogbWF0Y2g7XG59XG5cbmNsYXNzIE1lbnRpb25UeXBlYWhlYWRPcHRpb24gZXh0ZW5kcyBUeXBlYWhlYWRPcHRpb24ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHBpY3R1cmU6IEpTWC5FbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcGljdHVyZTogSlNYLkVsZW1lbnQpIHtcbiAgICBzdXBlcihuYW1lKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMucGljdHVyZSA9IHBpY3R1cmU7XG4gIH1cbn1cblxuZnVuY3Rpb24gTWVudGlvbnNUeXBlYWhlYWRNZW51SXRlbSh7XG4gIGluZGV4LFxuICBpc1NlbGVjdGVkLFxuICBvbkNsaWNrLFxuICBvbk1vdXNlRW50ZXIsXG4gIG9wdGlvbixcbn06IHtcbiAgaW5kZXg6IG51bWJlcjtcbiAgaXNTZWxlY3RlZDogYm9vbGVhbjtcbiAgb25DbGljazogKCkgPT4gdm9pZDtcbiAgb25Nb3VzZUVudGVyOiAoKSA9PiB2b2lkO1xuICBvcHRpb246IE1lbnRpb25UeXBlYWhlYWRPcHRpb247XG59KSB7XG4gIGxldCBjbGFzc05hbWUgPSAnaXRlbSc7XG4gIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgY2xhc3NOYW1lICs9ICcgc2VsZWN0ZWQnO1xuICB9XG4gIHJldHVybiAoXG4gICAgPGxpXG4gICAgICBrZXk9e29wdGlvbi5rZXl9XG4gICAgICB0YWJJbmRleD17LTF9XG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgIHJlZj17b3B0aW9uLnNldFJlZkVsZW1lbnR9XG4gICAgICByb2xlPVwib3B0aW9uXCJcbiAgICAgIGFyaWEtc2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICBpZD17J3R5cGVhaGVhZC1pdGVtLScgKyBpbmRleH1cbiAgICAgIG9uTW91c2VFbnRlcj17b25Nb3VzZUVudGVyfVxuICAgICAgb25DbGljaz17b25DbGlja30+XG4gICAgICB7b3B0aW9uLnBpY3R1cmV9XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0XCI+e29wdGlvbi5uYW1lfTwvc3Bhbj5cbiAgICA8L2xpPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBOZXdNZW50aW9uc1BsdWdpbigpOiBKU1guRWxlbWVudCB8IG51bGwge1xuICBjb25zdCBbZWRpdG9yXSA9IHVzZUxleGljYWxDb21wb3NlckNvbnRleHQoKTtcblxuICBjb25zdCBbcXVlcnlTdHJpbmcsIHNldFF1ZXJ5U3RyaW5nXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IHJlc3VsdHMgPSB1c2VNZW50aW9uTG9va3VwU2VydmljZShxdWVyeVN0cmluZyk7XG5cbiAgY29uc3QgY2hlY2tGb3JTbGFzaFRyaWdnZXJNYXRjaCA9IHVzZUJhc2ljVHlwZWFoZWFkVHJpZ2dlck1hdGNoKCcvJywge1xuICAgIG1pbkxlbmd0aDogMCxcbiAgfSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHJlc3VsdHNcbiAgICAgICAgLm1hcChcbiAgICAgICAgICAocmVzdWx0KSA9PlxuICAgICAgICAgICAgbmV3IE1lbnRpb25UeXBlYWhlYWRPcHRpb24ocmVzdWx0LCA8aSBjbGFzc05hbWU9XCJpY29uIHVzZXJcIiAvPiksXG4gICAgICAgIClcbiAgICAgICAgLnNsaWNlKDAsIFNVR0dFU1RJT05fTElTVF9MRU5HVEhfTElNSVQpLFxuICAgIFtyZXN1bHRzXSxcbiAgKTtcblxuICBjb25zdCBvblNlbGVjdE9wdGlvbiA9IHVzZUNhbGxiYWNrKFxuICAgIChcbiAgICAgIHNlbGVjdGVkT3B0aW9uOiBNZW50aW9uVHlwZWFoZWFkT3B0aW9uLFxuICAgICAgbm9kZVRvUmVwbGFjZTogVGV4dE5vZGUgfCBudWxsLFxuICAgICAgY2xvc2VNZW51OiAoKSA9PiB2b2lkLFxuICAgICkgPT4ge1xuICAgICAgZWRpdG9yLnVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lbnRpb25Ob2RlID0gJGNyZWF0ZU1lbnRpb25Ob2RlKHNlbGVjdGVkT3B0aW9uLm5hbWUpO1xuICAgICAgICBpZiAobm9kZVRvUmVwbGFjZSkge1xuICAgICAgICAgIG5vZGVUb1JlcGxhY2UucmVwbGFjZShtZW50aW9uTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbWVudGlvbk5vZGUuc2VsZWN0KCk7XG4gICAgICAgIGNsb3NlTWVudSgpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbZWRpdG9yXSxcbiAgKTtcblxuICBjb25zdCBjaGVja0Zvck1lbnRpb25NYXRjaCA9IHVzZUNhbGxiYWNrKFxuICAgICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IG1lbnRpb25NYXRjaCA9IGdldFBvc3NpYmxlUXVlcnlNYXRjaCh0ZXh0KTtcbiAgICAgIGNvbnN0IHNsYXNoTWF0Y2ggPSBjaGVja0ZvclNsYXNoVHJpZ2dlck1hdGNoKHRleHQsIGVkaXRvcik7XG4gICAgICByZXR1cm4gIXNsYXNoTWF0Y2ggJiYgbWVudGlvbk1hdGNoID8gbWVudGlvbk1hdGNoIDogbnVsbDtcbiAgICB9LFxuICAgIFtjaGVja0ZvclNsYXNoVHJpZ2dlck1hdGNoLCBlZGl0b3JdLFxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPExleGljYWxUeXBlYWhlYWRNZW51UGx1Z2luPE1lbnRpb25UeXBlYWhlYWRPcHRpb24+XG4gICAgICBvblF1ZXJ5Q2hhbmdlPXtzZXRRdWVyeVN0cmluZ31cbiAgICAgIG9uU2VsZWN0T3B0aW9uPXtvblNlbGVjdE9wdGlvbn1cbiAgICAgIHRyaWdnZXJGbj17Y2hlY2tGb3JNZW50aW9uTWF0Y2h9XG4gICAgICBvcHRpb25zPXtvcHRpb25zfVxuICAgICAgbWVudVJlbmRlckZuPXsoXG4gICAgICAgIGFuY2hvckVsZW1lbnRSZWYsXG4gICAgICAgIHtzZWxlY3RlZEluZGV4LCBzZWxlY3RPcHRpb25BbmRDbGVhblVwLCBzZXRIaWdobGlnaHRlZEluZGV4fSxcbiAgICAgICkgPT5cbiAgICAgICAgYW5jaG9yRWxlbWVudFJlZi5jdXJyZW50ICYmIHJlc3VsdHMubGVuZ3RoXG4gICAgICAgICAgPyBSZWFjdERPTS5jcmVhdGVQb3J0YWwoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHlwZWFoZWFkLXBvcG92ZXIgbWVudGlvbnMtbWVudVwiPlxuICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgIHtvcHRpb25zLm1hcCgob3B0aW9uLCBpOiBudW1iZXIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPE1lbnRpb25zVHlwZWFoZWFkTWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICBpbmRleD17aX1cbiAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXtzZWxlY3RlZEluZGV4ID09PSBpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEhpZ2hsaWdodGVkSW5kZXgoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RPcHRpb25BbmRDbGVhblVwKG9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEhpZ2hsaWdodGVkSW5kZXgoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e29wdGlvbi5rZXl9XG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uPXtvcHRpb259XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICA8L2Rpdj4sXG4gICAgICAgICAgICAgIGFuY2hvckVsZW1lbnRSZWYuY3VycmVudCxcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG51bGxcbiAgICAgIH1cbiAgICAvPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUxleGljYWxDb21wb3NlckNvbnRleHQiLCJMZXhpY2FsVHlwZWFoZWFkTWVudVBsdWdpbiIsIlR5cGVhaGVhZE9wdGlvbiIsInVzZUJhc2ljVHlwZWFoZWFkVHJpZ2dlck1hdGNoIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJSZWFjdCIsIlJlYWN0RE9NIiwiJGNyZWF0ZU1lbnRpb25Ob2RlIiwiUFVOQ1RVQVRJT04iLCJOQU1FIiwiRG9jdW1lbnRNZW50aW9uc1JlZ2V4IiwiQ2FwaXRhbGl6ZWROYW1lTWVudGlvbnNSZWdleCIsIlJlZ0V4cCIsIlBVTkMiLCJUUklHR0VSUyIsImpvaW4iLCJWQUxJRF9DSEFSUyIsIlZBTElEX0pPSU5TIiwiTEVOR1RIX0xJTUlUIiwiQXRTaWduTWVudGlvbnNSZWdleCIsIkFMSUFTX0xFTkdUSF9MSU1JVCIsIkF0U2lnbk1lbnRpb25zUmVnZXhBbGlhc1JlZ2V4IiwiU1VHR0VTVElPTl9MSVNUX0xFTkdUSF9MSU1JVCIsIm1lbnRpb25zQ2FjaGUiLCJNYXAiLCJkdW1teU1lbnRpb25zRGF0YSIsImR1bW15TG9va3VwU2VydmljZSIsInNlYXJjaCIsInN0cmluZyIsImNhbGxiYWNrIiwic2V0VGltZW91dCIsInJlc3VsdHMiLCJmaWx0ZXIiLCJtZW50aW9uIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInVzZU1lbnRpb25Mb29rdXBTZXJ2aWNlIiwibWVudGlvblN0cmluZyIsInNldFJlc3VsdHMiLCJjYWNoZWRSZXN1bHRzIiwiZ2V0IiwidW5kZWZpbmVkIiwic2V0IiwibmV3UmVzdWx0cyIsImNoZWNrRm9yQ2FwaXRhbGl6ZWROYW1lTWVudGlvbnMiLCJ0ZXh0IiwibWluTWF0Y2hMZW5ndGgiLCJtYXRjaCIsImV4ZWMiLCJtYXliZUxlYWRpbmdXaGl0ZXNwYWNlIiwibWF0Y2hpbmdTdHJpbmciLCJsZW5ndGgiLCJsZWFkT2Zmc2V0IiwiaW5kZXgiLCJyZXBsYWNlYWJsZVN0cmluZyIsImNoZWNrRm9yQXRTaWduTWVudGlvbnMiLCJnZXRQb3NzaWJsZVF1ZXJ5TWF0Y2giLCJNZW50aW9uVHlwZWFoZWFkT3B0aW9uIiwibmFtZSIsInBpY3R1cmUiLCJNZW50aW9uc1R5cGVhaGVhZE1lbnVJdGVtIiwiaXNTZWxlY3RlZCIsIm9uQ2xpY2siLCJvbk1vdXNlRW50ZXIiLCJvcHRpb24iLCJjbGFzc05hbWUiLCJzZXRSZWZFbGVtZW50Iiwia2V5IiwiTmV3TWVudGlvbnNQbHVnaW4iLCJlZGl0b3IiLCJxdWVyeVN0cmluZyIsInNldFF1ZXJ5U3RyaW5nIiwiY2hlY2tGb3JTbGFzaFRyaWdnZXJNYXRjaCIsIm1pbkxlbmd0aCIsIm9wdGlvbnMiLCJtYXAiLCJyZXN1bHQiLCJzbGljZSIsIm9uU2VsZWN0T3B0aW9uIiwic2VsZWN0ZWRPcHRpb24iLCJub2RlVG9SZXBsYWNlIiwiY2xvc2VNZW51IiwidXBkYXRlIiwibWVudGlvbk5vZGUiLCJyZXBsYWNlIiwic2VsZWN0IiwiY2hlY2tGb3JNZW50aW9uTWF0Y2giLCJtZW50aW9uTWF0Y2giLCJzbGFzaE1hdGNoIiwiYW5jaG9yRWxlbWVudFJlZiIsInNlbGVjdGVkSW5kZXgiLCJzZWxlY3RPcHRpb25BbmRDbGVhblVwIiwic2V0SGlnaGxpZ2h0ZWRJbmRleCIsImN1cnJlbnQiLCJjcmVhdGVQb3J0YWwiLCJpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/LexicalEditor/plugins/MentionsPlugin/index.tsx\n"));

/***/ }),

/***/ "./components/LexicalEditor/ui/ImageResizer.tsx":
/*!******************************************************!*\
  !*** ./components/LexicalEditor/ui/ImageResizer.tsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ImageResizer; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\nvar _jsxFileName = \"/home/songliansheng/projects/blog-ui/components/LexicalEditor/ui/ImageResizer.tsx\",\n    _s = $RefreshSig$();\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\n\n\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\nvar Direction = {\n  east: 1 << 0,\n  north: 1 << 3,\n  south: 1 << 1,\n  west: 1 << 2\n};\nfunction ImageResizer(_ref) {\n  _s();\n\n  var onResizeStart = _ref.onResizeStart,\n      onResizeEnd = _ref.onResizeEnd,\n      buttonRef = _ref.buttonRef,\n      imageRef = _ref.imageRef,\n      maxWidth = _ref.maxWidth,\n      editor = _ref.editor,\n      showCaption = _ref.showCaption,\n      setShowCaption = _ref.setShowCaption,\n      captionsEnabled = _ref.captionsEnabled;\n  var controlWrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var userSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    priority: '',\n    value: 'default'\n  });\n  var positioningRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    currentHeight: 0,\n    currentWidth: 0,\n    direction: 0,\n    isResizing: false,\n    ratio: 0,\n    startHeight: 0,\n    startWidth: 0,\n    startX: 0,\n    startY: 0\n  });\n  var editorRootElement = editor.getRootElement(); // Find max width, accounting for editor padding.\n\n  var maxWidthContainer = maxWidth ? maxWidth : editorRootElement !== null ? editorRootElement.getBoundingClientRect().width - 20 : 100;\n  var maxHeightContainer = editorRootElement !== null ? editorRootElement.getBoundingClientRect().height - 20 : 100;\n  var minWidth = 100;\n  var minHeight = 100;\n\n  var setStartCursor = function setStartCursor(direction) {\n    var ew = direction === Direction.east || direction === Direction.west;\n    var ns = direction === Direction.north || direction === Direction.south;\n    var nwse = direction & Direction.north && direction & Direction.west || direction & Direction.south && direction & Direction.east;\n    var cursorDir = ew ? 'ew' : ns ? 'ns' : nwse ? 'nwse' : 'nesw';\n\n    if (editorRootElement !== null) {\n      editorRootElement.style.setProperty('cursor', \"\".concat(cursorDir, \"-resize\"), 'important');\n    }\n\n    if (document.body !== null) {\n      document.body.style.setProperty('cursor', \"\".concat(cursorDir, \"-resize\"), 'important');\n      userSelect.current.value = document.body.style.getPropertyValue('-webkit-user-select');\n      userSelect.current.priority = document.body.style.getPropertyPriority('-webkit-user-select');\n      document.body.style.setProperty('-webkit-user-select', \"none\", 'important');\n    }\n  };\n\n  var setEndCursor = function setEndCursor() {\n    if (editorRootElement !== null) {\n      editorRootElement.style.setProperty('cursor', 'default');\n    }\n\n    if (document.body !== null) {\n      document.body.style.setProperty('cursor', 'default');\n      document.body.style.setProperty('-webkit-user-select', userSelect.current.value, userSelect.current.priority);\n    }\n  };\n\n  var handlePointerDown = function handlePointerDown(event, direction) {\n    if (!editor.isEditable()) {\n      return;\n    }\n\n    var image = imageRef.current;\n    var controlWrapper = controlWrapperRef.current;\n\n    if (image !== null && controlWrapper !== null) {\n      var _image$getBoundingCli = image.getBoundingClientRect(),\n          _width = _image$getBoundingCli.width,\n          _height = _image$getBoundingCli.height;\n\n      var positioning = positioningRef.current;\n      positioning.startWidth = _width;\n      positioning.startHeight = _height;\n      positioning.ratio = _width / _height;\n      positioning.currentWidth = _width;\n      positioning.currentHeight = _height;\n      positioning.startX = event.clientX;\n      positioning.startY = event.clientY;\n      positioning.isResizing = true;\n      positioning.direction = direction;\n      setStartCursor(direction);\n      onResizeStart();\n      controlWrapper.classList.add('image-control-wrapper--resizing');\n      image.style.height = \"\".concat(_height, \"px\");\n      image.style.width = \"\".concat(_width, \"px\");\n      document.addEventListener('pointermove', handlePointerMove);\n      document.addEventListener('pointerup', handlePointerUp);\n    }\n  };\n\n  var handlePointerMove = function handlePointerMove(event) {\n    var image = imageRef.current;\n    var positioning = positioningRef.current;\n    var isHorizontal = positioning.direction & (Direction.east | Direction.west);\n    var isVertical = positioning.direction & (Direction.south | Direction.north);\n\n    if (image !== null && positioning.isResizing) {\n      // Corner cursor\n      if (isHorizontal && isVertical) {\n        var diff = Math.floor(positioning.startX - event.clientX);\n        diff = positioning.direction & Direction.east ? -diff : diff;\n\n        var _width2 = clamp(positioning.startWidth + diff, minWidth, maxWidthContainer);\n\n        var _height2 = _width2 / positioning.ratio;\n\n        image.style.width = \"\".concat(_width2, \"px\");\n        image.style.height = \"\".concat(_height2, \"px\");\n        positioning.currentHeight = _height2;\n        positioning.currentWidth = _width2;\n      } else if (isVertical) {\n        var _diff = Math.floor(positioning.startY - event.clientY);\n\n        _diff = positioning.direction & Direction.south ? -_diff : _diff;\n\n        var _height3 = clamp(positioning.startHeight + _diff, minHeight, maxHeightContainer);\n\n        image.style.height = \"\".concat(_height3, \"px\");\n        positioning.currentHeight = _height3;\n      } else {\n        var _diff2 = Math.floor(positioning.startX - event.clientX);\n\n        _diff2 = positioning.direction & Direction.east ? -_diff2 : _diff2;\n\n        var _width3 = clamp(positioning.startWidth + _diff2, minWidth, maxWidthContainer);\n\n        image.style.width = \"\".concat(_width3, \"px\");\n        positioning.currentWidth = _width3;\n      }\n    }\n  };\n\n  var handlePointerUp = function handlePointerUp() {\n    var image = imageRef.current;\n    var positioning = positioningRef.current;\n    var controlWrapper = controlWrapperRef.current;\n\n    if (image !== null && controlWrapper !== null && positioning.isResizing) {\n      var _width4 = positioning.currentWidth;\n      var _height4 = positioning.currentHeight;\n      positioning.startWidth = 0;\n      positioning.startHeight = 0;\n      positioning.ratio = 0;\n      positioning.startX = 0;\n      positioning.startY = 0;\n      positioning.currentWidth = 0;\n      positioning.currentHeight = 0;\n      positioning.isResizing = false;\n      controlWrapper.classList.remove('image-control-wrapper--resizing');\n      setEndCursor();\n      onResizeEnd(_width4, _height4);\n      document.removeEventListener('pointermove', handlePointerMove);\n      document.removeEventListener('pointerup', handlePointerUp);\n    }\n  };\n\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n    ref: controlWrapperRef,\n    children: [!showCaption && captionsEnabled && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n      className: \"image-caption-button\",\n      ref: buttonRef,\n      onClick: function onClick() {\n        setShowCaption(!showCaption);\n      },\n      children: \"Add Caption\"\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      className: \"image-resizer image-resizer-n\",\n      onPointerDown: function onPointerDown(event) {\n        handlePointerDown(event, Direction.north);\n      }\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      className: \"image-resizer image-resizer-ne\",\n      onPointerDown: function onPointerDown(event) {\n        handlePointerDown(event, Direction.north | Direction.east);\n      }\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      className: \"image-resizer image-resizer-e\",\n      onPointerDown: function onPointerDown(event) {\n        handlePointerDown(event, Direction.east);\n      }\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      className: \"image-resizer image-resizer-se\",\n      onPointerDown: function onPointerDown(event) {\n        handlePointerDown(event, Direction.south | Direction.east);\n      }\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      className: \"image-resizer image-resizer-s\",\n      onPointerDown: function onPointerDown(event) {\n        handlePointerDown(event, Direction.south);\n      }\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      className: \"image-resizer image-resizer-sw\",\n      onPointerDown: function onPointerDown(event) {\n        handlePointerDown(event, Direction.south | Direction.west);\n      }\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      className: \"image-resizer image-resizer-w\",\n      onPointerDown: function onPointerDown(event) {\n        handlePointerDown(event, Direction.west);\n      }\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      className: \"image-resizer image-resizer-nw\",\n      onPointerDown: function onPointerDown(event) {\n        handlePointerDown(event, Direction.north | Direction.west);\n      }\n    })]\n  });\n}\n\n_s(ImageResizer, \"qfD3zOdeK+JU/rMxRiqtxAQJ10g=\");\n\n_c = ImageResizer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageResizer\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0xleGljYWxFZGl0b3IvdWkvSW1hZ2VSZXNpemVyLnRzeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTs7OztBQUVBLFNBQVNFLEtBQVQsQ0FBZUMsS0FBZixFQUE4QkMsR0FBOUIsRUFBMkNDLEdBQTNDLEVBQXdEO0VBQ3RELE9BQU9DLElBQUksQ0FBQ0YsR0FBTCxDQUFTRSxJQUFJLENBQUNELEdBQUwsQ0FBU0YsS0FBVCxFQUFnQkMsR0FBaEIsQ0FBVCxFQUErQkMsR0FBL0IsQ0FBUDtBQUNEOztBQUVELElBQU1FLFNBQVMsR0FBRztFQUNoQkMsSUFBSSxFQUFFLEtBQUssQ0FESztFQUVoQkMsS0FBSyxFQUFFLEtBQUssQ0FGSTtFQUdoQkMsS0FBSyxFQUFFLEtBQUssQ0FISTtFQUloQkMsSUFBSSxFQUFFLEtBQUs7QUFKSyxDQUFsQjtBQU9lLFNBQVNDLFlBQVQsT0FvQkM7RUFBQTs7RUFBQSxJQW5CZEMsYUFtQmMsUUFuQmRBLGFBbUJjO0VBQUEsSUFsQmRDLFdBa0JjLFFBbEJkQSxXQWtCYztFQUFBLElBakJkQyxTQWlCYyxRQWpCZEEsU0FpQmM7RUFBQSxJQWhCZEMsUUFnQmMsUUFoQmRBLFFBZ0JjO0VBQUEsSUFmZEMsUUFlYyxRQWZkQSxRQWVjO0VBQUEsSUFkZEMsTUFjYyxRQWRkQSxNQWNjO0VBQUEsSUFiZEMsV0FhYyxRQWJkQSxXQWFjO0VBQUEsSUFaZEMsY0FZYyxRQVpkQSxjQVljO0VBQUEsSUFYZEMsZUFXYyxRQVhkQSxlQVdjO0VBQ2QsSUFBTUMsaUJBQWlCLEdBQUdyQiw2Q0FBTSxDQUFpQixJQUFqQixDQUFoQztFQUNBLElBQU1zQixVQUFVLEdBQUd0Qiw2Q0FBTSxDQUFDO0lBQ3hCdUIsUUFBUSxFQUFFLEVBRGM7SUFFeEJyQixLQUFLLEVBQUU7RUFGaUIsQ0FBRCxDQUF6QjtFQUlBLElBQU1zQixjQUFjLEdBQUd4Qiw2Q0FBTSxD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a0QsS0FBRCxFQUFXO1FBQ3hCRCxpQkFBaUIsQ0FBQ0MsS0FBRCxFQUFRbkQsU0FBUyxDQUFDRyxLQUFWLEdBQWtCSCxTQUFTLENBQUNDLElBQXBDLENBQWpCO01BQ0Q7SUFKSCxFQTdCRixlQW1DRTtNQUNFLFNBQVMsRUFBQywrQkFEWjtNQUVFLGFBQWEsRUFBRSx1QkFBQ2tELEtBQUQsRUFBVztRQUN4QkQsaUJBQWlCLENBQUNDLEtBQUQsRUFBUW5ELFNBQVMsQ0FBQ0csS0FBbEIsQ0FBakI7TUFDRDtJQUpILEVBbkNGLGVBeUNFO01BQ0UsU0FBUyxFQUFDLGdDQURaO01BRUUsYUFBYSxFQUFFLHVCQUFDZ0QsS0FBRCxFQUFXO1FBQ3hCRCxpQkFBaUIsQ0FBQ0MsS0FBRCxFQUFRbkQsU0FBUyxDQUFDRyxLQUFWLEdBQWtCSCxTQUFTLENBQUNJLElBQXBDLENBQWpCO01BQ0Q7SUFKSCxFQXpDRixlQStDRTtNQUNFLFNBQVMsRUFBQywrQkFEWjtNQUVFLGFBQWEsRUFBRSx1QkFBQytDLEtBQUQsRUFBVztRQUN4QkQsaUJBQWlCLENBQUNDLEtBQUQsRUFBUW5ELFNBQVMsQ0FBQ0ksSUFBbEIsQ0FBakI7TUFDRDtJQUpILEVBL0NGLGVBcURFO01BQ0UsU0FBUyxFQUFDLGdDQURaO01BRUUsYUFBYSxFQUFFLHVCQUFDK0MsS0FBRCxFQUFXO1FBQ3hCRCxpQkFBaUIsQ0FBQ0MsS0FBRCxFQUFRbkQsU0FBUyxDQUFDRSxLQUFWLEdBQWtCRixTQUFTLENBQUNJLElBQXBDLENBQWpCO01BQ0Q7SUFKSCxFQXJERjtFQUFBLEVBREY7QUE4REQ7O0dBL1J1QkM7O0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvTGV4aWNhbEVkaXRvci91aS9JbWFnZVJlc2l6ZXIudHN4PzZlODYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5pbXBvcnQgdHlwZSB7TGV4aWNhbEVkaXRvcn0gZnJvbSAnbGV4aWNhbCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7dXNlUmVmfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIGNsYW1wKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7XG59XG5cbmNvbnN0IERpcmVjdGlvbiA9IHtcbiAgZWFzdDogMSA8PCAwLFxuICBub3J0aDogMSA8PCAzLFxuICBzb3V0aDogMSA8PCAxLFxuICB3ZXN0OiAxIDw8IDIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbWFnZVJlc2l6ZXIoe1xuICBvblJlc2l6ZVN0YXJ0LFxuICBvblJlc2l6ZUVuZCxcbiAgYnV0dG9uUmVmLFxuICBpbWFnZVJlZixcbiAgbWF4V2lkdGgsXG4gIGVkaXRvcixcbiAgc2hvd0NhcHRpb24sXG4gIHNldFNob3dDYXB0aW9uLFxuICBjYXB0aW9uc0VuYWJsZWQsXG59OiB7XG4gIGVkaXRvcjogTGV4aWNhbEVkaXRvcjtcbiAgYnV0dG9uUmVmOiB7Y3VycmVudDogbnVsbCB8IEhUTUxCdXR0b25FbGVtZW50fTtcbiAgaW1hZ2VSZWY6IHtjdXJyZW50OiBudWxsIHwgSFRNTEVsZW1lbnR9O1xuICBtYXhXaWR0aD86IG51bWJlcjtcbiAgb25SZXNpemVFbmQ6ICh3aWR0aDogJ2luaGVyaXQnIHwgbnVtYmVyLCBoZWlnaHQ6ICdpbmhlcml0JyB8IG51bWJlcikgPT4gdm9pZDtcbiAgb25SZXNpemVTdGFydDogKCkgPT4gdm9pZDtcbiAgc2V0U2hvd0NhcHRpb246IChzaG93OiBib29sZWFuKSA9PiB2b2lkO1xuICBzaG93Q2FwdGlvbjogYm9vbGVhbjtcbiAgY2FwdGlvbnNFbmFibGVkOiBib29sZWFuO1xufSk6IEpTWC5FbGVtZW50IHtcbiAgY29uc3QgY29udHJvbFdyYXBwZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCB1c2VyU2VsZWN0ID0gdXNlUmVmKHtcbiAgICBwcmlvcml0eTogJycsXG4gICAgdmFsdWU6ICdkZWZhdWx0JyxcbiAgfSk7XG4gIGNvbnN0IHBvc2l0aW9uaW5nUmVmID0gdXNlUmVmPHtcbiAgICBjdXJyZW50SGVpZ2h0OiAnaW5oZXJpdCcgfCBudW1iZXI7XG4gICAgY3VycmVudFdpZHRoOiAnaW5oZXJpdCcgfCBudW1iZXI7XG4gICAgZGlyZWN0aW9uOiBudW1iZXI7XG4gICAgaXNSZXNpemluZzogYm9vbGVhbjtcbiAgICByYXRpbzogbnVtYmVyO1xuICAgIHN0YXJ0SGVpZ2h0OiBudW1iZXI7XG4gICAgc3RhcnRXaWR0aDogbnVtYmVyO1xuICAgIHN0YXJ0WDogbnVtYmVyO1xuICAgIHN0YXJ0WTogbnVtYmVyO1xuICB9Pih7XG4gICAgY3VycmVudEhlaWdodDogMCxcbiAgICBjdXJyZW50V2lkdGg6IDAsXG4gICAgZGlyZWN0aW9uOiAwLFxuICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgIHJhdGlvOiAwLFxuICAgIHN0YXJ0SGVpZ2h0OiAwLFxuICAgIHN0YXJ0V2lkdGg6IDAsXG4gICAgc3RhcnRYOiAwLFxuICAgIHN0YXJ0WTogMCxcbiAgfSk7XG4gIGNvbnN0IGVkaXRvclJvb3RFbGVtZW50ID0gZWRpdG9yLmdldFJvb3RFbGVtZW50KCk7XG4gIC8vIEZpbmQgbWF4IHdpZHRoLCBhY2NvdW50aW5nIGZvciBlZGl0b3IgcGFkZGluZy5cbiAgY29uc3QgbWF4V2lkdGhDb250YWluZXIgPSBtYXhXaWR0aFxuICAgID8gbWF4V2lkdGhcbiAgICA6IGVkaXRvclJvb3RFbGVtZW50ICE9PSBudWxsXG4gICAgPyBlZGl0b3JSb290RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDIwXG4gICAgOiAxMDA7XG4gIGNvbnN0IG1heEhlaWdodENvbnRhaW5lciA9XG4gICAgZWRpdG9yUm9vdEVsZW1lbnQgIT09IG51bGxcbiAgICAgID8gZWRpdG9yUm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gMjBcbiAgICAgIDogMTAwO1xuXG4gIGNvbnN0IG1pbldpZHRoID0gMTAwO1xuICBjb25zdCBtaW5IZWlnaHQgPSAxMDA7XG5cbiAgY29uc3Qgc2V0U3RhcnRDdXJzb3IgPSAoZGlyZWN0aW9uOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBldyA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLmVhc3QgfHwgZGlyZWN0aW9uID09PSBEaXJlY3Rpb24ud2VzdDtcbiAgICBjb25zdCBucyA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLm5vcnRoIHx8IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLnNvdXRoO1xuICAgIGNvbnN0IG53c2UgPVxuICAgICAgKGRpcmVjdGlvbiAmIERpcmVjdGlvbi5ub3J0aCAmJiBkaXJlY3Rpb24gJiBEaXJlY3Rpb24ud2VzdCkgfHxcbiAgICAgIChkaXJlY3Rpb24gJiBEaXJlY3Rpb24uc291dGggJiYgZGlyZWN0aW9uICYgRGlyZWN0aW9uLmVhc3QpO1xuXG4gICAgY29uc3QgY3Vyc29yRGlyID0gZXcgPyAnZXcnIDogbnMgPyAnbnMnIDogbndzZSA/ICdud3NlJyA6ICduZXN3JztcblxuICAgIGlmIChlZGl0b3JSb290RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgZWRpdG9yUm9vdEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICdjdXJzb3InLFxuICAgICAgICBgJHtjdXJzb3JEaXJ9LXJlc2l6ZWAsXG4gICAgICAgICdpbXBvcnRhbnQnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LmJvZHkgIT09IG51bGwpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICdjdXJzb3InLFxuICAgICAgICBgJHtjdXJzb3JEaXJ9LXJlc2l6ZWAsXG4gICAgICAgICdpbXBvcnRhbnQnLFxuICAgICAgKTtcbiAgICAgIHVzZXJTZWxlY3QuY3VycmVudC52YWx1ZSA9IGRvY3VtZW50LmJvZHkuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcbiAgICAgICAgJy13ZWJraXQtdXNlci1zZWxlY3QnLFxuICAgICAgKTtcbiAgICAgIHVzZXJTZWxlY3QuY3VycmVudC5wcmlvcml0eSA9IGRvY3VtZW50LmJvZHkuc3R5bGUuZ2V0UHJvcGVydHlQcmlvcml0eShcbiAgICAgICAgJy13ZWJraXQtdXNlci1zZWxlY3QnLFxuICAgICAgKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICctd2Via2l0LXVzZXItc2VsZWN0JyxcbiAgICAgICAgYG5vbmVgLFxuICAgICAgICAnaW1wb3J0YW50JyxcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldEVuZEN1cnNvciA9ICgpID0+IHtcbiAgICBpZiAoZWRpdG9yUm9vdEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgIGVkaXRvclJvb3RFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdjdXJzb3InLCAnZGVmYXVsdCcpO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYm9keSAhPT0gbnVsbCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnY3Vyc29yJywgJ2RlZmF1bHQnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICctd2Via2l0LXVzZXItc2VsZWN0JyxcbiAgICAgICAgdXNlclNlbGVjdC5jdXJyZW50LnZhbHVlLFxuICAgICAgICB1c2VyU2VsZWN0LmN1cnJlbnQucHJpb3JpdHksXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb2ludGVyRG93biA9IChcbiAgICBldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PixcbiAgICBkaXJlY3Rpb246IG51bWJlcixcbiAgKSA9PiB7XG4gICAgaWYgKCFlZGl0b3IuaXNFZGl0YWJsZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW1hZ2UgPSBpbWFnZVJlZi5jdXJyZW50O1xuICAgIGNvbnN0IGNvbnRyb2xXcmFwcGVyID0gY29udHJvbFdyYXBwZXJSZWYuY3VycmVudDtcblxuICAgIGlmIChpbWFnZSAhPT0gbnVsbCAmJiBjb250cm9sV3JhcHBlciAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gaW1hZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBwb3NpdGlvbmluZyA9IHBvc2l0aW9uaW5nUmVmLmN1cnJlbnQ7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydFdpZHRoID0gd2lkdGg7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydEhlaWdodCA9IGhlaWdodDtcbiAgICAgIHBvc2l0aW9uaW5nLnJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XG4gICAgICBwb3NpdGlvbmluZy5jdXJyZW50V2lkdGggPSB3aWR0aDtcbiAgICAgIHBvc2l0aW9uaW5nLmN1cnJlbnRIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydFggPSBldmVudC5jbGllbnRYO1xuICAgICAgcG9zaXRpb25pbmcuc3RhcnRZID0gZXZlbnQuY2xpZW50WTtcbiAgICAgIHBvc2l0aW9uaW5nLmlzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgcG9zaXRpb25pbmcuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG4gICAgICBzZXRTdGFydEN1cnNvcihkaXJlY3Rpb24pO1xuICAgICAgb25SZXNpemVTdGFydCgpO1xuXG4gICAgICBjb250cm9sV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdpbWFnZS1jb250cm9sLXdyYXBwZXItLXJlc2l6aW5nJyk7XG4gICAgICBpbWFnZS5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJNb3ZlID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICBjb25zdCBpbWFnZSA9IGltYWdlUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgcG9zaXRpb25pbmcgPSBwb3NpdGlvbmluZ1JlZi5jdXJyZW50O1xuXG4gICAgY29uc3QgaXNIb3Jpem9udGFsID1cbiAgICAgIHBvc2l0aW9uaW5nLmRpcmVjdGlvbiAmIChEaXJlY3Rpb24uZWFzdCB8IERpcmVjdGlvbi53ZXN0KTtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID1cbiAgICAgIHBvc2l0aW9uaW5nLmRpcmVjdGlvbiAmIChEaXJlY3Rpb24uc291dGggfCBEaXJlY3Rpb24ubm9ydGgpO1xuXG4gICAgaWYgKGltYWdlICE9PSBudWxsICYmIHBvc2l0aW9uaW5nLmlzUmVzaXppbmcpIHtcbiAgICAgIC8vIENvcm5lciBjdXJzb3JcbiAgICAgIGlmIChpc0hvcml6b250YWwgJiYgaXNWZXJ0aWNhbCkge1xuICAgICAgICBsZXQgZGlmZiA9IE1hdGguZmxvb3IocG9zaXRpb25pbmcuc3RhcnRYIC0gZXZlbnQuY2xpZW50WCk7XG4gICAgICAgIGRpZmYgPSBwb3NpdGlvbmluZy5kaXJlY3Rpb24gJiBEaXJlY3Rpb24uZWFzdCA/IC1kaWZmIDogZGlmZjtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IGNsYW1wKFxuICAgICAgICAgIHBvc2l0aW9uaW5nLnN0YXJ0V2lkdGggKyBkaWZmLFxuICAgICAgICAgIG1pbldpZHRoLFxuICAgICAgICAgIG1heFdpZHRoQ29udGFpbmVyLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHdpZHRoIC8gcG9zaXRpb25pbmcucmF0aW87XG4gICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICBpbWFnZS5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICBwb3NpdGlvbmluZy5jdXJyZW50SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBwb3NpdGlvbmluZy5jdXJyZW50V2lkdGggPSB3aWR0aDtcbiAgICAgIH0gZWxzZSBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICBsZXQgZGlmZiA9IE1hdGguZmxvb3IocG9zaXRpb25pbmcuc3RhcnRZIC0gZXZlbnQuY2xpZW50WSk7XG4gICAgICAgIGRpZmYgPSBwb3NpdGlvbmluZy5kaXJlY3Rpb24gJiBEaXJlY3Rpb24uc291dGggPyAtZGlmZiA6IGRpZmY7XG5cbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gY2xhbXAoXG4gICAgICAgICAgcG9zaXRpb25pbmcuc3RhcnRIZWlnaHQgKyBkaWZmLFxuICAgICAgICAgIG1pbkhlaWdodCxcbiAgICAgICAgICBtYXhIZWlnaHRDb250YWluZXIsXG4gICAgICAgICk7XG5cbiAgICAgICAgaW1hZ2Uuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICAgICAgcG9zaXRpb25pbmcuY3VycmVudEhlaWdodCA9IGhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkaWZmID0gTWF0aC5mbG9vcihwb3NpdGlvbmluZy5zdGFydFggLSBldmVudC5jbGllbnRYKTtcbiAgICAgICAgZGlmZiA9IHBvc2l0aW9uaW5nLmRpcmVjdGlvbiAmIERpcmVjdGlvbi5lYXN0ID8gLWRpZmYgOiBkaWZmO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gY2xhbXAoXG4gICAgICAgICAgcG9zaXRpb25pbmcuc3RhcnRXaWR0aCArIGRpZmYsXG4gICAgICAgICAgbWluV2lkdGgsXG4gICAgICAgICAgbWF4V2lkdGhDb250YWluZXIsXG4gICAgICAgICk7XG5cbiAgICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgICAgIHBvc2l0aW9uaW5nLmN1cnJlbnRXaWR0aCA9IHdpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKCkgPT4ge1xuICAgIGNvbnN0IGltYWdlID0gaW1hZ2VSZWYuY3VycmVudDtcbiAgICBjb25zdCBwb3NpdGlvbmluZyA9IHBvc2l0aW9uaW5nUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY29udHJvbFdyYXBwZXIgPSBjb250cm9sV3JhcHBlclJlZi5jdXJyZW50O1xuICAgIGlmIChpbWFnZSAhPT0gbnVsbCAmJiBjb250cm9sV3JhcHBlciAhPT0gbnVsbCAmJiBwb3NpdGlvbmluZy5pc1Jlc2l6aW5nKSB7XG4gICAgICBjb25zdCB3aWR0aCA9IHBvc2l0aW9uaW5nLmN1cnJlbnRXaWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHBvc2l0aW9uaW5nLmN1cnJlbnRIZWlnaHQ7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydFdpZHRoID0gMDtcbiAgICAgIHBvc2l0aW9uaW5nLnN0YXJ0SGVpZ2h0ID0gMDtcbiAgICAgIHBvc2l0aW9uaW5nLnJhdGlvID0gMDtcbiAgICAgIHBvc2l0aW9uaW5nLnN0YXJ0WCA9IDA7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydFkgPSAwO1xuICAgICAgcG9zaXRpb25pbmcuY3VycmVudFdpZHRoID0gMDtcbiAgICAgIHBvc2l0aW9uaW5nLmN1cnJlbnRIZWlnaHQgPSAwO1xuICAgICAgcG9zaXRpb25pbmcuaXNSZXNpemluZyA9IGZhbHNlO1xuXG4gICAgICBjb250cm9sV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdpbWFnZS1jb250cm9sLXdyYXBwZXItLXJlc2l6aW5nJyk7XG5cbiAgICAgIHNldEVuZEN1cnNvcigpO1xuICAgICAgb25SZXNpemVFbmQod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoXG4gICAgPGRpdiByZWY9e2NvbnRyb2xXcmFwcGVyUmVmfT5cbiAgICAgIHshc2hvd0NhcHRpb24gJiYgY2FwdGlvbnNFbmFibGVkICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImltYWdlLWNhcHRpb24tYnV0dG9uXCJcbiAgICAgICAgICByZWY9e2J1dHRvblJlZn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRTaG93Q2FwdGlvbighc2hvd0NhcHRpb24pO1xuICAgICAgICAgIH19PlxuICAgICAgICAgIEFkZCBDYXB0aW9uXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiaW1hZ2UtcmVzaXplciBpbWFnZS1yZXNpemVyLW5cIlxuICAgICAgICBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgRGlyZWN0aW9uLm5vcnRoKTtcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImltYWdlLXJlc2l6ZXIgaW1hZ2UtcmVzaXplci1uZVwiXG4gICAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50LCBEaXJlY3Rpb24ubm9ydGggfCBEaXJlY3Rpb24uZWFzdCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1yZXNpemVyIGltYWdlLXJlc2l6ZXItZVwiXG4gICAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50LCBEaXJlY3Rpb24uZWFzdCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1yZXNpemVyIGltYWdlLXJlc2l6ZXItc2VcIlxuICAgICAgICBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgRGlyZWN0aW9uLnNvdXRoIHwgRGlyZWN0aW9uLmVhc3QpO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiaW1hZ2UtcmVzaXplciBpbWFnZS1yZXNpemVyLXNcIlxuICAgICAgICBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgRGlyZWN0aW9uLnNvdXRoKTtcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImltYWdlLXJlc2l6ZXIgaW1hZ2UtcmVzaXplci1zd1wiXG4gICAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50LCBEaXJlY3Rpb24uc291dGggfCBEaXJlY3Rpb24ud2VzdCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1yZXNpemVyIGltYWdlLXJlc2l6ZXItd1wiXG4gICAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50LCBEaXJlY3Rpb24ud2VzdCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1yZXNpemVyIGltYWdlLXJlc2l6ZXItbndcIlxuICAgICAgICBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgRGlyZWN0aW9uLm5vcnRoIHwgRGlyZWN0aW9uLndlc3QpO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsImNsYW1wIiwidmFsdWUiLCJtaW4iLCJtYXgiLCJNYXRoIiwiRGlyZWN0aW9uIiwiZWFzdCIsIm5vcnRoIiwic291dGgiLCJ3ZXN0IiwiSW1hZ2VSZXNpemVyIiwib25SZXNpemVTdGFydCIsIm9uUmVzaXplRW5kIiwiYnV0dG9uUmVmIiwiaW1hZ2VSZWYiLCJtYXhXaWR0aCIsImVkaXRvciIsInNob3dDYXB0aW9uIiwic2V0U2hvd0NhcHRpb24iLCJjYXB0aW9uc0VuYWJsZWQiLCJjb250cm9sV3JhcHBlclJlZiIsInVzZXJTZWxlY3QiLCJwcmlvcml0eSIsInBvc2l0aW9uaW5nUmVmIiwiY3VycmVudEhlaWdodCIsImN1cnJlbnRXaWR0aCIsImRpcmVjdGlvbiIsImlzUmVzaXppbmciLCJyYXRpbyIsInN0YXJ0SGVpZ2h0Iiwic3RhcnRXaWR0aCIsInN0YXJ0WCIsInN0YXJ0WSIsImVkaXRvclJvb3RFbGVtZW50IiwiZ2V0Um9vdEVsZW1lbnQiLCJtYXhXaWR0aENvbnRhaW5lciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwibWF4SGVpZ2h0Q29udGFpbmVyIiwiaGVpZ2h0IiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJzZXRTdGFydEN1cnNvciIsImV3IiwibnMiLCJud3NlIiwiY3Vyc29yRGlyIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImRvY3VtZW50IiwiYm9keSIsImN1cnJlbnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0UHJvcGVydHlQcmlvcml0eSIsInNldEVuZEN1cnNvciIsImhhbmRsZVBvaW50ZXJEb3duIiwiZXZlbnQiLCJpc0VkaXRhYmxlIiwiaW1hZ2UiLCJjb250cm9sV3JhcHBlciIsInBvc2l0aW9uaW5nIiwiY2xpZW50WCIsImNsaWVudFkiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJoYW5kbGVQb2ludGVyVXAiLCJpc0hvcml6b250YWwiLCJpc1ZlcnRpY2FsIiwiZGlmZiIsImZsb29yIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/LexicalEditor/ui/ImageResizer.tsx\n"));

/***/ }),

/***/ "./node_modules/y-websocket/src/y-websocket.js":
/*!*****************************************************!*\
  !*** ./node_modules/y-websocket/src/y-websocket.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WebsocketProvider\": function() { return /* binding */ WebsocketProvider; }\n/* harmony export */ });\n/* harmony import */ var lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lib0/broadcastchannel */ \"./node_modules/lib0/broadcastchannel.js\");\n/* harmony import */ var lib0_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib0/time */ \"./node_modules/lib0/time.js\");\n/* harmony import */ var lib0_encoding__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib0/encoding */ \"./node_modules/lib0/encoding.js\");\n/* harmony import */ var lib0_decoding__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib0/decoding */ \"./node_modules/lib0/decoding.js\");\n/* harmony import */ var y_protocols_sync__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! y-protocols/sync */ \"./node_modules/y-protocols/sync.js\");\n/* harmony import */ var y_protocols_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! y-protocols/auth */ \"./node_modules/y-protocols/auth.js\");\n/* harmony import */ var y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! y-protocols/awareness */ \"./node_modules/y-protocols/awareness.js\");\n/* harmony import */ var lib0_observable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lib0/observable */ \"./node_modules/lib0/observable.js\");\n/* harmony import */ var lib0_math__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib0/math */ \"./node_modules/lib0/math.js\");\n/* harmony import */ var lib0_url__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lib0/url */ \"./node_modules/lib0/url.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n/*\nUnlike stated in the LICENSE file, it is not necessary to include the copyright notice and permission notice when you copy code from this file.\n*/\n\n/**\n * @module provider/websocket\n */\n\n/* eslint-env browser */\n\n // eslint-disable-line\n\n\n\n\n\n\n\n\n\n\n\nconst messageSync = 0\nconst messageQueryAwareness = 3\nconst messageAwareness = 1\nconst messageAuth = 2\n\n/**\n *                       encoder,          decoder,          provider,          emitSynced, messageType\n * @type {Array<function(encoding.Encoder, decoding.Decoder, WebsocketProvider, boolean,    number):void>}\n */\nconst messageHandlers = []\n\nmessageHandlers[messageSync] = (encoder, decoder, provider, emitSynced, messageType) => {\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoder, messageSync)\n  const syncMessageType = y_protocols_sync__WEBPACK_IMPORTED_MODULE_0__.readSyncMessage(decoder, encoder, provider.doc, provider)\n  if (emitSynced && syncMessageType === y_protocols_sync__WEBPACK_IMPORTED_MODULE_0__.messageYjsSyncStep2 && !provider.synced) {\n    provider.synced = true\n  }\n}\n\nmessageHandlers[messageQueryAwareness] = (encoder, decoder, provider, emitSynced, messageType) => {\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoder, messageAwareness)\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint8Array(encoder, y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.encodeAwarenessUpdate(provider.awareness, Array.from(provider.awareness.getStates().keys())))\n}\n\nmessageHandlers[messageAwareness] = (encoder, decoder, provider, emitSynced, messageType) => {\n  y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.applyAwarenessUpdate(provider.awareness, lib0_decoding__WEBPACK_IMPORTED_MODULE_4__.readVarUint8Array(decoder), provider)\n}\n\nmessageHandlers[messageAuth] = (encoder, decoder, provider, emitSynced, messageType) => {\n  y_protocols_auth__WEBPACK_IMPORTED_MODULE_1__.readAuthMessage(decoder, provider.doc, permissionDeniedHandler)\n}\n\n// @todo - this should depend on awareness.outdatedTime\nconst messageReconnectTimeout = 30000\n\n/**\n * @param {WebsocketProvider} provider\n * @param {string} reason\n */\nconst permissionDeniedHandler = (provider, reason) => console.warn(`Permission denied to access ${provider.url}.\\n${reason}`)\n\n/**\n * @param {WebsocketProvider} provider\n * @param {Uint8Array} buf\n * @param {boolean} emitSynced\n * @return {encoding.Encoder}\n */\nconst readMessage = (provider, buf, emitSynced) => {\n  const decoder = lib0_decoding__WEBPACK_IMPORTED_MODULE_4__.createDecoder(buf)\n  const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n  const messageType = lib0_decoding__WEBPACK_IMPORTED_MODULE_4__.readVarUint(decoder)\n  const messageHandler = provider.messageHandlers[messageType]\n  if (/** @type {any} */ (messageHandler)) {\n    messageHandler(encoder, decoder, provider, emitSynced, messageType)\n  } else {\n    console.error('Unable to compute message')\n  }\n  return encoder\n}\n\n/**\n * @param {WebsocketProvider} provider\n */\nconst setupWS = provider => {\n  if (provider.shouldConnect && provider.ws === null) {\n    const websocket = new provider._WS(provider.url)\n    websocket.binaryType = 'arraybuffer'\n    provider.ws = websocket\n    provider.wsconnecting = true\n    provider.wsconnected = false\n    provider.synced = false\n\n    websocket.onmessage = event => {\n      provider.wsLastMessageReceived = lib0_time__WEBPACK_IMPORTED_MODULE_5__.getUnixTime()\n      const encoder = readMessage(provider, new Uint8Array(event.data), true)\n      if (lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.length(encoder) > 1) {\n        websocket.send(lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoder))\n      }\n    }\n    websocket.onerror = event => {\n      provider.emit('connection-error', [event, provider])\n    }\n    websocket.onclose = event => {\n      provider.emit('connection-close', [event, provider])\n      provider.ws = null\n      provider.wsconnecting = false\n      if (provider.wsconnected) {\n        provider.wsconnected = false\n        provider.synced = false\n        // update awareness (all users except local left)\n        y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.removeAwarenessStates(provider.awareness, Array.from(provider.awareness.getStates().keys()).filter(client => client !== provider.doc.clientID), provider)\n        provider.emit('status', [{\n          status: 'disconnected'\n        }])\n      } else {\n        provider.wsUnsuccessfulReconnects++\n      }\n      // Start with no reconnect timeout and increase timeout by\n      // using exponential backoff starting with 100ms\n      setTimeout(setupWS, lib0_math__WEBPACK_IMPORTED_MODULE_6__.min(lib0_math__WEBPACK_IMPORTED_MODULE_6__.pow(2, provider.wsUnsuccessfulReconnects) * 100, provider.maxBackoffTime), provider)\n    }\n    websocket.onopen = () => {\n      provider.wsLastMessageReceived = lib0_time__WEBPACK_IMPORTED_MODULE_5__.getUnixTime()\n      provider.wsconnecting = false\n      provider.wsconnected = true\n      provider.wsUnsuccessfulReconnects = 0\n      provider.emit('status', [{\n        status: 'connected'\n      }])\n      // always send sync step 1 when connected\n      const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n      lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoder, messageSync)\n      y_protocols_sync__WEBPACK_IMPORTED_MODULE_0__.writeSyncStep1(encoder, provider.doc)\n      websocket.send(lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoder))\n      // broadcast local awareness state\n      if (provider.awareness.getLocalState() !== null) {\n        const encoderAwarenessState = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoderAwarenessState, messageAwareness)\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint8Array(encoderAwarenessState, y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.encodeAwarenessUpdate(provider.awareness, [provider.doc.clientID]))\n        websocket.send(lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoderAwarenessState))\n      }\n    }\n\n    provider.emit('status', [{\n      status: 'connecting'\n    }])\n  }\n}\n\n/**\n * @param {WebsocketProvider} provider\n * @param {ArrayBuffer} buf\n */\nconst broadcastMessage = (provider, buf) => {\n  if (provider.wsconnected) {\n    /** @type {WebSocket} */ (provider.ws).send(buf)\n  }\n  if (provider.bcconnected) {\n    lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__.publish(provider.bcChannel, buf, provider)\n  }\n}\n\n/**\n * Websocket Provider for Yjs. Creates a websocket connection to sync the shared document.\n * The document name is attached to the provided url. I.e. the following example\n * creates a websocket connection to http://localhost:1234/my-document-name\n *\n * @example\n *   import * as Y from 'yjs'\n *   import { WebsocketProvider } from 'y-websocket'\n *   const doc = new Y.Doc()\n *   const provider = new WebsocketProvider('http://localhost:1234', 'my-document-name', doc)\n *\n * @extends {Observable<string>}\n */\nclass WebsocketProvider extends lib0_observable__WEBPACK_IMPORTED_MODULE_8__.Observable {\n  /**\n   * @param {string} serverUrl\n   * @param {string} roomname\n   * @param {Y.Doc} doc\n   * @param {object} [opts]\n   * @param {boolean} [opts.connect]\n   * @param {awarenessProtocol.Awareness} [opts.awareness]\n   * @param {Object<string,string>} [opts.params]\n   * @param {typeof WebSocket} [opts.WebSocketPolyfill] Optionall provide a WebSocket polyfill\n   * @param {number} [opts.resyncInterval] Request server state every `resyncInterval` milliseconds\n   * @param {number} [opts.maxBackoffTime] Maximum amount of time to wait before trying to reconnect (we try to reconnect using exponential backoff)\n   * @param {boolean} [opts.disableBc] Disable cross-tab BroadcastChannel communication\n   */\n  constructor (serverUrl, roomname, doc, {\n    connect = true,\n    awareness = new y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.Awareness(doc),\n    params = {},\n    WebSocketPolyfill = WebSocket,\n    resyncInterval = -1,\n    maxBackoffTime = 2500,\n    disableBc = false\n  } = {}) {\n    super()\n    // ensure that url is always ends with /\n    while (serverUrl[serverUrl.length - 1] === '/') {\n      serverUrl = serverUrl.slice(0, serverUrl.length - 1)\n    }\n    const encodedParams = lib0_url__WEBPACK_IMPORTED_MODULE_9__.encodeQueryParams(params)\n    this.maxBackoffTime = maxBackoffTime\n    this.bcChannel = serverUrl + '/' + roomname\n    this.url = serverUrl + '/' + roomname + (encodedParams.length === 0 ? '' : '?' + encodedParams)\n    this.roomname = roomname\n    this.doc = doc\n    this._WS = WebSocketPolyfill\n    this.awareness = awareness\n    this.wsconnected = false\n    this.wsconnecting = false\n    this.bcconnected = false\n    this.disableBc = disableBc\n    this.wsUnsuccessfulReconnects = 0\n    this.messageHandlers = messageHandlers.slice()\n    /**\n     * @type {boolean}\n     */\n    this._synced = false\n    /**\n     * @type {WebSocket?}\n     */\n    this.ws = null\n    this.wsLastMessageReceived = 0\n    /**\n     * Whether to connect to other peers or not\n     * @type {boolean}\n     */\n    this.shouldConnect = connect\n\n    /**\n     * @type {number}\n     */\n    this._resyncInterval = 0\n    if (resyncInterval > 0) {\n      this._resyncInterval = /** @type {any} */ (setInterval(() => {\n        if (this.ws) {\n          // resend sync step 1\n          const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n          lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoder, messageSync)\n          y_protocols_sync__WEBPACK_IMPORTED_MODULE_0__.writeSyncStep1(encoder, doc)\n          this.ws.send(lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoder))\n        }\n      }, resyncInterval))\n    }\n\n    /**\n     * @param {ArrayBuffer} data\n     * @param {any} origin\n     */\n    this._bcSubscriber = (data, origin) => {\n      if (origin !== this) {\n        const encoder = readMessage(this, new Uint8Array(data), false)\n        if (lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.length(encoder) > 1) {\n          lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__.publish(this.bcChannel, lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoder), this)\n        }\n      }\n    }\n    /**\n     * Listens to Yjs updates and sends them to remote peers (ws and broadcastchannel)\n     * @param {Uint8Array} update\n     * @param {any} origin\n     */\n    this._updateHandler = (update, origin) => {\n      if (origin !== this) {\n        const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n        lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoder, messageSync)\n        y_protocols_sync__WEBPACK_IMPORTED_MODULE_0__.writeUpdate(encoder, update)\n        broadcastMessage(this, lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoder))\n      }\n    }\n    this.doc.on('update', this._updateHandler)\n    /**\n     * @param {any} changed\n     * @param {any} origin\n     */\n    this._awarenessUpdateHandler = ({ added, updated, removed }, origin) => {\n      const changedClients = added.concat(updated).concat(removed)\n      const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n      lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoder, messageAwareness)\n      lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint8Array(encoder, y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.encodeAwarenessUpdate(awareness, changedClients))\n      broadcastMessage(this, lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoder))\n    }\n    this._beforeUnloadHandler = () => {\n      y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.removeAwarenessStates(this.awareness, [doc.clientID], 'window unload')\n    }\n    if (typeof window !== 'undefined') {\n      window.addEventListener('beforeunload', this._beforeUnloadHandler)\n    } else if (typeof process !== 'undefined') {\n      process.on('exit', this._beforeUnloadHandler)\n    }\n    awareness.on('update', this._awarenessUpdateHandler)\n    this._checkInterval = /** @type {any} */ (setInterval(() => {\n      if (this.wsconnected && messageReconnectTimeout < lib0_time__WEBPACK_IMPORTED_MODULE_5__.getUnixTime() - this.wsLastMessageReceived) {\n        // no message received in a long time - not even your own awareness\n        // updates (which are updated every 15 seconds)\n        /** @type {WebSocket} */ (this.ws).close()\n      }\n    }, messageReconnectTimeout / 10))\n    if (connect) {\n      this.connect()\n    }\n  }\n\n  /**\n   * @type {boolean}\n   */\n  get synced () {\n    return this._synced\n  }\n\n  set synced (state) {\n    if (this._synced !== state) {\n      this._synced = state\n      this.emit('synced', [state])\n      this.emit('sync', [state])\n    }\n  }\n\n  destroy () {\n    if (this._resyncInterval !== 0) {\n      clearInterval(this._resyncInterval)\n    }\n    clearInterval(this._checkInterval)\n    this.disconnect()\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('beforeunload', this._beforeUnloadHandler)\n    } else if (typeof process !== 'undefined') {\n      process.off('exit', this._beforeUnloadHandler)\n    }\n    this.awareness.off('update', this._awarenessUpdateHandler)\n    this.doc.off('update', this._updateHandler)\n    super.destroy()\n  }\n\n  connectBc () {\n    if (this.disableBc) {\n      return\n    }\n    if (!this.bcconnected) {\n      lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__.subscribe(this.bcChannel, this._bcSubscriber)\n      this.bcconnected = true\n    }\n    // send sync step1 to bc\n    // write sync step 1\n    const encoderSync = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoderSync, messageSync)\n    y_protocols_sync__WEBPACK_IMPORTED_MODULE_0__.writeSyncStep1(encoderSync, this.doc)\n    lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__.publish(this.bcChannel, lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoderSync), this)\n    // broadcast local state\n    const encoderState = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoderState, messageSync)\n    y_protocols_sync__WEBPACK_IMPORTED_MODULE_0__.writeSyncStep2(encoderState, this.doc)\n    lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__.publish(this.bcChannel, lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoderState), this)\n    // write queryAwareness\n    const encoderAwarenessQuery = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoderAwarenessQuery, messageQueryAwareness)\n    lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__.publish(this.bcChannel, lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoderAwarenessQuery), this)\n    // broadcast local awareness state\n    const encoderAwarenessState = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoderAwarenessState, messageAwareness)\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint8Array(encoderAwarenessState, y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.encodeAwarenessUpdate(this.awareness, [this.doc.clientID]))\n    lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__.publish(this.bcChannel, lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoderAwarenessState), this)\n  }\n\n  disconnectBc () {\n    // broadcast message with local awareness state set to null (indicating disconnect)\n    const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.createEncoder()\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint(encoder, messageAwareness)\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.writeVarUint8Array(encoder, y_protocols_awareness__WEBPACK_IMPORTED_MODULE_2__.encodeAwarenessUpdate(this.awareness, [this.doc.clientID], new Map()))\n    broadcastMessage(this, lib0_encoding__WEBPACK_IMPORTED_MODULE_3__.toUint8Array(encoder))\n    if (this.bcconnected) {\n      lib0_broadcastchannel__WEBPACK_IMPORTED_MODULE_7__.unsubscribe(this.bcChannel, this._bcSubscriber)\n      this.bcconnected = false\n    }\n  }\n\n  disconnect () {\n    this.shouldConnect = false\n    this.disconnectBc()\n    if (this.ws !== null) {\n      this.ws.close()\n    }\n  }\n\n  connect () {\n    this.shouldConnect = true\n    if (!this.wsconnected && this.ws === null) {\n      setupWS(this)\n      this.connectBc()\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMveS13ZWJzb2NrZXQvc3JjL3ktd2Vic29ja2V0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRXdCO0FBQ21CO0FBQ1Y7QUFDUTtBQUNBO0FBQ087QUFDQTtBQUNVO0FBQ2Q7QUFDWDtBQUNGOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSxFQUFFLHVEQUFxQjtBQUN2QiwwQkFBMEIsNkRBQTRCO0FBQ3RELHdDQUF3QyxpRUFBZ0M7QUFDeEU7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSx1REFBcUI7QUFDdkIsRUFBRSw2REFBMkIsVUFBVSx3RUFBdUM7QUFDOUU7O0FBRUE7QUFDQSxFQUFFLHVFQUFzQyxxQkFBcUIsNERBQTBCO0FBQ3ZGOztBQUVBO0FBQ0EsRUFBRSw2REFBNEI7QUFDOUI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGtHQUFrRyxhQUFhLEtBQUssT0FBTzs7QUFFM0g7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLFlBQVk7QUFDdkIsV0FBVyxTQUFTO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0Esa0JBQWtCLHdEQUFzQjtBQUN4QyxrQkFBa0Isd0RBQXNCO0FBQ3hDLHNCQUFzQixzREFBb0I7QUFDMUM7QUFDQSxpQkFBaUIsS0FBSztBQUN0QjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QyxrREFBZ0I7QUFDdkQ7QUFDQSxVQUFVLGlEQUFlO0FBQ3pCLHVCQUF1Qix1REFBcUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Oi8vX05fRS8uL25vZGVfbW9kdWxlcy95LXdlYnNvY2tldC9zcmMveS13ZWJzb2NrZXQuanM/MTgyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuVW5saWtlIHN0YXRlZCBpbiB0aGUgTElDRU5TRSBmaWxlLCBpdCBpcyBub3QgbmVjZXNzYXJ5IHRvIGluY2x1ZGUgdGhlIGNvcHlyaWdodCBub3RpY2UgYW5kIHBlcm1pc3Npb24gbm90aWNlIHdoZW4geW91IGNvcHkgY29kZSBmcm9tIHRoaXMgZmlsZS5cbiovXG5cbi8qKlxuICogQG1vZHVsZSBwcm92aWRlci93ZWJzb2NrZXRcbiAqL1xuXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbmltcG9ydCAqIGFzIGJjIGZyb20gJ2xpYjAvYnJvYWRjYXN0Y2hhbm5lbCdcbmltcG9ydCAqIGFzIHRpbWUgZnJvbSAnbGliMC90aW1lJ1xuaW1wb3J0ICogYXMgZW5jb2RpbmcgZnJvbSAnbGliMC9lbmNvZGluZydcbmltcG9ydCAqIGFzIGRlY29kaW5nIGZyb20gJ2xpYjAvZGVjb2RpbmcnXG5pbXBvcnQgKiBhcyBzeW5jUHJvdG9jb2wgZnJvbSAneS1wcm90b2NvbHMvc3luYydcbmltcG9ydCAqIGFzIGF1dGhQcm90b2NvbCBmcm9tICd5LXByb3RvY29scy9hdXRoJ1xuaW1wb3J0ICogYXMgYXdhcmVuZXNzUHJvdG9jb2wgZnJvbSAneS1wcm90b2NvbHMvYXdhcmVuZXNzJ1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ2xpYjAvb2JzZXJ2YWJsZSdcbmltcG9ydCAqIGFzIG1hdGggZnJvbSAnbGliMC9tYXRoJ1xuaW1wb3J0ICogYXMgdXJsIGZyb20gJ2xpYjAvdXJsJ1xuXG5jb25zdCBtZXNzYWdlU3luYyA9IDBcbmNvbnN0IG1lc3NhZ2VRdWVyeUF3YXJlbmVzcyA9IDNcbmNvbnN0IG1lc3NhZ2VBd2FyZW5lc3MgPSAxXG5jb25zdCBtZXNzYWdlQXV0aCA9IDJcblxuLyoqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlciwgICAgICAgICAgZGVjb2RlciwgICAgICAgICAgcHJvdmlkZXIsICAgICAgICAgIGVtaXRTeW5jZWQsIG1lc3NhZ2VUeXBlXG4gKiBAdHlwZSB7QXJyYXk8ZnVuY3Rpb24oZW5jb2RpbmcuRW5jb2RlciwgZGVjb2RpbmcuRGVjb2RlciwgV2Vic29ja2V0UHJvdmlkZXIsIGJvb2xlYW4sICAgIG51bWJlcik6dm9pZD59XG4gKi9cbmNvbnN0IG1lc3NhZ2VIYW5kbGVycyA9IFtdXG5cbm1lc3NhZ2VIYW5kbGVyc1ttZXNzYWdlU3luY10gPSAoZW5jb2RlciwgZGVjb2RlciwgcHJvdmlkZXIsIGVtaXRTeW5jZWQsIG1lc3NhZ2VUeXBlKSA9PiB7XG4gIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBtZXNzYWdlU3luYylcbiAgY29uc3Qgc3luY01lc3NhZ2VUeXBlID0gc3luY1Byb3RvY29sLnJlYWRTeW5jTWVzc2FnZShkZWNvZGVyLCBlbmNvZGVyLCBwcm92aWRlci5kb2MsIHByb3ZpZGVyKVxuICBpZiAoZW1pdFN5bmNlZCAmJiBzeW5jTWVzc2FnZVR5cGUgPT09IHN5bmNQcm90b2NvbC5tZXNzYWdlWWpzU3luY1N0ZXAyICYmICFwcm92aWRlci5zeW5jZWQpIHtcbiAgICBwcm92aWRlci5zeW5jZWQgPSB0cnVlXG4gIH1cbn1cblxubWVzc2FnZUhhbmRsZXJzW21lc3NhZ2VRdWVyeUF3YXJlbmVzc10gPSAoZW5jb2RlciwgZGVjb2RlciwgcHJvdmlkZXIsIGVtaXRTeW5jZWQsIG1lc3NhZ2VUeXBlKSA9PiB7XG4gIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBtZXNzYWdlQXdhcmVuZXNzKVxuICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgYXdhcmVuZXNzUHJvdG9jb2wuZW5jb2RlQXdhcmVuZXNzVXBkYXRlKHByb3ZpZGVyLmF3YXJlbmVzcywgQXJyYXkuZnJvbShwcm92aWRlci5hd2FyZW5lc3MuZ2V0U3RhdGVzKCkua2V5cygpKSkpXG59XG5cbm1lc3NhZ2VIYW5kbGVyc1ttZXNzYWdlQXdhcmVuZXNzXSA9IChlbmNvZGVyLCBkZWNvZGVyLCBwcm92aWRlciwgZW1pdFN5bmNlZCwgbWVzc2FnZVR5cGUpID0+IHtcbiAgYXdhcmVuZXNzUHJvdG9jb2wuYXBwbHlBd2FyZW5lc3NVcGRhdGUocHJvdmlkZXIuYXdhcmVuZXNzLCBkZWNvZGluZy5yZWFkVmFyVWludDhBcnJheShkZWNvZGVyKSwgcHJvdmlkZXIpXG59XG5cbm1lc3NhZ2VIYW5kbGVyc1ttZXNzYWdlQXV0aF0gPSAoZW5jb2RlciwgZGVjb2RlciwgcHJvdmlkZXIsIGVtaXRTeW5jZWQsIG1lc3NhZ2VUeXBlKSA9PiB7XG4gIGF1dGhQcm90b2NvbC5yZWFkQXV0aE1lc3NhZ2UoZGVjb2RlciwgcHJvdmlkZXIuZG9jLCBwZXJtaXNzaW9uRGVuaWVkSGFuZGxlcilcbn1cblxuLy8gQHRvZG8gLSB0aGlzIHNob3VsZCBkZXBlbmQgb24gYXdhcmVuZXNzLm91dGRhdGVkVGltZVxuY29uc3QgbWVzc2FnZVJlY29ubmVjdFRpbWVvdXQgPSAzMDAwMFxuXG4vKipcbiAqIEBwYXJhbSB7V2Vic29ja2V0UHJvdmlkZXJ9IHByb3ZpZGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gKi9cbmNvbnN0IHBlcm1pc3Npb25EZW5pZWRIYW5kbGVyID0gKHByb3ZpZGVyLCByZWFzb24pID0+IGNvbnNvbGUud2FybihgUGVybWlzc2lvbiBkZW5pZWQgdG8gYWNjZXNzICR7cHJvdmlkZXIudXJsfS5cXG4ke3JlYXNvbn1gKVxuXG4vKipcbiAqIEBwYXJhbSB7V2Vic29ja2V0UHJvdmlkZXJ9IHByb3ZpZGVyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZlxuICogQHBhcmFtIHtib29sZWFufSBlbWl0U3luY2VkXG4gKiBAcmV0dXJuIHtlbmNvZGluZy5FbmNvZGVyfVxuICovXG5jb25zdCByZWFkTWVzc2FnZSA9IChwcm92aWRlciwgYnVmLCBlbWl0U3luY2VkKSA9PiB7XG4gIGNvbnN0IGRlY29kZXIgPSBkZWNvZGluZy5jcmVhdGVEZWNvZGVyKGJ1ZilcbiAgY29uc3QgZW5jb2RlciA9IGVuY29kaW5nLmNyZWF0ZUVuY29kZXIoKVxuICBjb25zdCBtZXNzYWdlVHlwZSA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpXG4gIGNvbnN0IG1lc3NhZ2VIYW5kbGVyID0gcHJvdmlkZXIubWVzc2FnZUhhbmRsZXJzW21lc3NhZ2VUeXBlXVxuICBpZiAoLyoqIEB0eXBlIHthbnl9ICovIChtZXNzYWdlSGFuZGxlcikpIHtcbiAgICBtZXNzYWdlSGFuZGxlcihlbmNvZGVyLCBkZWNvZGVyLCBwcm92aWRlciwgZW1pdFN5bmNlZCwgbWVzc2FnZVR5cGUpXG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGNvbXB1dGUgbWVzc2FnZScpXG4gIH1cbiAgcmV0dXJuIGVuY29kZXJcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYnNvY2tldFByb3ZpZGVyfSBwcm92aWRlclxuICovXG5jb25zdCBzZXR1cFdTID0gcHJvdmlkZXIgPT4ge1xuICBpZiAocHJvdmlkZXIuc2hvdWxkQ29ubmVjdCAmJiBwcm92aWRlci53cyA9PT0gbnVsbCkge1xuICAgIGNvbnN0IHdlYnNvY2tldCA9IG5ldyBwcm92aWRlci5fV1MocHJvdmlkZXIudXJsKVxuICAgIHdlYnNvY2tldC5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJ1xuICAgIHByb3ZpZGVyLndzID0gd2Vic29ja2V0XG4gICAgcHJvdmlkZXIud3Njb25uZWN0aW5nID0gdHJ1ZVxuICAgIHByb3ZpZGVyLndzY29ubmVjdGVkID0gZmFsc2VcbiAgICBwcm92aWRlci5zeW5jZWQgPSBmYWxzZVxuXG4gICAgd2Vic29ja2V0Lm9ubWVzc2FnZSA9IGV2ZW50ID0+IHtcbiAgICAgIHByb3ZpZGVyLndzTGFzdE1lc3NhZ2VSZWNlaXZlZCA9IHRpbWUuZ2V0VW5peFRpbWUoKVxuICAgICAgY29uc3QgZW5jb2RlciA9IHJlYWRNZXNzYWdlKHByb3ZpZGVyLCBuZXcgVWludDhBcnJheShldmVudC5kYXRhKSwgdHJ1ZSlcbiAgICAgIGlmIChlbmNvZGluZy5sZW5ndGgoZW5jb2RlcikgPiAxKSB7XG4gICAgICAgIHdlYnNvY2tldC5zZW5kKGVuY29kaW5nLnRvVWludDhBcnJheShlbmNvZGVyKSlcbiAgICAgIH1cbiAgICB9XG4gICAgd2Vic29ja2V0Lm9uZXJyb3IgPSBldmVudCA9PiB7XG4gICAgICBwcm92aWRlci5lbWl0KCdjb25uZWN0aW9uLWVycm9yJywgW2V2ZW50LCBwcm92aWRlcl0pXG4gICAgfVxuICAgIHdlYnNvY2tldC5vbmNsb3NlID0gZXZlbnQgPT4ge1xuICAgICAgcHJvdmlkZXIuZW1pdCgnY29ubmVjdGlvbi1jbG9zZScsIFtldmVudCwgcHJvdmlkZXJdKVxuICAgICAgcHJvdmlkZXIud3MgPSBudWxsXG4gICAgICBwcm92aWRlci53c2Nvbm5lY3RpbmcgPSBmYWxzZVxuICAgICAgaWYgKHByb3ZpZGVyLndzY29ubmVjdGVkKSB7XG4gICAgICAgIHByb3ZpZGVyLndzY29ubmVjdGVkID0gZmFsc2VcbiAgICAgICAgcHJvdmlkZXIuc3luY2VkID0gZmFsc2VcbiAgICAgICAgLy8gdXBkYXRlIGF3YXJlbmVzcyAoYWxsIHVzZXJzIGV4Y2VwdCBsb2NhbCBsZWZ0KVxuICAgICAgICBhd2FyZW5lc3NQcm90b2NvbC5yZW1vdmVBd2FyZW5lc3NTdGF0ZXMocHJvdmlkZXIuYXdhcmVuZXNzLCBBcnJheS5mcm9tKHByb3ZpZGVyLmF3YXJlbmVzcy5nZXRTdGF0ZXMoKS5rZXlzKCkpLmZpbHRlcihjbGllbnQgPT4gY2xpZW50ICE9PSBwcm92aWRlci5kb2MuY2xpZW50SUQpLCBwcm92aWRlcilcbiAgICAgICAgcHJvdmlkZXIuZW1pdCgnc3RhdHVzJywgW3tcbiAgICAgICAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnXG4gICAgICAgIH1dKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvdmlkZXIud3NVbnN1Y2Nlc3NmdWxSZWNvbm5lY3RzKytcbiAgICAgIH1cbiAgICAgIC8vIFN0YXJ0IHdpdGggbm8gcmVjb25uZWN0IHRpbWVvdXQgYW5kIGluY3JlYXNlIHRpbWVvdXQgYnlcbiAgICAgIC8vIHVzaW5nIGV4cG9uZW50aWFsIGJhY2tvZmYgc3RhcnRpbmcgd2l0aCAxMDBtc1xuICAgICAgc2V0VGltZW91dChzZXR1cFdTLCBtYXRoLm1pbihtYXRoLnBvdygyLCBwcm92aWRlci53c1Vuc3VjY2Vzc2Z1bFJlY29ubmVjdHMpICogMTAwLCBwcm92aWRlci5tYXhCYWNrb2ZmVGltZSksIHByb3ZpZGVyKVxuICAgIH1cbiAgICB3ZWJzb2NrZXQub25vcGVuID0gKCkgPT4ge1xuICAgICAgcHJvdmlkZXIud3NMYXN0TWVzc2FnZVJlY2VpdmVkID0gdGltZS5nZXRVbml4VGltZSgpXG4gICAgICBwcm92aWRlci53c2Nvbm5lY3RpbmcgPSBmYWxzZVxuICAgICAgcHJvdmlkZXIud3Njb25uZWN0ZWQgPSB0cnVlXG4gICAgICBwcm92aWRlci53c1Vuc3VjY2Vzc2Z1bFJlY29ubmVjdHMgPSAwXG4gICAgICBwcm92aWRlci5lbWl0KCdzdGF0dXMnLCBbe1xuICAgICAgICBzdGF0dXM6ICdjb25uZWN0ZWQnXG4gICAgICB9XSlcbiAgICAgIC8vIGFsd2F5cyBzZW5kIHN5bmMgc3RlcCAxIHdoZW4gY29ubmVjdGVkXG4gICAgICBjb25zdCBlbmNvZGVyID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpXG4gICAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgbWVzc2FnZVN5bmMpXG4gICAgICBzeW5jUHJvdG9jb2wud3JpdGVTeW5jU3RlcDEoZW5jb2RlciwgcHJvdmlkZXIuZG9jKVxuICAgICAgd2Vic29ja2V0LnNlbmQoZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpKVxuICAgICAgLy8gYnJvYWRjYXN0IGxvY2FsIGF3YXJlbmVzcyBzdGF0ZVxuICAgICAgaWYgKHByb3ZpZGVyLmF3YXJlbmVzcy5nZXRMb2NhbFN0YXRlKCkgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlckF3YXJlbmVzc1N0YXRlID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpXG4gICAgICAgIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyQXdhcmVuZXNzU3RhdGUsIG1lc3NhZ2VBd2FyZW5lc3MpXG4gICAgICAgIGVuY29kaW5nLndyaXRlVmFyVWludDhBcnJheShlbmNvZGVyQXdhcmVuZXNzU3RhdGUsIGF3YXJlbmVzc1Byb3RvY29sLmVuY29kZUF3YXJlbmVzc1VwZGF0ZShwcm92aWRlci5hd2FyZW5lc3MsIFtwcm92aWRlci5kb2MuY2xpZW50SURdKSlcbiAgICAgICAgd2Vic29ja2V0LnNlbmQoZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXJBd2FyZW5lc3NTdGF0ZSkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvdmlkZXIuZW1pdCgnc3RhdHVzJywgW3tcbiAgICAgIHN0YXR1czogJ2Nvbm5lY3RpbmcnXG4gICAgfV0pXG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1dlYnNvY2tldFByb3ZpZGVyfSBwcm92aWRlclxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYnVmXG4gKi9cbmNvbnN0IGJyb2FkY2FzdE1lc3NhZ2UgPSAocHJvdmlkZXIsIGJ1ZikgPT4ge1xuICBpZiAocHJvdmlkZXIud3Njb25uZWN0ZWQpIHtcbiAgICAvKiogQHR5cGUge1dlYlNvY2tldH0gKi8gKHByb3ZpZGVyLndzKS5zZW5kKGJ1ZilcbiAgfVxuICBpZiAocHJvdmlkZXIuYmNjb25uZWN0ZWQpIHtcbiAgICBiYy5wdWJsaXNoKHByb3ZpZGVyLmJjQ2hhbm5lbCwgYnVmLCBwcm92aWRlcilcbiAgfVxufVxuXG4vKipcbiAqIFdlYnNvY2tldCBQcm92aWRlciBmb3IgWWpzLiBDcmVhdGVzIGEgd2Vic29ja2V0IGNvbm5lY3Rpb24gdG8gc3luYyB0aGUgc2hhcmVkIGRvY3VtZW50LlxuICogVGhlIGRvY3VtZW50IG5hbWUgaXMgYXR0YWNoZWQgdG8gdGhlIHByb3ZpZGVkIHVybC4gSS5lLiB0aGUgZm9sbG93aW5nIGV4YW1wbGVcbiAqIGNyZWF0ZXMgYSB3ZWJzb2NrZXQgY29ubmVjdGlvbiB0byBodHRwOi8vbG9jYWxob3N0OjEyMzQvbXktZG9jdW1lbnQtbmFtZVxuICpcbiAqIEBleGFtcGxlXG4gKiAgIGltcG9ydCAqIGFzIFkgZnJvbSAneWpzJ1xuICogICBpbXBvcnQgeyBXZWJzb2NrZXRQcm92aWRlciB9IGZyb20gJ3ktd2Vic29ja2V0J1xuICogICBjb25zdCBkb2MgPSBuZXcgWS5Eb2MoKVxuICogICBjb25zdCBwcm92aWRlciA9IG5ldyBXZWJzb2NrZXRQcm92aWRlcignaHR0cDovL2xvY2FsaG9zdDoxMjM0JywgJ215LWRvY3VtZW50LW5hbWUnLCBkb2MpXG4gKlxuICogQGV4dGVuZHMge09ic2VydmFibGU8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGNsYXNzIFdlYnNvY2tldFByb3ZpZGVyIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmVyVXJsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb29tbmFtZVxuICAgKiBAcGFyYW0ge1kuRG9jfSBkb2NcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmNvbm5lY3RdXG4gICAqIEBwYXJhbSB7YXdhcmVuZXNzUHJvdG9jb2wuQXdhcmVuZXNzfSBbb3B0cy5hd2FyZW5lc3NdXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZyxzdHJpbmc+fSBbb3B0cy5wYXJhbXNdXG4gICAqIEBwYXJhbSB7dHlwZW9mIFdlYlNvY2tldH0gW29wdHMuV2ViU29ja2V0UG9seWZpbGxdIE9wdGlvbmFsbCBwcm92aWRlIGEgV2ViU29ja2V0IHBvbHlmaWxsXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5yZXN5bmNJbnRlcnZhbF0gUmVxdWVzdCBzZXJ2ZXIgc3RhdGUgZXZlcnkgYHJlc3luY0ludGVydmFsYCBtaWxsaXNlY29uZHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1heEJhY2tvZmZUaW1lXSBNYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRvIHdhaXQgYmVmb3JlIHRyeWluZyB0byByZWNvbm5lY3QgKHdlIHRyeSB0byByZWNvbm5lY3QgdXNpbmcgZXhwb25lbnRpYWwgYmFja29mZilcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kaXNhYmxlQmNdIERpc2FibGUgY3Jvc3MtdGFiIEJyb2FkY2FzdENoYW5uZWwgY29tbXVuaWNhdGlvblxuICAgKi9cbiAgY29uc3RydWN0b3IgKHNlcnZlclVybCwgcm9vbW5hbWUsIGRvYywge1xuICAgIGNvbm5lY3QgPSB0cnVlLFxuICAgIGF3YXJlbmVzcyA9IG5ldyBhd2FyZW5lc3NQcm90b2NvbC5Bd2FyZW5lc3MoZG9jKSxcbiAgICBwYXJhbXMgPSB7fSxcbiAgICBXZWJTb2NrZXRQb2x5ZmlsbCA9IFdlYlNvY2tldCxcbiAgICByZXN5bmNJbnRlcnZhbCA9IC0xLFxuICAgIG1heEJhY2tvZmZUaW1lID0gMjUwMCxcbiAgICBkaXNhYmxlQmMgPSBmYWxzZVxuICB9ID0ge30pIHtcbiAgICBzdXBlcigpXG4gICAgLy8gZW5zdXJlIHRoYXQgdXJsIGlzIGFsd2F5cyBlbmRzIHdpdGggL1xuICAgIHdoaWxlIChzZXJ2ZXJVcmxbc2VydmVyVXJsLmxlbmd0aCAtIDFdID09PSAnLycpIHtcbiAgICAgIHNlcnZlclVybCA9IHNlcnZlclVybC5zbGljZSgwLCBzZXJ2ZXJVcmwubGVuZ3RoIC0gMSlcbiAgICB9XG4gICAgY29uc3QgZW5jb2RlZFBhcmFtcyA9IHVybC5lbmNvZGVRdWVyeVBhcmFtcyhwYXJhbXMpXG4gICAgdGhpcy5tYXhCYWNrb2ZmVGltZSA9IG1heEJhY2tvZmZUaW1lXG4gICAgdGhpcy5iY0NoYW5uZWwgPSBzZXJ2ZXJVcmwgKyAnLycgKyByb29tbmFtZVxuICAgIHRoaXMudXJsID0gc2VydmVyVXJsICsgJy8nICsgcm9vbW5hbWUgKyAoZW5jb2RlZFBhcmFtcy5sZW5ndGggPT09IDAgPyAnJyA6ICc/JyArIGVuY29kZWRQYXJhbXMpXG4gICAgdGhpcy5yb29tbmFtZSA9IHJvb21uYW1lXG4gICAgdGhpcy5kb2MgPSBkb2NcbiAgICB0aGlzLl9XUyA9IFdlYlNvY2tldFBvbHlmaWxsXG4gICAgdGhpcy5hd2FyZW5lc3MgPSBhd2FyZW5lc3NcbiAgICB0aGlzLndzY29ubmVjdGVkID0gZmFsc2VcbiAgICB0aGlzLndzY29ubmVjdGluZyA9IGZhbHNlXG4gICAgdGhpcy5iY2Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgdGhpcy5kaXNhYmxlQmMgPSBkaXNhYmxlQmNcbiAgICB0aGlzLndzVW5zdWNjZXNzZnVsUmVjb25uZWN0cyA9IDBcbiAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycyA9IG1lc3NhZ2VIYW5kbGVycy5zbGljZSgpXG4gICAgLyoqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5fc3luY2VkID0gZmFsc2VcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViU29ja2V0P31cbiAgICAgKi9cbiAgICB0aGlzLndzID0gbnVsbFxuICAgIHRoaXMud3NMYXN0TWVzc2FnZVJlY2VpdmVkID0gMFxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gY29ubmVjdCB0byBvdGhlciBwZWVycyBvciBub3RcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnNob3VsZENvbm5lY3QgPSBjb25uZWN0XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX3Jlc3luY0ludGVydmFsID0gMFxuICAgIGlmIChyZXN5bmNJbnRlcnZhbCA+IDApIHtcbiAgICAgIHRoaXMuX3Jlc3luY0ludGVydmFsID0gLyoqIEB0eXBlIHthbnl9ICovIChzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLndzKSB7XG4gICAgICAgICAgLy8gcmVzZW5kIHN5bmMgc3RlcCAxXG4gICAgICAgICAgY29uc3QgZW5jb2RlciA9IGVuY29kaW5nLmNyZWF0ZUVuY29kZXIoKVxuICAgICAgICAgIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBtZXNzYWdlU3luYylcbiAgICAgICAgICBzeW5jUHJvdG9jb2wud3JpdGVTeW5jU3RlcDEoZW5jb2RlciwgZG9jKVxuICAgICAgICAgIHRoaXMud3Muc2VuZChlbmNvZGluZy50b1VpbnQ4QXJyYXkoZW5jb2RlcikpXG4gICAgICAgIH1cbiAgICAgIH0sIHJlc3luY0ludGVydmFsKSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBkYXRhXG4gICAgICogQHBhcmFtIHthbnl9IG9yaWdpblxuICAgICAqL1xuICAgIHRoaXMuX2JjU3Vic2NyaWJlciA9IChkYXRhLCBvcmlnaW4pID0+IHtcbiAgICAgIGlmIChvcmlnaW4gIT09IHRoaXMpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IHJlYWRNZXNzYWdlKHRoaXMsIG5ldyBVaW50OEFycmF5KGRhdGEpLCBmYWxzZSlcbiAgICAgICAgaWYgKGVuY29kaW5nLmxlbmd0aChlbmNvZGVyKSA+IDEpIHtcbiAgICAgICAgICBiYy5wdWJsaXNoKHRoaXMuYmNDaGFubmVsLCBlbmNvZGluZy50b1VpbnQ4QXJyYXkoZW5jb2RlciksIHRoaXMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdGVucyB0byBZanMgdXBkYXRlcyBhbmQgc2VuZHMgdGhlbSB0byByZW1vdGUgcGVlcnMgKHdzIGFuZCBicm9hZGNhc3RjaGFubmVsKVxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gICAgICogQHBhcmFtIHthbnl9IG9yaWdpblxuICAgICAqL1xuICAgIHRoaXMuX3VwZGF0ZUhhbmRsZXIgPSAodXBkYXRlLCBvcmlnaW4pID0+IHtcbiAgICAgIGlmIChvcmlnaW4gIT09IHRoaXMpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IGVuY29kaW5nLmNyZWF0ZUVuY29kZXIoKVxuICAgICAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgbWVzc2FnZVN5bmMpXG4gICAgICAgIHN5bmNQcm90b2NvbC53cml0ZVVwZGF0ZShlbmNvZGVyLCB1cGRhdGUpXG4gICAgICAgIGJyb2FkY2FzdE1lc3NhZ2UodGhpcywgZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpKVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmRvYy5vbigndXBkYXRlJywgdGhpcy5fdXBkYXRlSGFuZGxlcilcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2FueX0gY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7YW55fSBvcmlnaW5cbiAgICAgKi9cbiAgICB0aGlzLl9hd2FyZW5lc3NVcGRhdGVIYW5kbGVyID0gKHsgYWRkZWQsIHVwZGF0ZWQsIHJlbW92ZWQgfSwgb3JpZ2luKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VkQ2xpZW50cyA9IGFkZGVkLmNvbmNhdCh1cGRhdGVkKS5jb25jYXQocmVtb3ZlZClcbiAgICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGluZy5jcmVhdGVFbmNvZGVyKClcbiAgICAgIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBtZXNzYWdlQXdhcmVuZXNzKVxuICAgICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50OEFycmF5KGVuY29kZXIsIGF3YXJlbmVzc1Byb3RvY29sLmVuY29kZUF3YXJlbmVzc1VwZGF0ZShhd2FyZW5lc3MsIGNoYW5nZWRDbGllbnRzKSlcbiAgICAgIGJyb2FkY2FzdE1lc3NhZ2UodGhpcywgZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpKVxuICAgIH1cbiAgICB0aGlzLl9iZWZvcmVVbmxvYWRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgYXdhcmVuZXNzUHJvdG9jb2wucmVtb3ZlQXdhcmVuZXNzU3RhdGVzKHRoaXMuYXdhcmVuZXNzLCBbZG9jLmNsaWVudElEXSwgJ3dpbmRvdyB1bmxvYWQnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB0aGlzLl9iZWZvcmVVbmxvYWRIYW5kbGVyKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwcm9jZXNzLm9uKCdleGl0JywgdGhpcy5fYmVmb3JlVW5sb2FkSGFuZGxlcilcbiAgICB9XG4gICAgYXdhcmVuZXNzLm9uKCd1cGRhdGUnLCB0aGlzLl9hd2FyZW5lc3NVcGRhdGVIYW5kbGVyKVxuICAgIHRoaXMuX2NoZWNrSW50ZXJ2YWwgPSAvKiogQHR5cGUge2FueX0gKi8gKHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLndzY29ubmVjdGVkICYmIG1lc3NhZ2VSZWNvbm5lY3RUaW1lb3V0IDwgdGltZS5nZXRVbml4VGltZSgpIC0gdGhpcy53c0xhc3RNZXNzYWdlUmVjZWl2ZWQpIHtcbiAgICAgICAgLy8gbm8gbWVzc2FnZSByZWNlaXZlZCBpbiBhIGxvbmcgdGltZSAtIG5vdCBldmVuIHlvdXIgb3duIGF3YXJlbmVzc1xuICAgICAgICAvLyB1cGRhdGVzICh3aGljaCBhcmUgdXBkYXRlZCBldmVyeSAxNSBzZWNvbmRzKVxuICAgICAgICAvKiogQHR5cGUge1dlYlNvY2tldH0gKi8gKHRoaXMud3MpLmNsb3NlKClcbiAgICAgIH1cbiAgICB9LCBtZXNzYWdlUmVjb25uZWN0VGltZW91dCAvIDEwKSlcbiAgICBpZiAoY29ubmVjdCkge1xuICAgICAgdGhpcy5jb25uZWN0KClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgc3luY2VkICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3luY2VkXG4gIH1cblxuICBzZXQgc3luY2VkIChzdGF0ZSkge1xuICAgIGlmICh0aGlzLl9zeW5jZWQgIT09IHN0YXRlKSB7XG4gICAgICB0aGlzLl9zeW5jZWQgPSBzdGF0ZVxuICAgICAgdGhpcy5lbWl0KCdzeW5jZWQnLCBbc3RhdGVdKVxuICAgICAgdGhpcy5lbWl0KCdzeW5jJywgW3N0YXRlXSlcbiAgICB9XG4gIH1cblxuICBkZXN0cm95ICgpIHtcbiAgICBpZiAodGhpcy5fcmVzeW5jSW50ZXJ2YWwgIT09IDApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcmVzeW5jSW50ZXJ2YWwpXG4gICAgfVxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fY2hlY2tJbnRlcnZhbClcbiAgICB0aGlzLmRpc2Nvbm5lY3QoKVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHRoaXMuX2JlZm9yZVVubG9hZEhhbmRsZXIpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHByb2Nlc3Mub2ZmKCdleGl0JywgdGhpcy5fYmVmb3JlVW5sb2FkSGFuZGxlcilcbiAgICB9XG4gICAgdGhpcy5hd2FyZW5lc3Mub2ZmKCd1cGRhdGUnLCB0aGlzLl9hd2FyZW5lc3NVcGRhdGVIYW5kbGVyKVxuICAgIHRoaXMuZG9jLm9mZigndXBkYXRlJywgdGhpcy5fdXBkYXRlSGFuZGxlcilcbiAgICBzdXBlci5kZXN0cm95KClcbiAgfVxuXG4gIGNvbm5lY3RCYyAoKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZUJjKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCF0aGlzLmJjY29ubmVjdGVkKSB7XG4gICAgICBiYy5zdWJzY3JpYmUodGhpcy5iY0NoYW5uZWwsIHRoaXMuX2JjU3Vic2NyaWJlcilcbiAgICAgIHRoaXMuYmNjb25uZWN0ZWQgPSB0cnVlXG4gICAgfVxuICAgIC8vIHNlbmQgc3luYyBzdGVwMSB0byBiY1xuICAgIC8vIHdyaXRlIHN5bmMgc3RlcCAxXG4gICAgY29uc3QgZW5jb2RlclN5bmMgPSBlbmNvZGluZy5jcmVhdGVFbmNvZGVyKClcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlclN5bmMsIG1lc3NhZ2VTeW5jKVxuICAgIHN5bmNQcm90b2NvbC53cml0ZVN5bmNTdGVwMShlbmNvZGVyU3luYywgdGhpcy5kb2MpXG4gICAgYmMucHVibGlzaCh0aGlzLmJjQ2hhbm5lbCwgZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXJTeW5jKSwgdGhpcylcbiAgICAvLyBicm9hZGNhc3QgbG9jYWwgc3RhdGVcbiAgICBjb25zdCBlbmNvZGVyU3RhdGUgPSBlbmNvZGluZy5jcmVhdGVFbmNvZGVyKClcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlclN0YXRlLCBtZXNzYWdlU3luYylcbiAgICBzeW5jUHJvdG9jb2wud3JpdGVTeW5jU3RlcDIoZW5jb2RlclN0YXRlLCB0aGlzLmRvYylcbiAgICBiYy5wdWJsaXNoKHRoaXMuYmNDaGFubmVsLCBlbmNvZGluZy50b1VpbnQ4QXJyYXkoZW5jb2RlclN0YXRlKSwgdGhpcylcbiAgICAvLyB3cml0ZSBxdWVyeUF3YXJlbmVzc1xuICAgIGNvbnN0IGVuY29kZXJBd2FyZW5lc3NRdWVyeSA9IGVuY29kaW5nLmNyZWF0ZUVuY29kZXIoKVxuICAgIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyQXdhcmVuZXNzUXVlcnksIG1lc3NhZ2VRdWVyeUF3YXJlbmVzcylcbiAgICBiYy5wdWJsaXNoKHRoaXMuYmNDaGFubmVsLCBlbmNvZGluZy50b1VpbnQ4QXJyYXkoZW5jb2RlckF3YXJlbmVzc1F1ZXJ5KSwgdGhpcylcbiAgICAvLyBicm9hZGNhc3QgbG9jYWwgYXdhcmVuZXNzIHN0YXRlXG4gICAgY29uc3QgZW5jb2RlckF3YXJlbmVzc1N0YXRlID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpXG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXJBd2FyZW5lc3NTdGF0ZSwgbWVzc2FnZUF3YXJlbmVzcylcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlckF3YXJlbmVzc1N0YXRlLCBhd2FyZW5lc3NQcm90b2NvbC5lbmNvZGVBd2FyZW5lc3NVcGRhdGUodGhpcy5hd2FyZW5lc3MsIFt0aGlzLmRvYy5jbGllbnRJRF0pKVxuICAgIGJjLnB1Ymxpc2godGhpcy5iY0NoYW5uZWwsIGVuY29kaW5nLnRvVWludDhBcnJheShlbmNvZGVyQXdhcmVuZXNzU3RhdGUpLCB0aGlzKVxuICB9XG5cbiAgZGlzY29ubmVjdEJjICgpIHtcbiAgICAvLyBicm9hZGNhc3QgbWVzc2FnZSB3aXRoIGxvY2FsIGF3YXJlbmVzcyBzdGF0ZSBzZXQgdG8gbnVsbCAoaW5kaWNhdGluZyBkaXNjb25uZWN0KVxuICAgIGNvbnN0IGVuY29kZXIgPSBlbmNvZGluZy5jcmVhdGVFbmNvZGVyKClcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgbWVzc2FnZUF3YXJlbmVzcylcbiAgICBlbmNvZGluZy53cml0ZVZhclVpbnQ4QXJyYXkoZW5jb2RlciwgYXdhcmVuZXNzUHJvdG9jb2wuZW5jb2RlQXdhcmVuZXNzVXBkYXRlKHRoaXMuYXdhcmVuZXNzLCBbdGhpcy5kb2MuY2xpZW50SURdLCBuZXcgTWFwKCkpKVxuICAgIGJyb2FkY2FzdE1lc3NhZ2UodGhpcywgZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpKVxuICAgIGlmICh0aGlzLmJjY29ubmVjdGVkKSB7XG4gICAgICBiYy51bnN1YnNjcmliZSh0aGlzLmJjQ2hhbm5lbCwgdGhpcy5fYmNTdWJzY3JpYmVyKVxuICAgICAgdGhpcy5iY2Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdCAoKSB7XG4gICAgdGhpcy5zaG91bGRDb25uZWN0ID0gZmFsc2VcbiAgICB0aGlzLmRpc2Nvbm5lY3RCYygpXG4gICAgaWYgKHRoaXMud3MgIT09IG51bGwpIHtcbiAgICAgIHRoaXMud3MuY2xvc2UoKVxuICAgIH1cbiAgfVxuXG4gIGNvbm5lY3QgKCkge1xuICAgIHRoaXMuc2hvdWxkQ29ubmVjdCA9IHRydWVcbiAgICBpZiAoIXRoaXMud3Njb25uZWN0ZWQgJiYgdGhpcy53cyA9PT0gbnVsbCkge1xuICAgICAgc2V0dXBXUyh0aGlzKVxuICAgICAgdGhpcy5jb25uZWN0QmMoKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/y-websocket/src/y-websocket.js\n"));

/***/ }),

/***/ "./node_modules/lib0/broadcastchannel.js":
/*!***********************************************!*\
  !*** ./node_modules/lib0/broadcastchannel.js ***!
  \***********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"publish\": function() { return /* binding */ publish; },\n/* harmony export */   \"subscribe\": function() { return /* binding */ subscribe; },\n/* harmony export */   \"unsubscribe\": function() { return /* binding */ unsubscribe; }\n/* harmony export */ });\n/* harmony import */ var _map_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map.js */ \"./node_modules/lib0/map.js\");\n/* harmony import */ var _buffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buffer.js */ \"./node_modules/lib0/buffer.js\");\n/* harmony import */ var _storage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./storage.js */ \"./node_modules/lib0/storage.js\");\n/* eslint-env browser */\n\n/**\n * Helpers for cross-tab communication using broadcastchannel with LocalStorage fallback.\n *\n * ```js\n * // In browser window A:\n * broadcastchannel.subscribe('my events', data => console.log(data))\n * broadcastchannel.publish('my events', 'Hello world!') // => A: 'Hello world!' fires synchronously in same tab\n *\n * // In browser window B:\n * broadcastchannel.publish('my events', 'hello from tab B') // => A: 'hello from tab B'\n * ```\n *\n * @module broadcastchannel\n */\n\n// @todo before next major: use Uint8Array instead as buffer object\n\n\n\n\n\n/**\n * @typedef {Object} Channel\n * @property {Set<function(any, any):any>} Channel.subs\n * @property {any} Channel.bc\n */\n\n/**\n * @type {Map<string, Channel>}\n */\nconst channels = new Map()\n\nclass LocalStoragePolyfill {\n  /**\n   * @param {string} room\n   */\n  constructor (room) {\n    this.room = room\n    /**\n     * @type {null|function({data:ArrayBuffer}):void}\n     */\n    this.onmessage = null\n    _storage_js__WEBPACK_IMPORTED_MODULE_0__.onChange(e => e.key === room && this.onmessage !== null && this.onmessage({ data: _buffer_js__WEBPACK_IMPORTED_MODULE_1__.fromBase64(e.newValue || '') }))\n  }\n\n  /**\n   * @param {ArrayBuffer} buf\n   */\n  postMessage (buf) {\n    _storage_js__WEBPACK_IMPORTED_MODULE_0__.varStorage.setItem(this.room, _buffer_js__WEBPACK_IMPORTED_MODULE_1__.toBase64(_buffer_js__WEBPACK_IMPORTED_MODULE_1__.createUint8ArrayFromArrayBuffer(buf)))\n  }\n}\n\n// Use BroadcastChannel or Polyfill\nconst BC = typeof BroadcastChannel === 'undefined' ? LocalStoragePolyfill : BroadcastChannel\n\n/**\n * @param {string} room\n * @return {Channel}\n */\nconst getChannel = room =>\n  _map_js__WEBPACK_IMPORTED_MODULE_2__.setIfUndefined(channels, room, () => {\n    const subs = new Set()\n    const bc = new BC(room)\n    /**\n     * @param {{data:ArrayBuffer}} e\n     */\n    bc.onmessage = e => subs.forEach(sub => sub(e.data, 'broadcastchannel'))\n    return {\n      bc, subs\n    }\n  })\n\n/**\n * Subscribe to global `publish` events.\n *\n * @function\n * @param {string} room\n * @param {function(any, any):any} f\n */\nconst subscribe = (room, f) => getChannel(room).subs.add(f)\n\n/**\n * Unsubscribe from `publish` global events.\n *\n * @function\n * @param {string} room\n * @param {function(any, any):any} f\n */\nconst unsubscribe = (room, f) => getChannel(room).subs.delete(f)\n\n/**\n * Publish data to all subscribers (including subscribers on this tab)\n *\n * @function\n * @param {string} room\n * @param {any} data\n * @param {any} [origin]\n */\nconst publish = (room, data, origin = null) => {\n  const c = getChannel(room)\n  c.bc.postMessage(data)\n  c.subs.forEach(sub => sub(data, origin))\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbGliMC9icm9hZGNhc3RjaGFubmVsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRStCO0FBQ007QUFDRTs7QUFFdkM7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyw2QkFBNkI7QUFDM0MsY0FBYyxLQUFLO0FBQ25COztBQUVBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZUFBZSxpQkFBaUI7QUFDOUM7QUFDQTtBQUNBLElBQUksaURBQWdCLG9FQUFvRSxNQUFNLGtEQUFpQixvQkFBb0I7QUFDbkk7O0FBRUE7QUFDQSxhQUFhLGFBQWE7QUFDMUI7QUFDQTtBQUNBLElBQUksMkRBQTBCLFlBQVksZ0RBQWUsQ0FBQyx1RUFBc0M7QUFDaEc7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBO0FBQ0EsRUFBRSxtREFBa0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLHdCQUF3QjtBQUNuQztBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsd0JBQXdCO0FBQ25DO0FBQ087O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsS0FBSztBQUNoQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2xpYjAvYnJvYWRjYXN0Y2hhbm5lbC5qcz9jMTY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIEhlbHBlcnMgZm9yIGNyb3NzLXRhYiBjb21tdW5pY2F0aW9uIHVzaW5nIGJyb2FkY2FzdGNoYW5uZWwgd2l0aCBMb2NhbFN0b3JhZ2UgZmFsbGJhY2suXG4gKlxuICogYGBganNcbiAqIC8vIEluIGJyb3dzZXIgd2luZG93IEE6XG4gKiBicm9hZGNhc3RjaGFubmVsLnN1YnNjcmliZSgnbXkgZXZlbnRzJywgZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhKSlcbiAqIGJyb2FkY2FzdGNoYW5uZWwucHVibGlzaCgnbXkgZXZlbnRzJywgJ0hlbGxvIHdvcmxkIScpIC8vID0+IEE6ICdIZWxsbyB3b3JsZCEnIGZpcmVzIHN5bmNocm9ub3VzbHkgaW4gc2FtZSB0YWJcbiAqXG4gKiAvLyBJbiBicm93c2VyIHdpbmRvdyBCOlxuICogYnJvYWRjYXN0Y2hhbm5lbC5wdWJsaXNoKCdteSBldmVudHMnLCAnaGVsbG8gZnJvbSB0YWIgQicpIC8vID0+IEE6ICdoZWxsbyBmcm9tIHRhYiBCJ1xuICogYGBgXG4gKlxuICogQG1vZHVsZSBicm9hZGNhc3RjaGFubmVsXG4gKi9cblxuLy8gQHRvZG8gYmVmb3JlIG5leHQgbWFqb3I6IHVzZSBVaW50OEFycmF5IGluc3RlYWQgYXMgYnVmZmVyIG9iamVjdFxuXG5pbXBvcnQgKiBhcyBtYXAgZnJvbSAnLi9tYXAuanMnXG5pbXBvcnQgKiBhcyBidWZmZXIgZnJvbSAnLi9idWZmZXIuanMnXG5pbXBvcnQgKiBhcyBzdG9yYWdlIGZyb20gJy4vc3RvcmFnZS5qcydcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDaGFubmVsXG4gKiBAcHJvcGVydHkge1NldDxmdW5jdGlvbihhbnksIGFueSk6YW55Pn0gQ2hhbm5lbC5zdWJzXG4gKiBAcHJvcGVydHkge2FueX0gQ2hhbm5lbC5iY1xuICovXG5cbi8qKlxuICogQHR5cGUge01hcDxzdHJpbmcsIENoYW5uZWw+fVxuICovXG5jb25zdCBjaGFubmVscyA9IG5ldyBNYXAoKVxuXG5jbGFzcyBMb2NhbFN0b3JhZ2VQb2x5ZmlsbCB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcm9vbVxuICAgKi9cbiAgY29uc3RydWN0b3IgKHJvb20pIHtcbiAgICB0aGlzLnJvb20gPSByb29tXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bGx8ZnVuY3Rpb24oe2RhdGE6QXJyYXlCdWZmZXJ9KTp2b2lkfVxuICAgICAqL1xuICAgIHRoaXMub25tZXNzYWdlID0gbnVsbFxuICAgIHN0b3JhZ2Uub25DaGFuZ2UoZSA9PiBlLmtleSA9PT0gcm9vbSAmJiB0aGlzLm9ubWVzc2FnZSAhPT0gbnVsbCAmJiB0aGlzLm9ubWVzc2FnZSh7IGRhdGE6IGJ1ZmZlci5mcm9tQmFzZTY0KGUubmV3VmFsdWUgfHwgJycpIH0pKVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGJ1ZlxuICAgKi9cbiAgcG9zdE1lc3NhZ2UgKGJ1Zikge1xuICAgIHN0b3JhZ2UudmFyU3RvcmFnZS5zZXRJdGVtKHRoaXMucm9vbSwgYnVmZmVyLnRvQmFzZTY0KGJ1ZmZlci5jcmVhdGVVaW50OEFycmF5RnJvbUFycmF5QnVmZmVyKGJ1ZikpKVxuICB9XG59XG5cbi8vIFVzZSBCcm9hZGNhc3RDaGFubmVsIG9yIFBvbHlmaWxsXG5jb25zdCBCQyA9IHR5cGVvZiBCcm9hZGNhc3RDaGFubmVsID09PSAndW5kZWZpbmVkJyA/IExvY2FsU3RvcmFnZVBvbHlmaWxsIDogQnJvYWRjYXN0Q2hhbm5lbFxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSByb29tXG4gKiBAcmV0dXJuIHtDaGFubmVsfVxuICovXG5jb25zdCBnZXRDaGFubmVsID0gcm9vbSA9PlxuICBtYXAuc2V0SWZVbmRlZmluZWQoY2hhbm5lbHMsIHJvb20sICgpID0+IHtcbiAgICBjb25zdCBzdWJzID0gbmV3IFNldCgpXG4gICAgY29uc3QgYmMgPSBuZXcgQkMocm9vbSlcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3tkYXRhOkFycmF5QnVmZmVyfX0gZVxuICAgICAqL1xuICAgIGJjLm9ubWVzc2FnZSA9IGUgPT4gc3Vicy5mb3JFYWNoKHN1YiA9PiBzdWIoZS5kYXRhLCAnYnJvYWRjYXN0Y2hhbm5lbCcpKVxuICAgIHJldHVybiB7XG4gICAgICBiYywgc3Vic1xuICAgIH1cbiAgfSlcblxuLyoqXG4gKiBTdWJzY3JpYmUgdG8gZ2xvYmFsIGBwdWJsaXNoYCBldmVudHMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcm9vbVxuICogQHBhcmFtIHtmdW5jdGlvbihhbnksIGFueSk6YW55fSBmXG4gKi9cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmUgPSAocm9vbSwgZikgPT4gZ2V0Q2hhbm5lbChyb29tKS5zdWJzLmFkZChmKVxuXG4vKipcbiAqIFVuc3Vic2NyaWJlIGZyb20gYHB1Ymxpc2hgIGdsb2JhbCBldmVudHMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcm9vbVxuICogQHBhcmFtIHtmdW5jdGlvbihhbnksIGFueSk6YW55fSBmXG4gKi9cbmV4cG9ydCBjb25zdCB1bnN1YnNjcmliZSA9IChyb29tLCBmKSA9PiBnZXRDaGFubmVsKHJvb20pLnN1YnMuZGVsZXRlKGYpXG5cbi8qKlxuICogUHVibGlzaCBkYXRhIHRvIGFsbCBzdWJzY3JpYmVycyAoaW5jbHVkaW5nIHN1YnNjcmliZXJzIG9uIHRoaXMgdGFiKVxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHJvb21cbiAqIEBwYXJhbSB7YW55fSBkYXRhXG4gKiBAcGFyYW0ge2FueX0gW29yaWdpbl1cbiAqL1xuZXhwb3J0IGNvbnN0IHB1Ymxpc2ggPSAocm9vbSwgZGF0YSwgb3JpZ2luID0gbnVsbCkgPT4ge1xuICBjb25zdCBjID0gZ2V0Q2hhbm5lbChyb29tKVxuICBjLmJjLnBvc3RNZXNzYWdlKGRhdGEpXG4gIGMuc3Vicy5mb3JFYWNoKHN1YiA9PiBzdWIoZGF0YSwgb3JpZ2luKSlcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lib0/broadcastchannel.js\n"));

/***/ }),

/***/ "./node_modules/lib0/url.js":
/*!**********************************!*\
  !*** ./node_modules/lib0/url.js ***!
  \**********************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"decodeQueryParams\": function() { return /* binding */ decodeQueryParams; },\n/* harmony export */   \"encodeQueryParams\": function() { return /* binding */ encodeQueryParams; }\n/* harmony export */ });\n/* harmony import */ var _object_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object.js */ \"./node_modules/lib0/object.js\");\n/**\n * Utility module to work with urls.\n *\n * @module url\n */\n\n\n\n/**\n * Parse query parameters from an url.\n *\n * @param {string} url\n * @return {Object<string,string>}\n */\nconst decodeQueryParams = url => {\n  /**\n   * @type {Object<string,string>}\n   */\n  const query = {}\n  const urlQuerySplit = url.split('?')\n  const pairs = urlQuerySplit[urlQuerySplit.length - 1].split('&')\n  for (var i = 0; i < pairs.length; i++) {\n    const item = pairs[i]\n    if (item.length > 0) {\n      const pair = item.split('=')\n      query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '')\n    }\n  }\n  return query\n}\n\n/**\n * @param {Object<string,string>} params\n * @return {string}\n */\nconst encodeQueryParams = params =>\n  _object_js__WEBPACK_IMPORTED_MODULE_0__.map(params, (val, key) => `${encodeURIComponent(key)}=${encodeURIComponent(val)}`).join('&')\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbGliMC91cmwuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFcUM7O0FBRXJDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsWUFBWTtBQUNaO0FBQ087QUFDUCxFQUFFLDJDQUFVLDBCQUEwQix3QkFBd0IsR0FBRyx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2xpYjAvdXJsLmpzPzQ0OGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVdGlsaXR5IG1vZHVsZSB0byB3b3JrIHdpdGggdXJscy5cbiAqXG4gKiBAbW9kdWxlIHVybFxuICovXG5cbmltcG9ydCAqIGFzIG9iamVjdCBmcm9tICcuL29iamVjdC5qcydcblxuLyoqXG4gKiBQYXJzZSBxdWVyeSBwYXJhbWV0ZXJzIGZyb20gYW4gdXJsLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm4ge09iamVjdDxzdHJpbmcsc3RyaW5nPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlY29kZVF1ZXJ5UGFyYW1zID0gdXJsID0+IHtcbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLHN0cmluZz59XG4gICAqL1xuICBjb25zdCBxdWVyeSA9IHt9XG4gIGNvbnN0IHVybFF1ZXJ5U3BsaXQgPSB1cmwuc3BsaXQoJz8nKVxuICBjb25zdCBwYWlycyA9IHVybFF1ZXJ5U3BsaXRbdXJsUXVlcnlTcGxpdC5sZW5ndGggLSAxXS5zcGxpdCgnJicpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gcGFpcnNbaV1cbiAgICBpZiAoaXRlbS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBwYWlyID0gaXRlbS5zcGxpdCgnPScpXG4gICAgICBxdWVyeVtkZWNvZGVVUklDb21wb25lbnQocGFpclswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0gfHwgJycpXG4gICAgfVxuICB9XG4gIHJldHVybiBxdWVyeVxufVxuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZyxzdHJpbmc+fSBwYXJhbXNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZVF1ZXJ5UGFyYW1zID0gcGFyYW1zID0+XG4gIG9iamVjdC5tYXAocGFyYW1zLCAodmFsLCBrZXkpID0+IGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWwpfWApLmpvaW4oJyYnKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/lib0/url.js\n"));

/***/ }),

/***/ "./node_modules/y-protocols/auth.js":
/*!******************************************!*\
  !*** ./node_modules/y-protocols/auth.js ***!
  \******************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"messagePermissionDenied\": function() { return /* binding */ messagePermissionDenied; },\n/* harmony export */   \"readAuthMessage\": function() { return /* binding */ readAuthMessage; },\n/* harmony export */   \"writePermissionDenied\": function() { return /* binding */ writePermissionDenied; }\n/* harmony export */ });\n/* harmony import */ var lib0_encoding__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib0/encoding */ \"./node_modules/lib0/encoding.js\");\n/* harmony import */ var lib0_decoding__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib0/decoding */ \"./node_modules/lib0/decoding.js\");\n\n // eslint-disable-line\n\n\n\nconst messagePermissionDenied = 0\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {string} reason\n */\nconst writePermissionDenied = (encoder, reason) => {\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint(encoder, messagePermissionDenied)\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarString(encoder, reason)\n}\n\n/**\n * @callback PermissionDeniedHandler\n * @param {any} y\n * @param {string} reason\n */\n\n/**\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} y\n * @param {PermissionDeniedHandler} permissionDeniedHandler\n */\nconst readAuthMessage = (decoder, y, permissionDeniedHandler) => {\n  switch (lib0_decoding__WEBPACK_IMPORTED_MODULE_1__.readVarUint(decoder)) {\n    case messagePermissionDenied: permissionDeniedHandler(y, lib0_decoding__WEBPACK_IMPORTED_MODULE_1__.readVarString(decoder))\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMveS1wcm90b2NvbHMvYXV0aC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDd0I7QUFDaUI7QUFDQTs7QUFFbEM7O0FBRVA7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLFFBQVE7QUFDbkI7QUFDTztBQUNQLEVBQUUsdURBQXFCO0FBQ3ZCLEVBQUUseURBQXVCO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQSxXQUFXLEtBQUs7QUFDaEIsV0FBVyxRQUFRO0FBQ25COztBQUVBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLE9BQU87QUFDbEIsV0FBVyx5QkFBeUI7QUFDcEM7QUFDTztBQUNQLFVBQVUsc0RBQW9CO0FBQzlCLDZEQUE2RCx3REFBc0I7QUFDbkY7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMveS1wcm90b2NvbHMvYXV0aC5qcz8wY2YyIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbmltcG9ydCAqIGFzIGVuY29kaW5nIGZyb20gJ2xpYjAvZW5jb2RpbmcnXG5pbXBvcnQgKiBhcyBkZWNvZGluZyBmcm9tICdsaWIwL2RlY29kaW5nJ1xuXG5leHBvcnQgY29uc3QgbWVzc2FnZVBlcm1pc3Npb25EZW5pZWQgPSAwXG5cbi8qKlxuICogQHBhcmFtIHtlbmNvZGluZy5FbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZVBlcm1pc3Npb25EZW5pZWQgPSAoZW5jb2RlciwgcmVhc29uKSA9PiB7XG4gIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBtZXNzYWdlUGVybWlzc2lvbkRlbmllZClcbiAgZW5jb2Rpbmcud3JpdGVWYXJTdHJpbmcoZW5jb2RlciwgcmVhc29uKVxufVxuXG4vKipcbiAqIEBjYWxsYmFjayBQZXJtaXNzaW9uRGVuaWVkSGFuZGxlclxuICogQHBhcmFtIHthbnl9IHlcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb25cbiAqL1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge2RlY29kaW5nLkRlY29kZXJ9IGRlY29kZXJcbiAqIEBwYXJhbSB7WS5Eb2N9IHlcbiAqIEBwYXJhbSB7UGVybWlzc2lvbkRlbmllZEhhbmRsZXJ9IHBlcm1pc3Npb25EZW5pZWRIYW5kbGVyXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkQXV0aE1lc3NhZ2UgPSAoZGVjb2RlciwgeSwgcGVybWlzc2lvbkRlbmllZEhhbmRsZXIpID0+IHtcbiAgc3dpdGNoIChkZWNvZGluZy5yZWFkVmFyVWludChkZWNvZGVyKSkge1xuICAgIGNhc2UgbWVzc2FnZVBlcm1pc3Npb25EZW5pZWQ6IHBlcm1pc3Npb25EZW5pZWRIYW5kbGVyKHksIGRlY29kaW5nLnJlYWRWYXJTdHJpbmcoZGVjb2RlcikpXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/y-protocols/auth.js\n"));

/***/ }),

/***/ "./node_modules/y-protocols/awareness.js":
/*!***********************************************!*\
  !*** ./node_modules/y-protocols/awareness.js ***!
  \***********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Awareness\": function() { return /* binding */ Awareness; },\n/* harmony export */   \"applyAwarenessUpdate\": function() { return /* binding */ applyAwarenessUpdate; },\n/* harmony export */   \"encodeAwarenessUpdate\": function() { return /* binding */ encodeAwarenessUpdate; },\n/* harmony export */   \"modifyAwarenessUpdate\": function() { return /* binding */ modifyAwarenessUpdate; },\n/* harmony export */   \"outdatedTimeout\": function() { return /* binding */ outdatedTimeout; },\n/* harmony export */   \"removeAwarenessStates\": function() { return /* binding */ removeAwarenessStates; }\n/* harmony export */ });\n/* harmony import */ var lib0_encoding__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib0/encoding */ \"./node_modules/lib0/encoding.js\");\n/* harmony import */ var lib0_decoding__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib0/decoding */ \"./node_modules/lib0/decoding.js\");\n/* harmony import */ var lib0_time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib0/time */ \"./node_modules/lib0/time.js\");\n/* harmony import */ var lib0_math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib0/math */ \"./node_modules/lib0/math.js\");\n/* harmony import */ var lib0_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib0/observable */ \"./node_modules/lib0/observable.js\");\n/* harmony import */ var lib0_function__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib0/function */ \"./node_modules/lib0/function.js\");\n/**\n * @module awareness-protocol\n */\n\n\n\n\n\n\n\n // eslint-disable-line\n\nconst outdatedTimeout = 30000\n\n/**\n * @typedef {Object} MetaClientState\n * @property {number} MetaClientState.clock\n * @property {number} MetaClientState.lastUpdated unix timestamp\n */\n\n/**\n * The Awareness class implements a simple shared state protocol that can be used for non-persistent data like awareness information\n * (cursor, username, status, ..). Each client can update its own local state and listen to state changes of\n * remote clients. Every client may set a state of a remote peer to `null` to mark the client as offline.\n *\n * Each client is identified by a unique client id (something we borrow from `doc.clientID`). A client can override\n * its own state by propagating a message with an increasing timestamp (`clock`). If such a message is received, it is\n * applied if the known state of that client is older than the new state (`clock < newClock`). If a client thinks that\n * a remote client is offline, it may propagate a message with\n * `{ clock: currentClientClock, state: null, client: remoteClient }`. If such a\n * message is received, and the known clock of that client equals the received clock, it will override the state with `null`.\n *\n * Before a client disconnects, it should propagate a `null` state with an updated clock.\n *\n * Awareness states must be updated every 30 seconds. Otherwise the Awareness instance will delete the client state.\n *\n * @extends {Observable<string>}\n */\nclass Awareness extends lib0_observable__WEBPACK_IMPORTED_MODULE_0__.Observable {\n  /**\n   * @param {Y.Doc} doc\n   */\n  constructor (doc) {\n    super()\n    this.doc = doc\n    /**\n     * @type {number}\n     */\n    this.clientID = doc.clientID\n    /**\n     * Maps from client id to client state\n     * @type {Map<number, Object<string, any>>}\n     */\n    this.states = new Map()\n    /**\n     * @type {Map<number, MetaClientState>}\n     */\n    this.meta = new Map()\n    this._checkInterval = /** @type {any} */ (setInterval(() => {\n      const now = lib0_time__WEBPACK_IMPORTED_MODULE_1__.getUnixTime()\n      if (this.getLocalState() !== null && (outdatedTimeout / 2 <= now - /** @type {{lastUpdated:number}} */ (this.meta.get(this.clientID)).lastUpdated)) {\n        // renew local clock\n        this.setLocalState(this.getLocalState())\n      }\n      /**\n       * @type {Array<number>}\n       */\n      const remove = []\n      this.meta.forEach((meta, clientid) => {\n        if (clientid !== this.clientID && outdatedTimeout <= now - meta.lastUpdated && this.states.has(clientid)) {\n          remove.push(clientid)\n        }\n      })\n      if (remove.length > 0) {\n        removeAwarenessStates(this, remove, 'timeout')\n      }\n    }, lib0_math__WEBPACK_IMPORTED_MODULE_2__.floor(outdatedTimeout / 10)))\n    doc.on('destroy', () => {\n      this.destroy()\n    })\n    this.setLocalState({})\n  }\n\n  destroy () {\n    this.emit('destroy', [this])\n    this.setLocalState(null)\n    super.destroy()\n    clearInterval(this._checkInterval)\n  }\n\n  /**\n   * @return {Object<string,any>|null}\n   */\n  getLocalState () {\n    return this.states.get(this.clientID) || null\n  }\n\n  /**\n   * @param {Object<string,any>|null} state\n   */\n  setLocalState (state) {\n    const clientID = this.clientID\n    const currLocalMeta = this.meta.get(clientID)\n    const clock = currLocalMeta === undefined ? 0 : currLocalMeta.clock + 1\n    const prevState = this.states.get(clientID)\n    if (state === null) {\n      this.states.delete(clientID)\n    } else {\n      this.states.set(clientID, state)\n    }\n    this.meta.set(clientID, {\n      clock,\n      lastUpdated: lib0_time__WEBPACK_IMPORTED_MODULE_1__.getUnixTime()\n    })\n    const added = []\n    const updated = []\n    const filteredUpdated = []\n    const removed = []\n    if (state === null) {\n      removed.push(clientID)\n    } else if (prevState == null) {\n      if (state != null) {\n        added.push(clientID)\n      }\n    } else {\n      updated.push(clientID)\n      if (!lib0_function__WEBPACK_IMPORTED_MODULE_3__.equalityDeep(prevState, state)) {\n        filteredUpdated.push(clientID)\n      }\n    }\n    if (added.length > 0 || filteredUpdated.length > 0 || removed.length > 0) {\n      this.emit('change', [{ added, updated: filteredUpdated, removed }, 'local'])\n    }\n    this.emit('update', [{ added, updated, removed }, 'local'])\n  }\n\n  /**\n   * @param {string} field\n   * @param {any} value\n   */\n  setLocalStateField (field, value) {\n    const state = this.getLocalState()\n    if (state !== null) {\n      this.setLocalState({\n        ...state,\n        [field]: value\n      })\n    }\n  }\n\n  /**\n   * @return {Map<number,Object<string,any>>}\n   */\n  getStates () {\n    return this.states\n  }\n}\n\n/**\n * Mark (remote) clients as inactive and remove them from the list of active peers.\n * This change will be propagated to remote clients.\n *\n * @param {Awareness} awareness\n * @param {Array<number>} clients\n * @param {any} origin\n */\nconst removeAwarenessStates = (awareness, clients, origin) => {\n  const removed = []\n  for (let i = 0; i < clients.length; i++) {\n    const clientID = clients[i]\n    if (awareness.states.has(clientID)) {\n      awareness.states.delete(clientID)\n      if (clientID === awareness.clientID) {\n        const curMeta = /** @type {MetaClientState} */ (awareness.meta.get(clientID))\n        awareness.meta.set(clientID, {\n          clock: curMeta.clock + 1,\n          lastUpdated: lib0_time__WEBPACK_IMPORTED_MODULE_1__.getUnixTime()\n        })\n      }\n      removed.push(clientID)\n    }\n  }\n  if (removed.length > 0) {\n    awareness.emit('change', [{ added: [], updated: [], removed }, origin])\n    awareness.emit('update', [{ added: [], updated: [], removed }, origin])\n  }\n}\n\n/**\n * @param {Awareness} awareness\n * @param {Array<number>} clients\n * @return {Uint8Array}\n */\nconst encodeAwarenessUpdate = (awareness, clients, states = awareness.states) => {\n  const len = clients.length\n  const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.createEncoder()\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, len)\n  for (let i = 0; i < len; i++) {\n    const clientID = clients[i]\n    const state = states.get(clientID) || null\n    const clock = /** @type {MetaClientState} */ (awareness.meta.get(clientID)).clock\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, clientID)\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, clock)\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarString(encoder, JSON.stringify(state))\n  }\n  return lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.toUint8Array(encoder)\n}\n\n/**\n * Modify the content of an awareness update before re-encoding it to an awareness update.\n *\n * This might be useful when you have a central server that wants to ensure that clients\n * cant hijack somebody elses identity.\n *\n * @param {Uint8Array} update\n * @param {function(any):any} modify\n * @return {Uint8Array}\n */\nconst modifyAwarenessUpdate = (update, modify) => {\n  const decoder = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.createDecoder(update)\n  const encoder = lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.createEncoder()\n  const len = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder)\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, len)\n  for (let i = 0; i < len; i++) {\n    const clientID = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder)\n    const clock = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder)\n    const state = JSON.parse(lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarString(decoder))\n    const modifiedState = modify(state)\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, clientID)\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarUint(encoder, clock)\n    lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.writeVarString(encoder, JSON.stringify(modifiedState))\n  }\n  return lib0_encoding__WEBPACK_IMPORTED_MODULE_4__.toUint8Array(encoder)\n}\n\n/**\n * @param {Awareness} awareness\n * @param {Uint8Array} update\n * @param {any} origin This will be added to the emitted change event\n */\nconst applyAwarenessUpdate = (awareness, update, origin) => {\n  const decoder = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.createDecoder(update)\n  const timestamp = lib0_time__WEBPACK_IMPORTED_MODULE_1__.getUnixTime()\n  const added = []\n  const updated = []\n  const filteredUpdated = []\n  const removed = []\n  const len = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder)\n  for (let i = 0; i < len; i++) {\n    const clientID = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder)\n    let clock = lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarUint(decoder)\n    const state = JSON.parse(lib0_decoding__WEBPACK_IMPORTED_MODULE_5__.readVarString(decoder))\n    const clientMeta = awareness.meta.get(clientID)\n    const prevState = awareness.states.get(clientID)\n    const currClock = clientMeta === undefined ? 0 : clientMeta.clock\n    if (currClock < clock || (currClock === clock && state === null && awareness.states.has(clientID))) {\n      if (state === null) {\n        // never let a remote client remove this local state\n        if (clientID === awareness.clientID && awareness.getLocalState() != null) {\n          // remote client removed the local state. Do not remote state. Broadcast a message indicating\n          // that this client still exists by increasing the clock\n          clock++\n        } else {\n          awareness.states.delete(clientID)\n        }\n      } else {\n        awareness.states.set(clientID, state)\n      }\n      awareness.meta.set(clientID, {\n        clock,\n        lastUpdated: timestamp\n      })\n      if (clientMeta === undefined && state !== null) {\n        added.push(clientID)\n      } else if (clientMeta !== undefined && state === null) {\n        removed.push(clientID)\n      } else if (state !== null) {\n        if (!lib0_function__WEBPACK_IMPORTED_MODULE_3__.equalityDeep(state, prevState)) {\n          filteredUpdated.push(clientID)\n        }\n        updated.push(clientID)\n      }\n    }\n  }\n  if (added.length > 0 || filteredUpdated.length > 0 || removed.length > 0) {\n    awareness.emit('change', [{\n      added, updated: filteredUpdated, removed\n    }, origin])\n  }\n  if (added.length > 0 || updated.length > 0 || removed.length > 0) {\n    awareness.emit('update', [{\n      added, updated, removed\n    }, origin])\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMveS1wcm90b2NvbHMvYXdhcmVuZXNzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFeUM7QUFDQTtBQUNSO0FBQ0E7QUFDVztBQUNWO0FBQ1Y7O0FBRWpCOztBQUVQO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw4REFBOEQ7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ08sd0JBQXdCLHVEQUFVO0FBQ3pDO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxxQ0FBcUMsS0FBSztBQUMxQyxrQkFBa0Isa0RBQWdCO0FBQ2xDLHFGQUFxRixxQkFBcUI7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUssRUFBRSw0Q0FBVTtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMLHlCQUF5QjtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFnQjtBQUNuQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLFdBQVcsdURBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMENBQTBDO0FBQ3ZFO0FBQ0EsMkJBQTJCLHlCQUF5QjtBQUNwRDs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLEtBQUs7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsZUFBZTtBQUMxQixXQUFXLEtBQUs7QUFDaEI7QUFDTztBQUNQO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxpQkFBaUI7QUFDcEQ7QUFDQTtBQUNBLHVCQUF1QixrREFBZ0I7QUFDdkMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUNBQWlDO0FBQ2pFLGdDQUFnQyxpQ0FBaUM7QUFDakU7QUFDQTs7QUFFQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLGVBQWU7QUFDMUIsWUFBWTtBQUNaO0FBQ087QUFDUDtBQUNBLGtCQUFrQix3REFBc0I7QUFDeEMsRUFBRSx1REFBcUI7QUFDdkIsa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBLDZCQUE2QixpQkFBaUI7QUFDOUMsSUFBSSx1REFBcUI7QUFDekIsSUFBSSx1REFBcUI7QUFDekIsSUFBSSx5REFBdUI7QUFDM0I7QUFDQSxTQUFTLHVEQUFxQjtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxtQkFBbUI7QUFDOUIsWUFBWTtBQUNaO0FBQ087QUFDUCxrQkFBa0Isd0RBQXNCO0FBQ3hDLGtCQUFrQix3REFBc0I7QUFDeEMsY0FBYyxzREFBb0I7QUFDbEMsRUFBRSx1REFBcUI7QUFDdkIsa0JBQWtCLFNBQVM7QUFDM0IscUJBQXFCLHNEQUFvQjtBQUN6QyxrQkFBa0Isc0RBQW9CO0FBQ3RDLDZCQUE2Qix3REFBc0I7QUFDbkQ7QUFDQSxJQUFJLHVEQUFxQjtBQUN6QixJQUFJLHVEQUFxQjtBQUN6QixJQUFJLHlEQUF1QjtBQUMzQjtBQUNBLFNBQVMsdURBQXFCO0FBQzlCOztBQUVBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsWUFBWTtBQUN2QixXQUFXLEtBQUs7QUFDaEI7QUFDTztBQUNQLGtCQUFrQix3REFBc0I7QUFDeEMsb0JBQW9CLGtEQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0RBQW9CO0FBQ2xDLGtCQUFrQixTQUFTO0FBQzNCLHFCQUFxQixzREFBb0I7QUFDekMsZ0JBQWdCLHNEQUFvQjtBQUNwQyw2QkFBNkIsd0RBQXNCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSLGFBQWEsdURBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ktcHJvdG9jb2xzL2F3YXJlbmVzcy5qcz8yYjhhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQG1vZHVsZSBhd2FyZW5lc3MtcHJvdG9jb2xcbiAqL1xuXG5pbXBvcnQgKiBhcyBlbmNvZGluZyBmcm9tICdsaWIwL2VuY29kaW5nJ1xuaW1wb3J0ICogYXMgZGVjb2RpbmcgZnJvbSAnbGliMC9kZWNvZGluZydcbmltcG9ydCAqIGFzIHRpbWUgZnJvbSAnbGliMC90aW1lJ1xuaW1wb3J0ICogYXMgbWF0aCBmcm9tICdsaWIwL21hdGgnXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnbGliMC9vYnNlcnZhYmxlJ1xuaW1wb3J0ICogYXMgZiBmcm9tICdsaWIwL2Z1bmN0aW9uJ1xuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuZXhwb3J0IGNvbnN0IG91dGRhdGVkVGltZW91dCA9IDMwMDAwXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWV0YUNsaWVudFN0YXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTWV0YUNsaWVudFN0YXRlLmNsb2NrXG4gKiBAcHJvcGVydHkge251bWJlcn0gTWV0YUNsaWVudFN0YXRlLmxhc3RVcGRhdGVkIHVuaXggdGltZXN0YW1wXG4gKi9cblxuLyoqXG4gKiBUaGUgQXdhcmVuZXNzIGNsYXNzIGltcGxlbWVudHMgYSBzaW1wbGUgc2hhcmVkIHN0YXRlIHByb3RvY29sIHRoYXQgY2FuIGJlIHVzZWQgZm9yIG5vbi1wZXJzaXN0ZW50IGRhdGEgbGlrZSBhd2FyZW5lc3MgaW5mb3JtYXRpb25cbiAqIChjdXJzb3IsIHVzZXJuYW1lLCBzdGF0dXMsIC4uKS4gRWFjaCBjbGllbnQgY2FuIHVwZGF0ZSBpdHMgb3duIGxvY2FsIHN0YXRlIGFuZCBsaXN0ZW4gdG8gc3RhdGUgY2hhbmdlcyBvZlxuICogcmVtb3RlIGNsaWVudHMuIEV2ZXJ5IGNsaWVudCBtYXkgc2V0IGEgc3RhdGUgb2YgYSByZW1vdGUgcGVlciB0byBgbnVsbGAgdG8gbWFyayB0aGUgY2xpZW50IGFzIG9mZmxpbmUuXG4gKlxuICogRWFjaCBjbGllbnQgaXMgaWRlbnRpZmllZCBieSBhIHVuaXF1ZSBjbGllbnQgaWQgKHNvbWV0aGluZyB3ZSBib3Jyb3cgZnJvbSBgZG9jLmNsaWVudElEYCkuIEEgY2xpZW50IGNhbiBvdmVycmlkZVxuICogaXRzIG93biBzdGF0ZSBieSBwcm9wYWdhdGluZyBhIG1lc3NhZ2Ugd2l0aCBhbiBpbmNyZWFzaW5nIHRpbWVzdGFtcCAoYGNsb2NrYCkuIElmIHN1Y2ggYSBtZXNzYWdlIGlzIHJlY2VpdmVkLCBpdCBpc1xuICogYXBwbGllZCBpZiB0aGUga25vd24gc3RhdGUgb2YgdGhhdCBjbGllbnQgaXMgb2xkZXIgdGhhbiB0aGUgbmV3IHN0YXRlIChgY2xvY2sgPCBuZXdDbG9ja2ApLiBJZiBhIGNsaWVudCB0aGlua3MgdGhhdFxuICogYSByZW1vdGUgY2xpZW50IGlzIG9mZmxpbmUsIGl0IG1heSBwcm9wYWdhdGUgYSBtZXNzYWdlIHdpdGhcbiAqIGB7IGNsb2NrOiBjdXJyZW50Q2xpZW50Q2xvY2ssIHN0YXRlOiBudWxsLCBjbGllbnQ6IHJlbW90ZUNsaWVudCB9YC4gSWYgc3VjaCBhXG4gKiBtZXNzYWdlIGlzIHJlY2VpdmVkLCBhbmQgdGhlIGtub3duIGNsb2NrIG9mIHRoYXQgY2xpZW50IGVxdWFscyB0aGUgcmVjZWl2ZWQgY2xvY2ssIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHN0YXRlIHdpdGggYG51bGxgLlxuICpcbiAqIEJlZm9yZSBhIGNsaWVudCBkaXNjb25uZWN0cywgaXQgc2hvdWxkIHByb3BhZ2F0ZSBhIGBudWxsYCBzdGF0ZSB3aXRoIGFuIHVwZGF0ZWQgY2xvY2suXG4gKlxuICogQXdhcmVuZXNzIHN0YXRlcyBtdXN0IGJlIHVwZGF0ZWQgZXZlcnkgMzAgc2Vjb25kcy4gT3RoZXJ3aXNlIHRoZSBBd2FyZW5lc3MgaW5zdGFuY2Ugd2lsbCBkZWxldGUgdGhlIGNsaWVudCBzdGF0ZS5cbiAqXG4gKiBAZXh0ZW5kcyB7T2JzZXJ2YWJsZTxzdHJpbmc+fVxuICovXG5leHBvcnQgY2xhc3MgQXdhcmVuZXNzIGV4dGVuZHMgT2JzZXJ2YWJsZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1kuRG9jfSBkb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yIChkb2MpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5kb2MgPSBkb2NcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY2xpZW50SUQgPSBkb2MuY2xpZW50SURcbiAgICAvKipcbiAgICAgKiBNYXBzIGZyb20gY2xpZW50IGlkIHRvIGNsaWVudCBzdGF0ZVxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBPYmplY3Q8c3RyaW5nLCBhbnk+Pn1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRlcyA9IG5ldyBNYXAoKVxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBNZXRhQ2xpZW50U3RhdGU+fVxuICAgICAqL1xuICAgIHRoaXMubWV0YSA9IG5ldyBNYXAoKVxuICAgIHRoaXMuX2NoZWNrSW50ZXJ2YWwgPSAvKiogQHR5cGUge2FueX0gKi8gKHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvbnN0IG5vdyA9IHRpbWUuZ2V0VW5peFRpbWUoKVxuICAgICAgaWYgKHRoaXMuZ2V0TG9jYWxTdGF0ZSgpICE9PSBudWxsICYmIChvdXRkYXRlZFRpbWVvdXQgLyAyIDw9IG5vdyAtIC8qKiBAdHlwZSB7e2xhc3RVcGRhdGVkOm51bWJlcn19ICovICh0aGlzLm1ldGEuZ2V0KHRoaXMuY2xpZW50SUQpKS5sYXN0VXBkYXRlZCkpIHtcbiAgICAgICAgLy8gcmVuZXcgbG9jYWwgY2xvY2tcbiAgICAgICAgdGhpcy5zZXRMb2NhbFN0YXRlKHRoaXMuZ2V0TG9jYWxTdGF0ZSgpKVxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAqL1xuICAgICAgY29uc3QgcmVtb3ZlID0gW11cbiAgICAgIHRoaXMubWV0YS5mb3JFYWNoKChtZXRhLCBjbGllbnRpZCkgPT4ge1xuICAgICAgICBpZiAoY2xpZW50aWQgIT09IHRoaXMuY2xpZW50SUQgJiYgb3V0ZGF0ZWRUaW1lb3V0IDw9IG5vdyAtIG1ldGEubGFzdFVwZGF0ZWQgJiYgdGhpcy5zdGF0ZXMuaGFzKGNsaWVudGlkKSkge1xuICAgICAgICAgIHJlbW92ZS5wdXNoKGNsaWVudGlkKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgaWYgKHJlbW92ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlbW92ZUF3YXJlbmVzc1N0YXRlcyh0aGlzLCByZW1vdmUsICd0aW1lb3V0JylcbiAgICAgIH1cbiAgICB9LCBtYXRoLmZsb29yKG91dGRhdGVkVGltZW91dCAvIDEwKSkpXG4gICAgZG9jLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgICAgdGhpcy5kZXN0cm95KClcbiAgICB9KVxuICAgIHRoaXMuc2V0TG9jYWxTdGF0ZSh7fSlcbiAgfVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMuZW1pdCgnZGVzdHJveScsIFt0aGlzXSlcbiAgICB0aGlzLnNldExvY2FsU3RhdGUobnVsbClcbiAgICBzdXBlci5kZXN0cm95KClcbiAgICBjbGVhckludGVydmFsKHRoaXMuX2NoZWNrSW50ZXJ2YWwpXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7T2JqZWN0PHN0cmluZyxhbnk+fG51bGx9XG4gICAqL1xuICBnZXRMb2NhbFN0YXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZXMuZ2V0KHRoaXMuY2xpZW50SUQpIHx8IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsYW55PnxudWxsfSBzdGF0ZVxuICAgKi9cbiAgc2V0TG9jYWxTdGF0ZSAoc3RhdGUpIHtcbiAgICBjb25zdCBjbGllbnRJRCA9IHRoaXMuY2xpZW50SURcbiAgICBjb25zdCBjdXJyTG9jYWxNZXRhID0gdGhpcy5tZXRhLmdldChjbGllbnRJRClcbiAgICBjb25zdCBjbG9jayA9IGN1cnJMb2NhbE1ldGEgPT09IHVuZGVmaW5lZCA/IDAgOiBjdXJyTG9jYWxNZXRhLmNsb2NrICsgMVxuICAgIGNvbnN0IHByZXZTdGF0ZSA9IHRoaXMuc3RhdGVzLmdldChjbGllbnRJRClcbiAgICBpZiAoc3RhdGUgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RhdGVzLmRlbGV0ZShjbGllbnRJRClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZXMuc2V0KGNsaWVudElELCBzdGF0ZSlcbiAgICB9XG4gICAgdGhpcy5tZXRhLnNldChjbGllbnRJRCwge1xuICAgICAgY2xvY2ssXG4gICAgICBsYXN0VXBkYXRlZDogdGltZS5nZXRVbml4VGltZSgpXG4gICAgfSlcbiAgICBjb25zdCBhZGRlZCA9IFtdXG4gICAgY29uc3QgdXBkYXRlZCA9IFtdXG4gICAgY29uc3QgZmlsdGVyZWRVcGRhdGVkID0gW11cbiAgICBjb25zdCByZW1vdmVkID0gW11cbiAgICBpZiAoc3RhdGUgPT09IG51bGwpIHtcbiAgICAgIHJlbW92ZWQucHVzaChjbGllbnRJRClcbiAgICB9IGVsc2UgaWYgKHByZXZTdGF0ZSA9PSBudWxsKSB7XG4gICAgICBpZiAoc3RhdGUgIT0gbnVsbCkge1xuICAgICAgICBhZGRlZC5wdXNoKGNsaWVudElEKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVkLnB1c2goY2xpZW50SUQpXG4gICAgICBpZiAoIWYuZXF1YWxpdHlEZWVwKHByZXZTdGF0ZSwgc3RhdGUpKSB7XG4gICAgICAgIGZpbHRlcmVkVXBkYXRlZC5wdXNoKGNsaWVudElEKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYWRkZWQubGVuZ3RoID4gMCB8fCBmaWx0ZXJlZFVwZGF0ZWQubGVuZ3RoID4gMCB8fCByZW1vdmVkLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuZW1pdCgnY2hhbmdlJywgW3sgYWRkZWQsIHVwZGF0ZWQ6IGZpbHRlcmVkVXBkYXRlZCwgcmVtb3ZlZCB9LCAnbG9jYWwnXSlcbiAgICB9XG4gICAgdGhpcy5lbWl0KCd1cGRhdGUnLCBbeyBhZGRlZCwgdXBkYXRlZCwgcmVtb3ZlZCB9LCAnbG9jYWwnXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlXG4gICAqL1xuICBzZXRMb2NhbFN0YXRlRmllbGQgKGZpZWxkLCB2YWx1ZSkge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5nZXRMb2NhbFN0YXRlKClcbiAgICBpZiAoc3RhdGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuc2V0TG9jYWxTdGF0ZSh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBbZmllbGRdOiB2YWx1ZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7TWFwPG51bWJlcixPYmplY3Q8c3RyaW5nLGFueT4+fVxuICAgKi9cbiAgZ2V0U3RhdGVzICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZXNcbiAgfVxufVxuXG4vKipcbiAqIE1hcmsgKHJlbW90ZSkgY2xpZW50cyBhcyBpbmFjdGl2ZSBhbmQgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgbGlzdCBvZiBhY3RpdmUgcGVlcnMuXG4gKiBUaGlzIGNoYW5nZSB3aWxsIGJlIHByb3BhZ2F0ZWQgdG8gcmVtb3RlIGNsaWVudHMuXG4gKlxuICogQHBhcmFtIHtBd2FyZW5lc3N9IGF3YXJlbmVzc1xuICogQHBhcmFtIHtBcnJheTxudW1iZXI+fSBjbGllbnRzXG4gKiBAcGFyYW0ge2FueX0gb3JpZ2luXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVBd2FyZW5lc3NTdGF0ZXMgPSAoYXdhcmVuZXNzLCBjbGllbnRzLCBvcmlnaW4pID0+IHtcbiAgY29uc3QgcmVtb3ZlZCA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNsaWVudElEID0gY2xpZW50c1tpXVxuICAgIGlmIChhd2FyZW5lc3Muc3RhdGVzLmhhcyhjbGllbnRJRCkpIHtcbiAgICAgIGF3YXJlbmVzcy5zdGF0ZXMuZGVsZXRlKGNsaWVudElEKVxuICAgICAgaWYgKGNsaWVudElEID09PSBhd2FyZW5lc3MuY2xpZW50SUQpIHtcbiAgICAgICAgY29uc3QgY3VyTWV0YSA9IC8qKiBAdHlwZSB7TWV0YUNsaWVudFN0YXRlfSAqLyAoYXdhcmVuZXNzLm1ldGEuZ2V0KGNsaWVudElEKSlcbiAgICAgICAgYXdhcmVuZXNzLm1ldGEuc2V0KGNsaWVudElELCB7XG4gICAgICAgICAgY2xvY2s6IGN1ck1ldGEuY2xvY2sgKyAxLFxuICAgICAgICAgIGxhc3RVcGRhdGVkOiB0aW1lLmdldFVuaXhUaW1lKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJlbW92ZWQucHVzaChjbGllbnRJRClcbiAgICB9XG4gIH1cbiAgaWYgKHJlbW92ZWQubGVuZ3RoID4gMCkge1xuICAgIGF3YXJlbmVzcy5lbWl0KCdjaGFuZ2UnLCBbeyBhZGRlZDogW10sIHVwZGF0ZWQ6IFtdLCByZW1vdmVkIH0sIG9yaWdpbl0pXG4gICAgYXdhcmVuZXNzLmVtaXQoJ3VwZGF0ZScsIFt7IGFkZGVkOiBbXSwgdXBkYXRlZDogW10sIHJlbW92ZWQgfSwgb3JpZ2luXSlcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXdhcmVuZXNzfSBhd2FyZW5lc3NcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gY2xpZW50c1xuICogQHJldHVybiB7VWludDhBcnJheX1cbiAqL1xuZXhwb3J0IGNvbnN0IGVuY29kZUF3YXJlbmVzc1VwZGF0ZSA9IChhd2FyZW5lc3MsIGNsaWVudHMsIHN0YXRlcyA9IGF3YXJlbmVzcy5zdGF0ZXMpID0+IHtcbiAgY29uc3QgbGVuID0gY2xpZW50cy5sZW5ndGhcbiAgY29uc3QgZW5jb2RlciA9IGVuY29kaW5nLmNyZWF0ZUVuY29kZXIoKVxuICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgbGVuKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgY2xpZW50SUQgPSBjbGllbnRzW2ldXG4gICAgY29uc3Qgc3RhdGUgPSBzdGF0ZXMuZ2V0KGNsaWVudElEKSB8fCBudWxsXG4gICAgY29uc3QgY2xvY2sgPSAvKiogQHR5cGUge01ldGFDbGllbnRTdGF0ZX0gKi8gKGF3YXJlbmVzcy5tZXRhLmdldChjbGllbnRJRCkpLmNsb2NrXG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIGNsaWVudElEKVxuICAgIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBjbG9jaylcbiAgICBlbmNvZGluZy53cml0ZVZhclN0cmluZyhlbmNvZGVyLCBKU09OLnN0cmluZ2lmeShzdGF0ZSkpXG4gIH1cbiAgcmV0dXJuIGVuY29kaW5nLnRvVWludDhBcnJheShlbmNvZGVyKVxufVxuXG4vKipcbiAqIE1vZGlmeSB0aGUgY29udGVudCBvZiBhbiBhd2FyZW5lc3MgdXBkYXRlIGJlZm9yZSByZS1lbmNvZGluZyBpdCB0byBhbiBhd2FyZW5lc3MgdXBkYXRlLlxuICpcbiAqIFRoaXMgbWlnaHQgYmUgdXNlZnVsIHdoZW4geW91IGhhdmUgYSBjZW50cmFsIHNlcnZlciB0aGF0IHdhbnRzIHRvIGVuc3VyZSB0aGF0IGNsaWVudHNcbiAqIGNhbnQgaGlqYWNrIHNvbWVib2R5IGVsc2VzIGlkZW50aXR5LlxuICpcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFueSk6YW55fSBtb2RpZnlcbiAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9XG4gKi9cbmV4cG9ydCBjb25zdCBtb2RpZnlBd2FyZW5lc3NVcGRhdGUgPSAodXBkYXRlLCBtb2RpZnkpID0+IHtcbiAgY29uc3QgZGVjb2RlciA9IGRlY29kaW5nLmNyZWF0ZURlY29kZXIodXBkYXRlKVxuICBjb25zdCBlbmNvZGVyID0gZW5jb2RpbmcuY3JlYXRlRW5jb2RlcigpXG4gIGNvbnN0IGxlbiA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpXG4gIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBsZW4pXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBjbGllbnRJRCA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpXG4gICAgY29uc3QgY2xvY2sgPSBkZWNvZGluZy5yZWFkVmFyVWludChkZWNvZGVyKVxuICAgIGNvbnN0IHN0YXRlID0gSlNPTi5wYXJzZShkZWNvZGluZy5yZWFkVmFyU3RyaW5nKGRlY29kZXIpKVxuICAgIGNvbnN0IG1vZGlmaWVkU3RhdGUgPSBtb2RpZnkoc3RhdGUpXG4gICAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIGNsaWVudElEKVxuICAgIGVuY29kaW5nLndyaXRlVmFyVWludChlbmNvZGVyLCBjbG9jaylcbiAgICBlbmNvZGluZy53cml0ZVZhclN0cmluZyhlbmNvZGVyLCBKU09OLnN0cmluZ2lmeShtb2RpZmllZFN0YXRlKSlcbiAgfVxuICByZXR1cm4gZW5jb2RpbmcudG9VaW50OEFycmF5KGVuY29kZXIpXG59XG5cbi8qKlxuICogQHBhcmFtIHtBd2FyZW5lc3N9IGF3YXJlbmVzc1xuICogQHBhcmFtIHtVaW50OEFycmF5fSB1cGRhdGVcbiAqIEBwYXJhbSB7YW55fSBvcmlnaW4gVGhpcyB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbWl0dGVkIGNoYW5nZSBldmVudFxuICovXG5leHBvcnQgY29uc3QgYXBwbHlBd2FyZW5lc3NVcGRhdGUgPSAoYXdhcmVuZXNzLCB1cGRhdGUsIG9yaWdpbikgPT4ge1xuICBjb25zdCBkZWNvZGVyID0gZGVjb2RpbmcuY3JlYXRlRGVjb2Rlcih1cGRhdGUpXG4gIGNvbnN0IHRpbWVzdGFtcCA9IHRpbWUuZ2V0VW5peFRpbWUoKVxuICBjb25zdCBhZGRlZCA9IFtdXG4gIGNvbnN0IHVwZGF0ZWQgPSBbXVxuICBjb25zdCBmaWx0ZXJlZFVwZGF0ZWQgPSBbXVxuICBjb25zdCByZW1vdmVkID0gW11cbiAgY29uc3QgbGVuID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2RlcilcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGNsaWVudElEID0gZGVjb2RpbmcucmVhZFZhclVpbnQoZGVjb2RlcilcbiAgICBsZXQgY2xvY2sgPSBkZWNvZGluZy5yZWFkVmFyVWludChkZWNvZGVyKVxuICAgIGNvbnN0IHN0YXRlID0gSlNPTi5wYXJzZShkZWNvZGluZy5yZWFkVmFyU3RyaW5nKGRlY29kZXIpKVxuICAgIGNvbnN0IGNsaWVudE1ldGEgPSBhd2FyZW5lc3MubWV0YS5nZXQoY2xpZW50SUQpXG4gICAgY29uc3QgcHJldlN0YXRlID0gYXdhcmVuZXNzLnN0YXRlcy5nZXQoY2xpZW50SUQpXG4gICAgY29uc3QgY3VyckNsb2NrID0gY2xpZW50TWV0YSA9PT0gdW5kZWZpbmVkID8gMCA6IGNsaWVudE1ldGEuY2xvY2tcbiAgICBpZiAoY3VyckNsb2NrIDwgY2xvY2sgfHwgKGN1cnJDbG9jayA9PT0gY2xvY2sgJiYgc3RhdGUgPT09IG51bGwgJiYgYXdhcmVuZXNzLnN0YXRlcy5oYXMoY2xpZW50SUQpKSkge1xuICAgICAgaWYgKHN0YXRlID09PSBudWxsKSB7XG4gICAgICAgIC8vIG5ldmVyIGxldCBhIHJlbW90ZSBjbGllbnQgcmVtb3ZlIHRoaXMgbG9jYWwgc3RhdGVcbiAgICAgICAgaWYgKGNsaWVudElEID09PSBhd2FyZW5lc3MuY2xpZW50SUQgJiYgYXdhcmVuZXNzLmdldExvY2FsU3RhdGUoKSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gcmVtb3RlIGNsaWVudCByZW1vdmVkIHRoZSBsb2NhbCBzdGF0ZS4gRG8gbm90IHJlbW90ZSBzdGF0ZS4gQnJvYWRjYXN0IGEgbWVzc2FnZSBpbmRpY2F0aW5nXG4gICAgICAgICAgLy8gdGhhdCB0aGlzIGNsaWVudCBzdGlsbCBleGlzdHMgYnkgaW5jcmVhc2luZyB0aGUgY2xvY2tcbiAgICAgICAgICBjbG9jaysrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXdhcmVuZXNzLnN0YXRlcy5kZWxldGUoY2xpZW50SUQpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YXJlbmVzcy5zdGF0ZXMuc2V0KGNsaWVudElELCBzdGF0ZSlcbiAgICAgIH1cbiAgICAgIGF3YXJlbmVzcy5tZXRhLnNldChjbGllbnRJRCwge1xuICAgICAgICBjbG9jayxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IHRpbWVzdGFtcFxuICAgICAgfSlcbiAgICAgIGlmIChjbGllbnRNZXRhID09PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgYWRkZWQucHVzaChjbGllbnRJRClcbiAgICAgIH0gZWxzZSBpZiAoY2xpZW50TWV0YSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlID09PSBudWxsKSB7XG4gICAgICAgIHJlbW92ZWQucHVzaChjbGllbnRJRClcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFmLmVxdWFsaXR5RGVlcChzdGF0ZSwgcHJldlN0YXRlKSkge1xuICAgICAgICAgIGZpbHRlcmVkVXBkYXRlZC5wdXNoKGNsaWVudElEKVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZWQucHVzaChjbGllbnRJRClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGFkZGVkLmxlbmd0aCA+IDAgfHwgZmlsdGVyZWRVcGRhdGVkLmxlbmd0aCA+IDAgfHwgcmVtb3ZlZC5sZW5ndGggPiAwKSB7XG4gICAgYXdhcmVuZXNzLmVtaXQoJ2NoYW5nZScsIFt7XG4gICAgICBhZGRlZCwgdXBkYXRlZDogZmlsdGVyZWRVcGRhdGVkLCByZW1vdmVkXG4gICAgfSwgb3JpZ2luXSlcbiAgfVxuICBpZiAoYWRkZWQubGVuZ3RoID4gMCB8fCB1cGRhdGVkLmxlbmd0aCA+IDAgfHwgcmVtb3ZlZC5sZW5ndGggPiAwKSB7XG4gICAgYXdhcmVuZXNzLmVtaXQoJ3VwZGF0ZScsIFt7XG4gICAgICBhZGRlZCwgdXBkYXRlZCwgcmVtb3ZlZFxuICAgIH0sIG9yaWdpbl0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/y-protocols/awareness.js\n"));

/***/ }),

/***/ "./node_modules/y-protocols/sync.js":
/*!******************************************!*\
  !*** ./node_modules/y-protocols/sync.js ***!
  \******************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"messageYjsSyncStep1\": function() { return /* binding */ messageYjsSyncStep1; },\n/* harmony export */   \"messageYjsSyncStep2\": function() { return /* binding */ messageYjsSyncStep2; },\n/* harmony export */   \"messageYjsUpdate\": function() { return /* binding */ messageYjsUpdate; },\n/* harmony export */   \"readSyncMessage\": function() { return /* binding */ readSyncMessage; },\n/* harmony export */   \"readSyncStep1\": function() { return /* binding */ readSyncStep1; },\n/* harmony export */   \"readSyncStep2\": function() { return /* binding */ readSyncStep2; },\n/* harmony export */   \"readUpdate\": function() { return /* binding */ readUpdate; },\n/* harmony export */   \"writeSyncStep1\": function() { return /* binding */ writeSyncStep1; },\n/* harmony export */   \"writeSyncStep2\": function() { return /* binding */ writeSyncStep2; },\n/* harmony export */   \"writeUpdate\": function() { return /* binding */ writeUpdate; }\n/* harmony export */ });\n/* harmony import */ var lib0_encoding__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib0/encoding */ \"./node_modules/lib0/encoding.js\");\n/* harmony import */ var lib0_decoding__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib0/decoding */ \"./node_modules/lib0/decoding.js\");\n/* harmony import */ var yjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! yjs */ \"./node_modules/yjs/dist/yjs.mjs\");\n/**\n * @module sync-protocol\n */\n\n\n\n\n\n/**\n * @typedef {Map<number, number>} StateMap\n */\n\n/**\n * Core Yjs defines two message types:\n * • YjsSyncStep1: Includes the State Set of the sending client. When received, the client should reply with YjsSyncStep2.\n * • YjsSyncStep2: Includes all missing structs and the complete delete set. When received, the client is assured that it\n *   received all information from the remote client.\n *\n * In a peer-to-peer network, you may want to introduce a SyncDone message type. Both parties should initiate the connection\n * with SyncStep1. When a client received SyncStep2, it should reply with SyncDone. When the local client received both\n * SyncStep2 and SyncDone, it is assured that it is synced to the remote client.\n *\n * In a client-server model, you want to handle this differently: The client should initiate the connection with SyncStep1.\n * When the server receives SyncStep1, it should reply with SyncStep2 immediately followed by SyncStep1. The client replies\n * with SyncStep2 when it receives SyncStep1. Optionally the server may send a SyncDone after it received SyncStep2, so the\n * client knows that the sync is finished.  There are two reasons for this more elaborated sync model: 1. This protocol can\n * easily be implemented on top of http and websockets. 2. The server shoul only reply to requests, and not initiate them.\n * Therefore it is necesarry that the client initiates the sync.\n *\n * Construction of a message:\n * [messageType : varUint, message definition..]\n *\n * Note: A message does not include information about the room name. This must to be handled by the upper layer protocol!\n *\n * stringify[messageType] stringifies a message definition (messageType is already read from the bufffer)\n */\n\nconst messageYjsSyncStep1 = 0\nconst messageYjsSyncStep2 = 1\nconst messageYjsUpdate = 2\n\n/**\n * Create a sync step 1 message based on the state of the current shared document.\n *\n * @param {encoding.Encoder} encoder\n * @param {Y.Doc} doc\n */\nconst writeSyncStep1 = (encoder, doc) => {\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint(encoder, messageYjsSyncStep1)\n  const sv = yjs__WEBPACK_IMPORTED_MODULE_1__.encodeStateVector(doc)\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint8Array(encoder, sv)\n}\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {Y.Doc} doc\n * @param {Uint8Array} [encodedStateVector]\n */\nconst writeSyncStep2 = (encoder, doc, encodedStateVector) => {\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint(encoder, messageYjsSyncStep2)\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint8Array(encoder, yjs__WEBPACK_IMPORTED_MODULE_1__.encodeStateAsUpdate(doc, encodedStateVector))\n}\n\n/**\n * Read SyncStep1 message and reply with SyncStep2.\n *\n * @param {decoding.Decoder} decoder The reply to the received message\n * @param {encoding.Encoder} encoder The received message\n * @param {Y.Doc} doc\n */\nconst readSyncStep1 = (decoder, encoder, doc) =>\n  writeSyncStep2(encoder, doc, lib0_decoding__WEBPACK_IMPORTED_MODULE_2__.readVarUint8Array(decoder))\n\n/**\n * Read and apply Structs and then DeleteStore to a y instance.\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nconst readSyncStep2 = (decoder, doc, transactionOrigin) => {\n  try {\n    yjs__WEBPACK_IMPORTED_MODULE_1__.applyUpdate(doc, lib0_decoding__WEBPACK_IMPORTED_MODULE_2__.readVarUint8Array(decoder), transactionOrigin)\n  } catch (error) {\n    // This catches errors that are thrown by event handlers\n    console.error('Caught error while handling a Yjs update', error)\n  }\n}\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {Uint8Array} update\n */\nconst writeUpdate = (encoder, update) => {\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint(encoder, messageYjsUpdate)\n  lib0_encoding__WEBPACK_IMPORTED_MODULE_0__.writeVarUint8Array(encoder, update)\n}\n\n/**\n * Read and apply Structs and then DeleteStore to a y instance.\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nconst readUpdate = readSyncStep2\n\n/**\n * @param {decoding.Decoder} decoder A message received from another client\n * @param {encoding.Encoder} encoder The reply message. Will not be sent if empty.\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nconst readSyncMessage = (decoder, encoder, doc, transactionOrigin) => {\n  const messageType = lib0_decoding__WEBPACK_IMPORTED_MODULE_2__.readVarUint(decoder)\n  switch (messageType) {\n    case messageYjsSyncStep1:\n      readSyncStep1(decoder, encoder, doc)\n      break\n    case messageYjsSyncStep2:\n      readSyncStep2(decoder, doc, transactionOrigin)\n      break\n    case messageYjsUpdate:\n      readUpdate(decoder, doc, transactionOrigin)\n      break\n    default:\n      throw new Error('Unknown message type')\n  }\n  return messageType\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMveS1wcm90b2NvbHMvc3luYy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUV5QztBQUNBO0FBQ2pCOztBQUV4QjtBQUNBLGFBQWEscUJBQXFCO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNBO0FBQ0E7O0FBRVA7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxPQUFPO0FBQ2xCO0FBQ087QUFDUCxFQUFFLHVEQUFxQjtBQUN2QixhQUFhLGtEQUFtQjtBQUNoQyxFQUFFLDZEQUEyQjtBQUM3Qjs7QUFFQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsT0FBTztBQUNsQixXQUFXLFlBQVk7QUFDdkI7QUFDTztBQUNQLEVBQUUsdURBQXFCO0FBQ3ZCLEVBQUUsNkRBQTJCLFVBQVUsb0RBQXFCO0FBQzVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsT0FBTztBQUNsQjtBQUNPO0FBQ1AsK0JBQStCLDREQUEwQjs7QUFFekQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsS0FBSztBQUNoQjtBQUNPO0FBQ1A7QUFDQSxJQUFJLDRDQUFhLE1BQU0sNERBQTBCO0FBQ2pELElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsWUFBWTtBQUN2QjtBQUNPO0FBQ1AsRUFBRSx1REFBcUI7QUFDdkIsRUFBRSw2REFBMkI7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsS0FBSztBQUNoQjtBQUNPOztBQUVQO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsS0FBSztBQUNoQjtBQUNPO0FBQ1Asc0JBQXNCLHNEQUFvQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3ktcHJvdG9jb2xzL3N5bmMuanM/MDI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb2R1bGUgc3luYy1wcm90b2NvbFxuICovXG5cbmltcG9ydCAqIGFzIGVuY29kaW5nIGZyb20gJ2xpYjAvZW5jb2RpbmcnXG5pbXBvcnQgKiBhcyBkZWNvZGluZyBmcm9tICdsaWIwL2RlY29kaW5nJ1xuaW1wb3J0ICogYXMgWSBmcm9tICd5anMnXG5cbi8qKlxuICogQHR5cGVkZWYge01hcDxudW1iZXIsIG51bWJlcj59IFN0YXRlTWFwXG4gKi9cblxuLyoqXG4gKiBDb3JlIFlqcyBkZWZpbmVzIHR3byBtZXNzYWdlIHR5cGVzOlxuICog4oCiIFlqc1N5bmNTdGVwMTogSW5jbHVkZXMgdGhlIFN0YXRlIFNldCBvZiB0aGUgc2VuZGluZyBjbGllbnQuIFdoZW4gcmVjZWl2ZWQsIHRoZSBjbGllbnQgc2hvdWxkIHJlcGx5IHdpdGggWWpzU3luY1N0ZXAyLlxuICog4oCiIFlqc1N5bmNTdGVwMjogSW5jbHVkZXMgYWxsIG1pc3Npbmcgc3RydWN0cyBhbmQgdGhlIGNvbXBsZXRlIGRlbGV0ZSBzZXQuIFdoZW4gcmVjZWl2ZWQsIHRoZSBjbGllbnQgaXMgYXNzdXJlZCB0aGF0IGl0XG4gKiAgIHJlY2VpdmVkIGFsbCBpbmZvcm1hdGlvbiBmcm9tIHRoZSByZW1vdGUgY2xpZW50LlxuICpcbiAqIEluIGEgcGVlci10by1wZWVyIG5ldHdvcmssIHlvdSBtYXkgd2FudCB0byBpbnRyb2R1Y2UgYSBTeW5jRG9uZSBtZXNzYWdlIHR5cGUuIEJvdGggcGFydGllcyBzaG91bGQgaW5pdGlhdGUgdGhlIGNvbm5lY3Rpb25cbiAqIHdpdGggU3luY1N0ZXAxLiBXaGVuIGEgY2xpZW50IHJlY2VpdmVkIFN5bmNTdGVwMiwgaXQgc2hvdWxkIHJlcGx5IHdpdGggU3luY0RvbmUuIFdoZW4gdGhlIGxvY2FsIGNsaWVudCByZWNlaXZlZCBib3RoXG4gKiBTeW5jU3RlcDIgYW5kIFN5bmNEb25lLCBpdCBpcyBhc3N1cmVkIHRoYXQgaXQgaXMgc3luY2VkIHRvIHRoZSByZW1vdGUgY2xpZW50LlxuICpcbiAqIEluIGEgY2xpZW50LXNlcnZlciBtb2RlbCwgeW91IHdhbnQgdG8gaGFuZGxlIHRoaXMgZGlmZmVyZW50bHk6IFRoZSBjbGllbnQgc2hvdWxkIGluaXRpYXRlIHRoZSBjb25uZWN0aW9uIHdpdGggU3luY1N0ZXAxLlxuICogV2hlbiB0aGUgc2VydmVyIHJlY2VpdmVzIFN5bmNTdGVwMSwgaXQgc2hvdWxkIHJlcGx5IHdpdGggU3luY1N0ZXAyIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFN5bmNTdGVwMS4gVGhlIGNsaWVudCByZXBsaWVzXG4gKiB3aXRoIFN5bmNTdGVwMiB3aGVuIGl0IHJlY2VpdmVzIFN5bmNTdGVwMS4gT3B0aW9uYWxseSB0aGUgc2VydmVyIG1heSBzZW5kIGEgU3luY0RvbmUgYWZ0ZXIgaXQgcmVjZWl2ZWQgU3luY1N0ZXAyLCBzbyB0aGVcbiAqIGNsaWVudCBrbm93cyB0aGF0IHRoZSBzeW5jIGlzIGZpbmlzaGVkLiAgVGhlcmUgYXJlIHR3byByZWFzb25zIGZvciB0aGlzIG1vcmUgZWxhYm9yYXRlZCBzeW5jIG1vZGVsOiAxLiBUaGlzIHByb3RvY29sIGNhblxuICogZWFzaWx5IGJlIGltcGxlbWVudGVkIG9uIHRvcCBvZiBodHRwIGFuZCB3ZWJzb2NrZXRzLiAyLiBUaGUgc2VydmVyIHNob3VsIG9ubHkgcmVwbHkgdG8gcmVxdWVzdHMsIGFuZCBub3QgaW5pdGlhdGUgdGhlbS5cbiAqIFRoZXJlZm9yZSBpdCBpcyBuZWNlc2FycnkgdGhhdCB0aGUgY2xpZW50IGluaXRpYXRlcyB0aGUgc3luYy5cbiAqXG4gKiBDb25zdHJ1Y3Rpb24gb2YgYSBtZXNzYWdlOlxuICogW21lc3NhZ2VUeXBlIDogdmFyVWludCwgbWVzc2FnZSBkZWZpbml0aW9uLi5dXG4gKlxuICogTm90ZTogQSBtZXNzYWdlIGRvZXMgbm90IGluY2x1ZGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJvb20gbmFtZS4gVGhpcyBtdXN0IHRvIGJlIGhhbmRsZWQgYnkgdGhlIHVwcGVyIGxheWVyIHByb3RvY29sIVxuICpcbiAqIHN0cmluZ2lmeVttZXNzYWdlVHlwZV0gc3RyaW5naWZpZXMgYSBtZXNzYWdlIGRlZmluaXRpb24gKG1lc3NhZ2VUeXBlIGlzIGFscmVhZHkgcmVhZCBmcm9tIHRoZSBidWZmZmVyKVxuICovXG5cbmV4cG9ydCBjb25zdCBtZXNzYWdlWWpzU3luY1N0ZXAxID0gMFxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VZanNTeW5jU3RlcDIgPSAxXG5leHBvcnQgY29uc3QgbWVzc2FnZVlqc1VwZGF0ZSA9IDJcblxuLyoqXG4gKiBDcmVhdGUgYSBzeW5jIHN0ZXAgMSBtZXNzYWdlIGJhc2VkIG9uIHRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBzaGFyZWQgZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIHtlbmNvZGluZy5FbmNvZGVyfSBlbmNvZGVyXG4gKiBAcGFyYW0ge1kuRG9jfSBkb2NcbiAqL1xuZXhwb3J0IGNvbnN0IHdyaXRlU3luY1N0ZXAxID0gKGVuY29kZXIsIGRvYykgPT4ge1xuICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgbWVzc2FnZVlqc1N5bmNTdGVwMSlcbiAgY29uc3Qgc3YgPSBZLmVuY29kZVN0YXRlVmVjdG9yKGRvYylcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50OEFycmF5KGVuY29kZXIsIHN2KVxufVxuXG4vKipcbiAqIEBwYXJhbSB7ZW5jb2RpbmcuRW5jb2Rlcn0gZW5jb2RlclxuICogQHBhcmFtIHtZLkRvY30gZG9jXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IFtlbmNvZGVkU3RhdGVWZWN0b3JdXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZVN5bmNTdGVwMiA9IChlbmNvZGVyLCBkb2MsIGVuY29kZWRTdGF0ZVZlY3RvcikgPT4ge1xuICBlbmNvZGluZy53cml0ZVZhclVpbnQoZW5jb2RlciwgbWVzc2FnZVlqc1N5bmNTdGVwMilcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50OEFycmF5KGVuY29kZXIsIFkuZW5jb2RlU3RhdGVBc1VwZGF0ZShkb2MsIGVuY29kZWRTdGF0ZVZlY3RvcikpXG59XG5cbi8qKlxuICogUmVhZCBTeW5jU3RlcDEgbWVzc2FnZSBhbmQgcmVwbHkgd2l0aCBTeW5jU3RlcDIuXG4gKlxuICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyIFRoZSByZXBseSB0byB0aGUgcmVjZWl2ZWQgbWVzc2FnZVxuICogQHBhcmFtIHtlbmNvZGluZy5FbmNvZGVyfSBlbmNvZGVyIFRoZSByZWNlaXZlZCBtZXNzYWdlXG4gKiBAcGFyYW0ge1kuRG9jfSBkb2NcbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRTeW5jU3RlcDEgPSAoZGVjb2RlciwgZW5jb2RlciwgZG9jKSA9PlxuICB3cml0ZVN5bmNTdGVwMihlbmNvZGVyLCBkb2MsIGRlY29kaW5nLnJlYWRWYXJVaW50OEFycmF5KGRlY29kZXIpKVxuXG4vKipcbiAqIFJlYWQgYW5kIGFwcGx5IFN0cnVjdHMgYW5kIHRoZW4gRGVsZXRlU3RvcmUgdG8gYSB5IGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7ZGVjb2RpbmcuRGVjb2Rlcn0gZGVjb2RlclxuICogQHBhcmFtIHtZLkRvY30gZG9jXG4gKiBAcGFyYW0ge2FueX0gdHJhbnNhY3Rpb25PcmlnaW5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRTeW5jU3RlcDIgPSAoZGVjb2RlciwgZG9jLCB0cmFuc2FjdGlvbk9yaWdpbikgPT4ge1xuICB0cnkge1xuICAgIFkuYXBwbHlVcGRhdGUoZG9jLCBkZWNvZGluZy5yZWFkVmFyVWludDhBcnJheShkZWNvZGVyKSwgdHJhbnNhY3Rpb25PcmlnaW4pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gVGhpcyBjYXRjaGVzIGVycm9ycyB0aGF0IGFyZSB0aHJvd24gYnkgZXZlbnQgaGFuZGxlcnNcbiAgICBjb25zb2xlLmVycm9yKCdDYXVnaHQgZXJyb3Igd2hpbGUgaGFuZGxpbmcgYSBZanMgdXBkYXRlJywgZXJyb3IpXG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2VuY29kaW5nLkVuY29kZXJ9IGVuY29kZXJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gdXBkYXRlXG4gKi9cbmV4cG9ydCBjb25zdCB3cml0ZVVwZGF0ZSA9IChlbmNvZGVyLCB1cGRhdGUpID0+IHtcbiAgZW5jb2Rpbmcud3JpdGVWYXJVaW50KGVuY29kZXIsIG1lc3NhZ2VZanNVcGRhdGUpXG4gIGVuY29kaW5nLndyaXRlVmFyVWludDhBcnJheShlbmNvZGVyLCB1cGRhdGUpXG59XG5cbi8qKlxuICogUmVhZCBhbmQgYXBwbHkgU3RydWN0cyBhbmQgdGhlbiBEZWxldGVTdG9yZSB0byBhIHkgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHtkZWNvZGluZy5EZWNvZGVyfSBkZWNvZGVyXG4gKiBAcGFyYW0ge1kuRG9jfSBkb2NcbiAqIEBwYXJhbSB7YW55fSB0cmFuc2FjdGlvbk9yaWdpblxuICovXG5leHBvcnQgY29uc3QgcmVhZFVwZGF0ZSA9IHJlYWRTeW5jU3RlcDJcblxuLyoqXG4gKiBAcGFyYW0ge2RlY29kaW5nLkRlY29kZXJ9IGRlY29kZXIgQSBtZXNzYWdlIHJlY2VpdmVkIGZyb20gYW5vdGhlciBjbGllbnRcbiAqIEBwYXJhbSB7ZW5jb2RpbmcuRW5jb2Rlcn0gZW5jb2RlciBUaGUgcmVwbHkgbWVzc2FnZS4gV2lsbCBub3QgYmUgc2VudCBpZiBlbXB0eS5cbiAqIEBwYXJhbSB7WS5Eb2N9IGRvY1xuICogQHBhcmFtIHthbnl9IHRyYW5zYWN0aW9uT3JpZ2luXG4gKi9cbmV4cG9ydCBjb25zdCByZWFkU3luY01lc3NhZ2UgPSAoZGVjb2RlciwgZW5jb2RlciwgZG9jLCB0cmFuc2FjdGlvbk9yaWdpbikgPT4ge1xuICBjb25zdCBtZXNzYWdlVHlwZSA9IGRlY29kaW5nLnJlYWRWYXJVaW50KGRlY29kZXIpXG4gIHN3aXRjaCAobWVzc2FnZVR5cGUpIHtcbiAgICBjYXNlIG1lc3NhZ2VZanNTeW5jU3RlcDE6XG4gICAgICByZWFkU3luY1N0ZXAxKGRlY29kZXIsIGVuY29kZXIsIGRvYylcbiAgICAgIGJyZWFrXG4gICAgY2FzZSBtZXNzYWdlWWpzU3luY1N0ZXAyOlxuICAgICAgcmVhZFN5bmNTdGVwMihkZWNvZGVyLCBkb2MsIHRyYW5zYWN0aW9uT3JpZ2luKVxuICAgICAgYnJlYWtcbiAgICBjYXNlIG1lc3NhZ2VZanNVcGRhdGU6XG4gICAgICByZWFkVXBkYXRlKGRlY29kZXIsIGRvYywgdHJhbnNhY3Rpb25PcmlnaW4pXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbWVzc2FnZSB0eXBlJylcbiAgfVxuICByZXR1cm4gbWVzc2FnZVR5cGVcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/y-protocols/sync.js\n"));

/***/ })

}]);